var Qy=Object.defineProperty;var Xy=(t,e,r)=>e in t?Qy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var be=(t,e,r)=>(Xy(t,typeof e!="symbol"?e+"":e,r),r);function Zy(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ep={exports:{}},_a={},tp={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=Symbol.for("react.element"),t0=Symbol.for("react.portal"),r0=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),a0=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),c0=Symbol.for("react.memo"),u0=Symbol.for("react.lazy"),Bd=Symbol.iterator;function d0(t){return t===null||typeof t!="object"?null:(t=Bd&&t[Bd]||t["@@iterator"],typeof t=="function"?t:null)}var rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},np=Object.assign,sp={};function Rs(t,e,r){this.props=t,this.context=e,this.refs=sp,this.updater=r||rp}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function op(){}op.prototype=Rs.prototype;function fu(t,e,r){this.props=t,this.context=e,this.refs=sp,this.updater=r||rp}var hu=fu.prototype=new op;hu.constructor=fu;np(hu,Rs.prototype);hu.isPureReactComponent=!0;var Hd=Array.isArray,ip=Object.prototype.hasOwnProperty,pu={current:null},ap={key:!0,ref:!0,__self:!0,__source:!0};function lp(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)ip.call(e,n)&&!ap.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Fo,type:t,key:o,ref:i,props:s,_owner:pu.current}}function f0(t,e){return{$$typeof:Fo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fo}function h0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Vd=/\/+/g;function sl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h0(""+t.key):e.toString(36)}function Ni(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Fo:case t0:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+sl(i,0):n,Hd(s)?(r="",t!=null&&(r=t.replace(Vd,"$&/")+"/"),Ni(s,e,r,"",function(u){return u})):s!=null&&(mu(s)&&(s=f0(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Vd,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",Hd(t))for(var a=0;a<t.length;a++){o=t[a];var c=n+sl(o,a);i+=Ni(o,e,r,c,s)}else if(c=d0(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=n+sl(o,a++),i+=Ni(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Xo(t,e,r){if(t==null)return t;var n=[],s=0;return Ni(t,n,"","",function(o){return e.call(r,o,s++)}),n}function p0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},ji={transition:null},m0={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:ji,ReactCurrentOwner:pu};function cp(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Xo,forEach:function(t,e,r){Xo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Xo(t,function(){e++}),e},toArray:function(t){return Xo(t,function(e){return e})||[]},only:function(t){if(!mu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Rs;ae.Fragment=r0;ae.Profiler=s0;ae.PureComponent=fu;ae.StrictMode=n0;ae.Suspense=l0;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m0;ae.act=cp;ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=np({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=pu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)ip.call(e,c)&&!ap.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Fo,type:t.type,key:s,ref:o,props:n,_owner:i}};ae.createContext=function(t){return t={$$typeof:i0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:o0,_context:t},t.Consumer=t};ae.createElement=lp;ae.createFactory=function(t){var e=lp.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:a0,render:t}};ae.isValidElement=mu;ae.lazy=function(t){return{$$typeof:u0,_payload:{_status:-1,_result:t},_init:p0}};ae.memo=function(t,e){return{$$typeof:c0,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=ji.transition;ji.transition={};try{t()}finally{ji.transition=e}};ae.unstable_act=cp;ae.useCallback=function(t,e){return et.current.useCallback(t,e)};ae.useContext=function(t){return et.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return et.current.useDeferredValue(t)};ae.useEffect=function(t,e){return et.current.useEffect(t,e)};ae.useId=function(){return et.current.useId()};ae.useImperativeHandle=function(t,e,r){return et.current.useImperativeHandle(t,e,r)};ae.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return et.current.useMemo(t,e)};ae.useReducer=function(t,e,r){return et.current.useReducer(t,e,r)};ae.useRef=function(t){return et.current.useRef(t)};ae.useState=function(t){return et.current.useState(t)};ae.useSyncExternalStore=function(t,e,r){return et.current.useSyncExternalStore(t,e,r)};ae.useTransition=function(){return et.current.useTransition()};ae.version="18.3.1";tp.exports=ae;var w=tp.exports;const $=Zh(w),up=Zy({__proto__:null,default:$},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=w,v0=Symbol.for("react.element"),y0=Symbol.for("react.fragment"),w0=Object.prototype.hasOwnProperty,x0=g0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b0={key:!0,ref:!0,__self:!0,__source:!0};function dp(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)w0.call(e,n)&&!b0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:v0,type:t,key:o,ref:i,props:s,_owner:x0.current}}_a.Fragment=y0;_a.jsx=dp;_a.jsxs=dp;ep.exports=_a;var l=ep.exports,Yl={},fp={exports:{}},St={},hp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,C){var R=j.length;j.push(C);e:for(;0<R;){var U=R-1>>>1,q=j[U];if(0<s(q,C))j[U]=C,j[R]=q,R=U;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var C=j[0],R=j.pop();if(R!==C){j[0]=R;e:for(var U=0,q=j.length,K=q>>>1;U<K;){var Q=2*(U+1)-1,se=j[Q],Z=Q+1,V=j[Z];if(0>s(se,R))Z<q&&0>s(V,se)?(j[U]=V,j[Z]=R,U=Z):(j[U]=se,j[Q]=R,U=Q);else if(Z<q&&0>s(V,R))j[U]=V,j[Z]=R,U=Z;else break e}}return C}function s(j,C){var R=j.sortIndex-C.sortIndex;return R!==0?R:j.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var c=[],u=[],f=1,d=null,h=3,y=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var C=r(u);C!==null;){if(C.callback===null)n(u);else if(C.startTime<=j)n(u),C.sortIndex=C.expirationTime,e(c,C);else break;C=r(u)}}function S(j){if(v=!1,g(j),!x)if(r(c)!==null)x=!0,A(_);else{var C=r(u);C!==null&&M(S,C.startTime-j)}}function _(j,C){x=!1,v&&(v=!1,m(T),T=-1),y=!0;var R=h;try{for(g(C),d=r(c);d!==null&&(!(d.expirationTime>C)||j&&!W());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var q=U(d.expirationTime<=C);C=t.unstable_now(),typeof q=="function"?d.callback=q:d===r(c)&&n(c),g(C)}else n(c);d=r(c)}if(d!==null)var K=!0;else{var Q=r(u);Q!==null&&M(S,Q.startTime-C),K=!1}return K}finally{d=null,h=R,y=!1}}var E=!1,k=null,T=-1,I=5,D=-1;function W(){return!(t.unstable_now()-D<I)}function z(){if(k!==null){var j=t.unstable_now();D=j;var C=!0;try{C=k(!0,j)}finally{C?G():(E=!1,k=null)}}else E=!1}var G;if(typeof p=="function")G=function(){p(z)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,F=P.port2;P.port1.onmessage=z,G=function(){F.postMessage(null)}}else G=function(){b(z,0)};function A(j){k=j,E||(E=!0,G())}function M(j,C){T=b(function(){j(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,A(_))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var R=h;h=C;try{return j()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,C){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var R=h;h=j;try{return C()}finally{h=R}},t.unstable_scheduleCallback=function(j,C,R){var U=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?U+R:U):R=U,j){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=R+q,j={id:f++,callback:C,priorityLevel:j,startTime:R,expirationTime:q,sortIndex:-1},R>U?(j.sortIndex=R,e(u,j),r(c)===null&&j===r(u)&&(v?(m(T),T=-1):v=!0,M(S,R-U))):(j.sortIndex=q,e(c,j),x||y||(x=!0,A(_))),j},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(j){var C=h;return function(){var R=h;h=C;try{return j.apply(this,arguments)}finally{h=R}}}})(pp);hp.exports=pp;var S0=hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0=w,bt=S0;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mp=new Set,wo={};function Tn(t,e){bs(t,e),bs(t+"Capture",e)}function bs(t,e){for(wo[t]=e,t=0;t<e.length;t++)mp.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=Object.prototype.hasOwnProperty,k0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wd={},Gd={};function E0(t){return Jl.call(Gd,t)?!0:Jl.call(Wd,t)?!1:k0.test(t)?Gd[t]=!0:(Wd[t]=!0,!1)}function C0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N0(t,e,r,n){if(e===null||typeof e>"u"||C0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gu=/[\-:]([a-z])/g;function vu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gu,vu);He[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gu,vu);He[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gu,vu);He[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function yu(t,e,r,n){var s=He.hasOwnProperty(e)?He[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N0(e,r,s,n)&&(r=null),n||s===null?E0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var br=_0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zo=Symbol.for("react.element"),Jn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),wu=Symbol.for("react.strict_mode"),Ql=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),vp=Symbol.for("react.context"),xu=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),bu=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),yp=Symbol.for("react.offscreen"),Kd=Symbol.iterator;function Bs(t){return t===null||typeof t!="object"?null:(t=Kd&&t[Kd]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,ol;function Zs(t){if(ol===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ol=e&&e[1]||""}return`
`+ol+t}var il=!1;function al(t,e){if(!t||il)return"";il=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=a);break}}}finally{il=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Zs(t):""}function j0(t){switch(t.tag){case 5:return Zs(t.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return t=al(t.type,!1),t;case 11:return t=al(t.type.render,!1),t;case 1:return t=al(t.type,!0),t;default:return""}}function ec(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qn:return"Fragment";case Jn:return"Portal";case Ql:return"Profiler";case wu:return"StrictMode";case Xl:return"Suspense";case Zl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vp:return(t.displayName||"Context")+".Consumer";case gp:return(t._context.displayName||"Context")+".Provider";case xu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bu:return e=t.displayName||null,e!==null?e:ec(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return ec(t(e))}catch{}}return null}function T0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ec(e);case 8:return e===wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function P0(t){var e=wp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ei(t){t._valueTracker||(t._valueTracker=P0(t))}function xp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=wp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tc(t,e){var r=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function qd(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Wr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bp(t,e){e=e.checked,e!=null&&yu(t,"checked",e,!1)}function rc(t,e){bp(t,e);var r=Wr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nc(t,e.type,r):e.hasOwnProperty("defaultValue")&&nc(t,e.type,Wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yd(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function nc(t,e,r){(e!=="number"||Hi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var eo=Array.isArray;function us(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Wr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jd(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(L(92));if(eo(r)){if(1<r.length)throw Error(L(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Wr(r)}}function Sp(t,e){var r=Wr(e.value),n=Wr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Qd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _p(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_p(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ti,kp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ti.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A0=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(t){A0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oo[e]=oo[t]})});function Ep(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||oo.hasOwnProperty(t)&&oo[t]?(""+e).trim():e+"px"}function Cp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ep(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var R0=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ic(t,e){if(e){if(R0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function ac(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=null;function Su(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cc=null,ds=null,fs=null;function Xd(t){if(t=Bo(t)){if(typeof cc!="function")throw Error(L(280));var e=t.stateNode;e&&(e=ja(e),cc(t.stateNode,t.type,e))}}function Np(t){ds?fs?fs.push(t):fs=[t]:ds=t}function jp(){if(ds){var t=ds,e=fs;if(fs=ds=null,Xd(t),e)for(t=0;t<e.length;t++)Xd(e[t])}}function Tp(t,e){return t(e)}function Pp(){}var ll=!1;function Ap(t,e,r){if(ll)return t(e,r);ll=!0;try{return Tp(t,e,r)}finally{ll=!1,(ds!==null||fs!==null)&&(Pp(),jp())}}function bo(t,e){var r=t.stateNode;if(r===null)return null;var n=ja(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(L(231,e,typeof r));return r}var uc=!1;if(mr)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){uc=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{uc=!1}function O0(t,e,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var io=!1,Vi=null,Wi=!1,dc=null,L0={onError:function(t){io=!0,Vi=t}};function I0(t,e,r,n,s,o,i,a,c){io=!1,Vi=null,O0.apply(L0,arguments)}function $0(t,e,r,n,s,o,i,a,c){if(I0.apply(this,arguments),io){if(io){var u=Vi;io=!1,Vi=null}else throw Error(L(198));Wi||(Wi=!0,dc=u)}}function Pn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Rp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zd(t){if(Pn(t)!==t)throw Error(L(188))}function D0(t){var e=t.alternate;if(!e){if(e=Pn(t),e===null)throw Error(L(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Zd(s),t;if(o===n)return Zd(s),e;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?t:e}function Op(t){return t=D0(t),t!==null?Lp(t):null}function Lp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lp(t);if(e!==null)return e;t=t.sibling}return null}var Ip=bt.unstable_scheduleCallback,ef=bt.unstable_cancelCallback,M0=bt.unstable_shouldYield,F0=bt.unstable_requestPaint,Te=bt.unstable_now,z0=bt.unstable_getCurrentPriorityLevel,_u=bt.unstable_ImmediatePriority,$p=bt.unstable_UserBlockingPriority,Gi=bt.unstable_NormalPriority,U0=bt.unstable_LowPriority,Dp=bt.unstable_IdlePriority,ka=null,tr=null;function B0(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ka,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:W0,H0=Math.log,V0=Math.LN2;function W0(t){return t>>>=0,t===0?32:31-(H0(t)/V0|0)|0}var ri=64,ni=4194304;function to(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ki(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=to(a):(o&=i,o!==0&&(n=to(o)))}else i=r&~s,i!==0?n=to(i):o!==0&&(n=to(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Bt(e),s=1<<r,n|=t[r],e&=~s;return n}function G0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Bt(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=G0(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function fc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mp(){var t=ri;return ri<<=1,!(ri&4194240)&&(ri=64),t}function cl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=r}function q0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Bt(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function ku(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Bt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ue=0;function Fp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zp,Eu,Up,Bp,Hp,hc=!1,si=[],Dr=null,Mr=null,Fr=null,So=new Map,_o=new Map,Ar=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tf(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":So.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(e.pointerId)}}function Vs(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Bo(e),e!==null&&Eu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function J0(t,e,r,n,s){switch(e){case"focusin":return Dr=Vs(Dr,t,e,r,n,s),!0;case"dragenter":return Mr=Vs(Mr,t,e,r,n,s),!0;case"mouseover":return Fr=Vs(Fr,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return So.set(o,Vs(So.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,_o.set(o,Vs(_o.get(o)||null,t,e,r,n,s)),!0}return!1}function Vp(t){var e=pn(t.target);if(e!==null){var r=Pn(e);if(r!==null){if(e=r.tag,e===13){if(e=Rp(r),e!==null){t.blockedOn=e,Hp(t.priority,function(){Up(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ti(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=pc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);lc=n,r.target.dispatchEvent(n),lc=null}else return e=Bo(r),e!==null&&Eu(e),t.blockedOn=r,!1;e.shift()}return!0}function rf(t,e,r){Ti(t)&&r.delete(e)}function Q0(){hc=!1,Dr!==null&&Ti(Dr)&&(Dr=null),Mr!==null&&Ti(Mr)&&(Mr=null),Fr!==null&&Ti(Fr)&&(Fr=null),So.forEach(rf),_o.forEach(rf)}function Ws(t,e){t.blockedOn===e&&(t.blockedOn=null,hc||(hc=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,Q0)))}function ko(t){function e(s){return Ws(s,t)}if(0<si.length){Ws(si[0],t);for(var r=1;r<si.length;r++){var n=si[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Dr!==null&&Ws(Dr,t),Mr!==null&&Ws(Mr,t),Fr!==null&&Ws(Fr,t),So.forEach(e),_o.forEach(e),r=0;r<Ar.length;r++)n=Ar[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)Vp(r),r.blockedOn===null&&Ar.shift()}var hs=br.ReactCurrentBatchConfig,qi=!0;function X0(t,e,r,n){var s=ue,o=hs.transition;hs.transition=null;try{ue=1,Cu(t,e,r,n)}finally{ue=s,hs.transition=o}}function Z0(t,e,r,n){var s=ue,o=hs.transition;hs.transition=null;try{ue=4,Cu(t,e,r,n)}finally{ue=s,hs.transition=o}}function Cu(t,e,r,n){if(qi){var s=pc(t,e,r,n);if(s===null)wl(t,e,n,Yi,r),tf(t,n);else if(J0(s,t,e,r,n))n.stopPropagation();else if(tf(t,n),e&4&&-1<Y0.indexOf(t)){for(;s!==null;){var o=Bo(s);if(o!==null&&zp(o),o=pc(t,e,r,n),o===null&&wl(t,e,n,Yi,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else wl(t,e,n,null,r)}}var Yi=null;function pc(t,e,r,n){if(Yi=null,t=Su(n),t=pn(t),t!==null)if(e=Pn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Rp(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yi=t,null}function Wp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z0()){case _u:return 1;case $p:return 4;case Gi:case U0:return 16;case Dp:return 536870912;default:return 16}default:return 16}}var Ir=null,Nu=null,Pi=null;function Gp(){if(Pi)return Pi;var t,e=Nu,r=e.length,n,s="value"in Ir?Ir.value:Ir.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return Pi=s.slice(t,1<n?1-n:void 0)}function Ai(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function nf(){return!1}function _t(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oi:nf,this.isPropagationStopped=nf,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),e}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=_t(Os),Uo=Ce({},Os,{view:0,detail:0}),ew=_t(Uo),ul,dl,Gs,Ea=Ce({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gs&&(Gs&&t.type==="mousemove"?(ul=t.screenX-Gs.screenX,dl=t.screenY-Gs.screenY):dl=ul=0,Gs=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:dl}}),sf=_t(Ea),tw=Ce({},Ea,{dataTransfer:0}),rw=_t(tw),nw=Ce({},Uo,{relatedTarget:0}),fl=_t(nw),sw=Ce({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),ow=_t(sw),iw=Ce({},Os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aw=_t(iw),lw=Ce({},Os,{data:0}),of=_t(lw),cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dw[t])?!!e[t]:!1}function Tu(){return fw}var hw=Ce({},Uo,{key:function(t){if(t.key){var e=cw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(t){return t.type==="keypress"?Ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pw=_t(hw),mw=Ce({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),af=_t(mw),gw=Ce({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),vw=_t(gw),yw=Ce({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),ww=_t(yw),xw=Ce({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bw=_t(xw),Sw=[9,13,27,32],Pu=mr&&"CompositionEvent"in window,ao=null;mr&&"documentMode"in document&&(ao=document.documentMode);var _w=mr&&"TextEvent"in window&&!ao,Kp=mr&&(!Pu||ao&&8<ao&&11>=ao),lf=String.fromCharCode(32),cf=!1;function qp(t,e){switch(t){case"keyup":return Sw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xn=!1;function kw(t,e){switch(t){case"compositionend":return Yp(e);case"keypress":return e.which!==32?null:(cf=!0,lf);case"textInput":return t=e.data,t===lf&&cf?null:t;default:return null}}function Ew(t,e){if(Xn)return t==="compositionend"||!Pu&&qp(t,e)?(t=Gp(),Pi=Nu=Ir=null,Xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kp&&e.locale!=="ko"?null:e.data;default:return null}}var Cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Cw[t.type]:e==="textarea"}function Jp(t,e,r,n){Np(n),e=Ji(e,"onChange"),0<e.length&&(r=new ju("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var lo=null,Eo=null;function Nw(t){am(t,0)}function Ca(t){var e=ts(t);if(xp(e))return t}function jw(t,e){if(t==="change")return e}var Qp=!1;if(mr){var hl;if(mr){var pl="oninput"in document;if(!pl){var df=document.createElement("div");df.setAttribute("oninput","return;"),pl=typeof df.oninput=="function"}hl=pl}else hl=!1;Qp=hl&&(!document.documentMode||9<document.documentMode)}function ff(){lo&&(lo.detachEvent("onpropertychange",Xp),Eo=lo=null)}function Xp(t){if(t.propertyName==="value"&&Ca(Eo)){var e=[];Jp(e,Eo,t,Su(t)),Ap(Nw,e)}}function Tw(t,e,r){t==="focusin"?(ff(),lo=e,Eo=r,lo.attachEvent("onpropertychange",Xp)):t==="focusout"&&ff()}function Pw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ca(Eo)}function Aw(t,e){if(t==="click")return Ca(e)}function Rw(t,e){if(t==="input"||t==="change")return Ca(e)}function Ow(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vt=typeof Object.is=="function"?Object.is:Ow;function Co(t,e){if(Vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Jl.call(e,s)||!Vt(t[s],e[s]))return!1}return!0}function hf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pf(t,e){var r=hf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hf(r)}}function Zp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function em(){for(var t=window,e=Hi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Hi(t.document)}return e}function Au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lw(t){var e=em(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Zp(r.ownerDocument.documentElement,r)){if(n!==null&&Au(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=pf(r,o);var i=pf(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Iw=mr&&"documentMode"in document&&11>=document.documentMode,Zn=null,mc=null,co=null,gc=!1;function mf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gc||Zn==null||Zn!==Hi(n)||(n=Zn,"selectionStart"in n&&Au(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),co&&Co(co,n)||(co=n,n=Ji(mc,"onSelect"),0<n.length&&(e=new ju("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zn)))}function ii(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var es={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},ml={},tm={};mr&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Na(t){if(ml[t])return ml[t];if(!es[t])return t;var e=es[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in tm)return ml[t]=e[r];return t}var rm=Na("animationend"),nm=Na("animationiteration"),sm=Na("animationstart"),om=Na("transitionend"),im=new Map,gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){im.set(t,e),Tn(e,[t])}for(var gl=0;gl<gf.length;gl++){var vl=gf[gl],$w=vl.toLowerCase(),Dw=vl[0].toUpperCase()+vl.slice(1);Yr($w,"on"+Dw)}Yr(rm,"onAnimationEnd");Yr(nm,"onAnimationIteration");Yr(sm,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(om,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function vf(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$0(n,e,void 0,t),t.currentTarget=null}function am(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;vf(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;vf(s,a,u),o=c}}}if(Wi)throw t=dc,Wi=!1,dc=null,t}function ve(t,e){var r=e[bc];r===void 0&&(r=e[bc]=new Set);var n=t+"__bubble";r.has(n)||(lm(e,t,2,!1),r.add(n))}function yl(t,e,r){var n=0;e&&(n|=4),lm(r,t,n,e)}var ai="_reactListening"+Math.random().toString(36).slice(2);function No(t){if(!t[ai]){t[ai]=!0,mp.forEach(function(r){r!=="selectionchange"&&(Mw.has(r)||yl(r,!1,t),yl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ai]||(e[ai]=!0,yl("selectionchange",!1,e))}}function lm(t,e,r,n){switch(Wp(e)){case 1:var s=X0;break;case 4:s=Z0;break;default:s=Cu}r=s.bind(null,e,r,t),s=void 0,!uc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function wl(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=pn(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Ap(function(){var u=o,f=Su(r),d=[];e:{var h=im.get(t);if(h!==void 0){var y=ju,x=t;switch(t){case"keypress":if(Ai(r)===0)break e;case"keydown":case"keyup":y=pw;break;case"focusin":x="focus",y=fl;break;case"focusout":x="blur",y=fl;break;case"beforeblur":case"afterblur":y=fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=rw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=vw;break;case rm:case nm:case sm:y=ow;break;case om:y=ww;break;case"scroll":y=ew;break;case"wheel":y=bw;break;case"copy":case"cut":case"paste":y=aw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=af}var v=(e&4)!==0,b=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,g;p!==null;){g=p;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=bo(p,m),S!=null&&v.push(jo(p,S,g)))),b)break;p=p.return}0<v.length&&(h=new y(h,x,null,r,f),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&r!==lc&&(x=r.relatedTarget||r.fromElement)&&(pn(x)||x[gr]))break e;if((y||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?pn(x):null,x!==null&&(b=Pn(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(v=sf,S="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=af,S="onPointerLeave",m="onPointerEnter",p="pointer"),b=y==null?h:ts(y),g=x==null?h:ts(x),h=new v(S,p+"leave",y,r,f),h.target=b,h.relatedTarget=g,S=null,pn(f)===u&&(v=new v(m,p+"enter",x,r,f),v.target=g,v.relatedTarget=b,S=v),b=S,y&&x)t:{for(v=y,m=x,p=0,g=v;g;g=$n(g))p++;for(g=0,S=m;S;S=$n(S))g++;for(;0<p-g;)v=$n(v),p--;for(;0<g-p;)m=$n(m),g--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=$n(v),m=$n(m)}v=null}else v=null;y!==null&&yf(d,h,y,v,!1),x!==null&&b!==null&&yf(d,b,x,v,!0)}}e:{if(h=u?ts(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var _=jw;else if(uf(h))if(Qp)_=Rw;else{_=Pw;var E=Tw}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Aw);if(_&&(_=_(t,u))){Jp(d,_,r,f);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&nc(h,"number",h.value)}switch(E=u?ts(u):window,t){case"focusin":(uf(E)||E.contentEditable==="true")&&(Zn=E,mc=u,co=null);break;case"focusout":co=mc=Zn=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,mf(d,r,f);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":mf(d,r,f)}var k;if(Pu)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Xn?qp(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Kp&&r.locale!=="ko"&&(Xn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Xn&&(k=Gp()):(Ir=f,Nu="value"in Ir?Ir.value:Ir.textContent,Xn=!0)),E=Ji(u,T),0<E.length&&(T=new of(T,t,null,r,f),d.push({event:T,listeners:E}),k?T.data=k:(k=Yp(r),k!==null&&(T.data=k)))),(k=_w?kw(t,r):Ew(t,r))&&(u=Ji(u,"onBeforeInput"),0<u.length&&(f=new of("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=k))}am(d,e)})}function jo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ji(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=bo(t,r),o!=null&&n.unshift(jo(t,o,s)),o=bo(t,e),o!=null&&n.push(jo(t,o,s))),t=t.return}return n}function $n(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yf(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=bo(r,o),c!=null&&i.unshift(jo(r,c,a))):s||(c=bo(r,o),c!=null&&i.push(jo(r,c,a)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var Fw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function wf(t){return(typeof t=="string"?t:""+t).replace(Fw,`
`).replace(zw,"")}function li(t,e,r){if(e=wf(e),wf(t)!==e&&r)throw Error(L(425))}function Qi(){}var vc=null,yc=null;function wc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xc=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(t){return xf.resolve(null).then(t).catch(Hw)}:xc;function Hw(t){setTimeout(function(){throw t})}function xl(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ko(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ko(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ls,To="__reactProps$"+Ls,gr="__reactContainer$"+Ls,bc="__reactEvents$"+Ls,Vw="__reactListeners$"+Ls,Ww="__reactHandles$"+Ls;function pn(t){var e=t[Qt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gr]||r[Qt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=bf(t);t!==null;){if(r=t[Qt])return r;t=bf(t)}return e}t=r,r=t.parentNode}return null}function Bo(t){return t=t[Qt]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ts(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function ja(t){return t[To]||null}var Sc=[],rs=-1;function Jr(t){return{current:t}}function ye(t){0>rs||(t.current=Sc[rs],Sc[rs]=null,rs--)}function me(t,e){rs++,Sc[rs]=t.current,t.current=e}var Gr={},Ye=Jr(Gr),ut=Jr(!1),wn=Gr;function Ss(t,e){var r=t.type.contextTypes;if(!r)return Gr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dt(t){return t=t.childContextTypes,t!=null}function Xi(){ye(ut),ye(Ye)}function Sf(t,e,r){if(Ye.current!==Gr)throw Error(L(168));me(Ye,e),me(ut,r)}function cm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(L(108,T0(t)||"Unknown",s));return Ce({},r,n)}function Zi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gr,wn=Ye.current,me(Ye,t),me(ut,ut.current),!0}function _f(t,e,r){var n=t.stateNode;if(!n)throw Error(L(169));r?(t=cm(t,e,wn),n.__reactInternalMemoizedMergedChildContext=t,ye(ut),ye(Ye),me(Ye,t)):ye(ut),me(ut,r)}var dr=null,Ta=!1,bl=!1;function um(t){dr===null?dr=[t]:dr.push(t)}function Gw(t){Ta=!0,um(t)}function Qr(){if(!bl&&dr!==null){bl=!0;var t=0,e=ue;try{var r=dr;for(ue=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}dr=null,Ta=!1}catch(s){throw dr!==null&&(dr=dr.slice(t+1)),Ip(_u,Qr),s}finally{ue=e,bl=!1}}return null}var ns=[],ss=0,ea=null,ta=0,Et=[],Ct=0,xn=null,fr=1,hr="";function cn(t,e){ns[ss++]=ta,ns[ss++]=ea,ea=t,ta=e}function dm(t,e,r){Et[Ct++]=fr,Et[Ct++]=hr,Et[Ct++]=xn,xn=t;var n=fr;t=hr;var s=32-Bt(n)-1;n&=~(1<<s),r+=1;var o=32-Bt(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,fr=1<<32-Bt(e)+s|r<<s|n,hr=o+t}else fr=1<<o|r<<s|n,hr=t}function Ru(t){t.return!==null&&(cn(t,1),dm(t,1,0))}function Ou(t){for(;t===ea;)ea=ns[--ss],ns[ss]=null,ta=ns[--ss],ns[ss]=null;for(;t===xn;)xn=Et[--Ct],Et[Ct]=null,hr=Et[--Ct],Et[Ct]=null,fr=Et[--Ct],Et[Ct]=null}var wt=null,yt=null,Se=!1,zt=null;function fm(t,e){var r=Nt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function kf(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wt=t,yt=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wt=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=xn!==null?{id:fr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Nt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,wt=t,yt=null,!0):!1;default:return!1}}function _c(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kc(t){if(Se){var e=yt;if(e){var r=e;if(!kf(t,e)){if(_c(t))throw Error(L(418));e=zr(r.nextSibling);var n=wt;e&&kf(t,e)?fm(n,r):(t.flags=t.flags&-4097|2,Se=!1,wt=t)}}else{if(_c(t))throw Error(L(418));t.flags=t.flags&-4097|2,Se=!1,wt=t}}}function Ef(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function ci(t){if(t!==wt)return!1;if(!Se)return Ef(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wc(t.type,t.memoizedProps)),e&&(e=yt)){if(_c(t))throw hm(),Error(L(418));for(;e;)fm(t,e),e=zr(e.nextSibling)}if(Ef(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){yt=zr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=wt?zr(t.stateNode.nextSibling):null;return!0}function hm(){for(var t=yt;t;)t=zr(t.nextSibling)}function _s(){yt=wt=null,Se=!1}function Lu(t){zt===null?zt=[t]:zt.push(t)}var Kw=br.ReactCurrentBatchConfig;function Ks(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,t))}return t}function ui(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cf(t){var e=t._init;return e(t._payload)}function pm(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Vr(m,p),m.index=0,m.sibling=null,m}function o(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function i(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,S){return p===null||p.tag!==6?(p=jl(g,m.mode,S),p.return=m,p):(p=s(p,g),p.return=m,p)}function c(m,p,g,S){var _=g.type;return _===Qn?f(m,p,g.props.children,S,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Tr&&Cf(_)===p.type)?(S=s(p,g.props),S.ref=Ks(m,p,g),S.return=m,S):(S=Mi(g.type,g.key,g.props,null,m.mode,S),S.ref=Ks(m,p,g),S.return=m,S)}function u(m,p,g,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Tl(g,m.mode,S),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function f(m,p,g,S,_){return p===null||p.tag!==7?(p=yn(g,m.mode,S,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=jl(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zo:return g=Mi(p.type,p.key,p.props,null,m.mode,g),g.ref=Ks(m,null,p),g.return=m,g;case Jn:return p=Tl(p,m.mode,g),p.return=m,p;case Tr:var S=p._init;return d(m,S(p._payload),g)}if(eo(p)||Bs(p))return p=yn(p,m.mode,g,null),p.return=m,p;ui(m,p)}return null}function h(m,p,g,S){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(m,p,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zo:return g.key===_?c(m,p,g,S):null;case Jn:return g.key===_?u(m,p,g,S):null;case Tr:return _=g._init,h(m,p,_(g._payload),S)}if(eo(g)||Bs(g))return _!==null?null:f(m,p,g,S,null);ui(m,g)}return null}function y(m,p,g,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,a(p,m,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zo:return m=m.get(S.key===null?g:S.key)||null,c(p,m,S,_);case Jn:return m=m.get(S.key===null?g:S.key)||null,u(p,m,S,_);case Tr:var E=S._init;return y(m,p,g,E(S._payload),_)}if(eo(S)||Bs(S))return m=m.get(g)||null,f(p,m,S,_,null);ui(p,S)}return null}function x(m,p,g,S){for(var _=null,E=null,k=p,T=p=0,I=null;k!==null&&T<g.length;T++){k.index>T?(I=k,k=null):I=k.sibling;var D=h(m,k,g[T],S);if(D===null){k===null&&(k=I);break}t&&k&&D.alternate===null&&e(m,k),p=o(D,p,T),E===null?_=D:E.sibling=D,E=D,k=I}if(T===g.length)return r(m,k),Se&&cn(m,T),_;if(k===null){for(;T<g.length;T++)k=d(m,g[T],S),k!==null&&(p=o(k,p,T),E===null?_=k:E.sibling=k,E=k);return Se&&cn(m,T),_}for(k=n(m,k);T<g.length;T++)I=y(k,m,T,g[T],S),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?T:I.key),p=o(I,p,T),E===null?_=I:E.sibling=I,E=I);return t&&k.forEach(function(W){return e(m,W)}),Se&&cn(m,T),_}function v(m,p,g,S){var _=Bs(g);if(typeof _!="function")throw Error(L(150));if(g=_.call(g),g==null)throw Error(L(151));for(var E=_=null,k=p,T=p=0,I=null,D=g.next();k!==null&&!D.done;T++,D=g.next()){k.index>T?(I=k,k=null):I=k.sibling;var W=h(m,k,D.value,S);if(W===null){k===null&&(k=I);break}t&&k&&W.alternate===null&&e(m,k),p=o(W,p,T),E===null?_=W:E.sibling=W,E=W,k=I}if(D.done)return r(m,k),Se&&cn(m,T),_;if(k===null){for(;!D.done;T++,D=g.next())D=d(m,D.value,S),D!==null&&(p=o(D,p,T),E===null?_=D:E.sibling=D,E=D);return Se&&cn(m,T),_}for(k=n(m,k);!D.done;T++,D=g.next())D=y(k,m,T,D.value,S),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?T:D.key),p=o(D,p,T),E===null?_=D:E.sibling=D,E=D);return t&&k.forEach(function(z){return e(m,z)}),Se&&cn(m,T),_}function b(m,p,g,S){if(typeof g=="object"&&g!==null&&g.type===Qn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zo:e:{for(var _=g.key,E=p;E!==null;){if(E.key===_){if(_=g.type,_===Qn){if(E.tag===7){r(m,E.sibling),p=s(E,g.props.children),p.return=m,m=p;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Tr&&Cf(_)===E.type){r(m,E.sibling),p=s(E,g.props),p.ref=Ks(m,E,g),p.return=m,m=p;break e}r(m,E);break}else e(m,E);E=E.sibling}g.type===Qn?(p=yn(g.props.children,m.mode,S,g.key),p.return=m,m=p):(S=Mi(g.type,g.key,g.props,null,m.mode,S),S.ref=Ks(m,p,g),S.return=m,m=S)}return i(m);case Jn:e:{for(E=g.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Tl(g,m.mode,S),p.return=m,m=p}return i(m);case Tr:return E=g._init,b(m,p,E(g._payload),S)}if(eo(g))return x(m,p,g,S);if(Bs(g))return v(m,p,g,S);ui(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=jl(g,m.mode,S),p.return=m,m=p),i(m)):r(m,p)}return b}var ks=pm(!0),mm=pm(!1),ra=Jr(null),na=null,os=null,Iu=null;function $u(){Iu=os=na=null}function Du(t){var e=ra.current;ye(ra),t._currentValue=e}function Ec(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ps(t,e){na=t,Iu=os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function Pt(t){var e=t._currentValue;if(Iu!==t)if(t={context:t,memoizedValue:e,next:null},os===null){if(na===null)throw Error(L(308));os=t,na.dependencies={lanes:0,firstContext:t}}else os=os.next=t;return e}var mn=null;function Mu(t){mn===null?mn=[t]:mn.push(t)}function gm(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Mu(e)):(r.next=s.next,s.next=r),e.interleaved=r,vr(t,n)}function vr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pr=!1;function Fu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,vr(t,r)}return s=n.interleaved,s===null?(e.next=e,Mu(n)):(e.next=s.next,s.next=e),n.interleaved=e,vr(t,r)}function Ri(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ku(t,r)}}function Nf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sa(t,e,r,n){var s=t.updateQueue;Pr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;i=0,f=u=c=null,a=o;do{var h=a.lane,y=a.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(h=e,y=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(y,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(y,d,h):x,h==null)break e;d=Ce({},d,h);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=y,c=d):f=f.next=y,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Sn|=i,t.lanes=i,t.memoizedState=d}}function jf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Ho={},rr=Jr(Ho),Po=Jr(Ho),Ao=Jr(Ho);function gn(t){if(t===Ho)throw Error(L(174));return t}function zu(t,e){switch(me(Ao,e),me(Po,t),me(rr,Ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oc(e,t)}ye(rr),me(rr,e)}function Es(){ye(rr),ye(Po),ye(Ao)}function ym(t){gn(Ao.current);var e=gn(rr.current),r=oc(e,t.type);e!==r&&(me(Po,t),me(rr,r))}function Uu(t){Po.current===t&&(ye(rr),ye(Po))}var ke=Jr(0);function oa(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sl=[];function Bu(){for(var t=0;t<Sl.length;t++)Sl[t]._workInProgressVersionPrimary=null;Sl.length=0}var Oi=br.ReactCurrentDispatcher,_l=br.ReactCurrentBatchConfig,bn=0,Ee=null,Le=null,Me=null,ia=!1,uo=!1,Ro=0,qw=0;function We(){throw Error(L(321))}function Hu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Vt(t[r],e[r]))return!1;return!0}function Vu(t,e,r,n,s,o){if(bn=o,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oi.current=t===null||t.memoizedState===null?Xw:Zw,t=r(n,s),uo){o=0;do{if(uo=!1,Ro=0,25<=o)throw Error(L(301));o+=1,Me=Le=null,e.updateQueue=null,Oi.current=ex,t=r(n,s)}while(uo)}if(Oi.current=aa,e=Le!==null&&Le.next!==null,bn=0,Me=Le=Ee=null,ia=!1,e)throw Error(L(300));return t}function Wu(){var t=Ro!==0;return Ro=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ee.memoizedState=Me=t:Me=Me.next=t,Me}function At(){if(Le===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Me===null?Ee.memoizedState:Me.next;if(e!==null)Me=e,Le=t;else{if(t===null)throw Error(L(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Me===null?Ee.memoizedState=Me=t:Me=Me.next=t}return Me}function Oo(t,e){return typeof e=="function"?e(t):e}function kl(t){var e=At(),r=e.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=t;var n=Le,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var f=u.lane;if((bn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,i=n):c=c.next=d,Ee.lanes|=f,Sn|=f}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,Vt(n,e.memoizedState)||(ct=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Ee.lanes|=o,Sn|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function El(t){var e=At(),r=e.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Vt(o,e.memoizedState)||(ct=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function wm(){}function xm(t,e){var r=Ee,n=At(),s=e(),o=!Vt(n.memoizedState,s);if(o&&(n.memoizedState=s,ct=!0),n=n.queue,Gu(_m.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,Lo(9,Sm.bind(null,r,n,s,e),void 0,null),Fe===null)throw Error(L(349));bn&30||bm(r,e,s)}return s}function bm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Sm(t,e,r,n){e.value=r,e.getSnapshot=n,km(e)&&Em(t)}function _m(t,e,r){return r(function(){km(e)&&Em(t)})}function km(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Vt(t,r)}catch{return!0}}function Em(t){var e=vr(t,1);e!==null&&Ht(e,t,1,-1)}function Tf(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:t},e.queue=t,t=t.dispatch=Qw.bind(null,Ee,t),[e.memoizedState,t]}function Lo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Cm(){return At().memoizedState}function Li(t,e,r,n){var s=Jt();Ee.flags|=t,s.memoizedState=Lo(1|e,r,void 0,n===void 0?null:n)}function Pa(t,e,r,n){var s=At();n=n===void 0?null:n;var o=void 0;if(Le!==null){var i=Le.memoizedState;if(o=i.destroy,n!==null&&Hu(n,i.deps)){s.memoizedState=Lo(e,r,o,n);return}}Ee.flags|=t,s.memoizedState=Lo(1|e,r,o,n)}function Pf(t,e){return Li(8390656,8,t,e)}function Gu(t,e){return Pa(2048,8,t,e)}function Nm(t,e){return Pa(4,2,t,e)}function jm(t,e){return Pa(4,4,t,e)}function Tm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pm(t,e,r){return r=r!=null?r.concat([t]):null,Pa(4,4,Tm.bind(null,e,t),r)}function Ku(){}function Am(t,e){var r=At();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Rm(t,e){var r=At();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Om(t,e,r){return bn&21?(Vt(r,e)||(r=Mp(),Ee.lanes|=r,Sn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=r)}function Yw(t,e){var r=ue;ue=r!==0&&4>r?r:4,t(!0);var n=_l.transition;_l.transition={};try{t(!1),e()}finally{ue=r,_l.transition=n}}function Lm(){return At().memoizedState}function Jw(t,e,r){var n=Hr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Im(t))$m(e,r);else if(r=gm(t,e,r,n),r!==null){var s=Ze();Ht(r,t,n,s),Dm(r,e,n)}}function Qw(t,e,r){var n=Hr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Im(t))$m(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,Vt(a,i)){var c=e.interleaved;c===null?(s.next=s,Mu(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=gm(t,e,s,n),r!==null&&(s=Ze(),Ht(r,t,n,s),Dm(r,e,n))}}function Im(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function $m(t,e){uo=ia=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Dm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ku(t,r)}}var aa={readContext:Pt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Xw={readContext:Pt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Pt,useEffect:Pf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Li(4194308,4,Tm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Li(4194308,4,t,e)},useInsertionEffect:function(t,e){return Li(4,2,t,e)},useMemo:function(t,e){var r=Jt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Jt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Jw.bind(null,Ee,t),[n.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:Tf,useDebugValue:Ku,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Tf(!1),e=t[0];return t=Yw.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ee,s=Jt();if(Se){if(r===void 0)throw Error(L(407));r=r()}else{if(r=e(),Fe===null)throw Error(L(349));bn&30||bm(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,Pf(_m.bind(null,n,o,t),[t]),n.flags|=2048,Lo(9,Sm.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Jt(),e=Fe.identifierPrefix;if(Se){var r=hr,n=fr;r=(n&~(1<<32-Bt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ro++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=qw++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zw={readContext:Pt,useCallback:Am,useContext:Pt,useEffect:Gu,useImperativeHandle:Pm,useInsertionEffect:Nm,useLayoutEffect:jm,useMemo:Rm,useReducer:kl,useRef:Cm,useState:function(){return kl(Oo)},useDebugValue:Ku,useDeferredValue:function(t){var e=At();return Om(e,Le.memoizedState,t)},useTransition:function(){var t=kl(Oo)[0],e=At().memoizedState;return[t,e]},useMutableSource:wm,useSyncExternalStore:xm,useId:Lm,unstable_isNewReconciler:!1},ex={readContext:Pt,useCallback:Am,useContext:Pt,useEffect:Gu,useImperativeHandle:Pm,useInsertionEffect:Nm,useLayoutEffect:jm,useMemo:Rm,useReducer:El,useRef:Cm,useState:function(){return El(Oo)},useDebugValue:Ku,useDeferredValue:function(t){var e=At();return Le===null?e.memoizedState=t:Om(e,Le.memoizedState,t)},useTransition:function(){var t=El(Oo)[0],e=At().memoizedState;return[t,e]},useMutableSource:wm,useSyncExternalStore:xm,useId:Lm,unstable_isNewReconciler:!1};function Dt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Cc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ce({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Aa={isMounted:function(t){return(t=t._reactInternals)?Pn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ze(),s=Hr(t),o=pr(n,s);o.payload=e,r!=null&&(o.callback=r),e=Ur(t,o,s),e!==null&&(Ht(e,t,s,n),Ri(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ze(),s=Hr(t),o=pr(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Ur(t,o,s),e!==null&&(Ht(e,t,s,n),Ri(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ze(),n=Hr(t),s=pr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ur(t,s,n),e!==null&&(Ht(e,t,n,r),Ri(e,t,n))}};function Af(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!Co(r,n)||!Co(s,o):!0}function Mm(t,e,r){var n=!1,s=Gr,o=e.contextType;return typeof o=="object"&&o!==null?o=Pt(o):(s=dt(e)?wn:Ye.current,n=e.contextTypes,o=(n=n!=null)?Ss(t,s):Gr),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Aa,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Rf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Aa.enqueueReplaceState(e,e.state,null)}function Nc(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Fu(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Pt(o):(o=dt(e)?wn:Ye.current,s.context=Ss(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cc(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Aa.enqueueReplaceState(s,s.state,null),sa(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,e){try{var r="",n=e;do r+=j0(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Cl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function jc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var tx=typeof WeakMap=="function"?WeakMap:Map;function Fm(t,e,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ca||(ca=!0,Mc=n),jc(t,e)},r}function zm(t,e,r){r=pr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){jc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){jc(t,e),typeof n!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function Of(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new tx;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=mx.bind(null,t,e,r),e.then(t,t))}function Lf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function If(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pr(-1,1),e.tag=2,Ur(r,e,1))),r.lanes|=1),t)}var rx=br.ReactCurrentOwner,ct=!1;function Xe(t,e,r,n){e.child=t===null?mm(e,null,r,n):ks(e,t.child,r,n)}function $f(t,e,r,n,s){r=r.render;var o=e.ref;return ps(e,s),n=Vu(t,e,r,n,o,s),r=Wu(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yr(t,e,s)):(Se&&r&&Ru(e),e.flags|=1,Xe(t,e,n,s),e.child)}function Df(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!td(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Um(t,e,o,n,s)):(t=Mi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Co,r(i,n)&&t.ref===e.ref)return yr(t,e,s)}return e.flags|=1,t=Vr(o,n),t.ref=e.ref,t.return=e,e.child=t}function Um(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(Co(o,n)&&t.ref===e.ref)if(ct=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,yr(t,e,s)}return Tc(t,e,r,n,s)}function Bm(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(as,mt),mt|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(as,mt),mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,me(as,mt),mt|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,me(as,mt),mt|=n;return Xe(t,e,s,r),e.child}function Hm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Tc(t,e,r,n,s){var o=dt(r)?wn:Ye.current;return o=Ss(e,o),ps(e,s),r=Vu(t,e,r,n,o,s),n=Wu(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yr(t,e,s)):(Se&&n&&Ru(e),e.flags|=1,Xe(t,e,r,s),e.child)}function Mf(t,e,r,n,s){if(dt(r)){var o=!0;Zi(e)}else o=!1;if(ps(e,s),e.stateNode===null)Ii(t,e),Mm(e,r,n),Nc(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=dt(r)?wn:Ye.current,u=Ss(e,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Rf(e,i,n,u),Pr=!1;var h=e.memoizedState;i.state=h,sa(e,n,i,s),c=e.memoizedState,a!==n||h!==c||ut.current||Pr?(typeof f=="function"&&(Cc(e,r,f,n),c=e.memoizedState),(a=Pr||Af(e,r,a,n,h,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,vm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dt(e.type,a),i.props=u,d=e.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=dt(r)?wn:Ye.current,c=Ss(e,c));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||h!==c)&&Rf(e,i,n,c),Pr=!1,h=e.memoizedState,i.state=h,sa(e,n,i,s);var x=e.memoizedState;a!==d||h!==x||ut.current||Pr?(typeof y=="function"&&(Cc(e,r,y,n),x=e.memoizedState),(u=Pr||Af(e,r,u,n,h,x,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),i.props=n,i.state=x,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Pc(t,e,r,n,o,s)}function Pc(t,e,r,n,s,o){Hm(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&_f(e,r,!1),yr(t,e,o);n=e.stateNode,rx.current=e;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=ks(e,t.child,null,o),e.child=ks(e,null,a,o)):Xe(t,e,a,o),e.memoizedState=n.state,s&&_f(e,r,!0),e.child}function Vm(t){var e=t.stateNode;e.pendingContext?Sf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sf(t,e.context,!1),zu(t,e.containerInfo)}function Ff(t,e,r,n,s){return _s(),Lu(s),e.flags|=256,Xe(t,e,r,n),e.child}var Ac={dehydrated:null,treeContext:null,retryLane:0};function Rc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wm(t,e,r){var n=e.pendingProps,s=ke.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(ke,s&1),t===null)return kc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=La(i,n,0,null),t=yn(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Rc(r),e.memoizedState=Ac,t):qu(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nx(t,e,i,n,a,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Vr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Vr(a,o):(o=yn(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?Rc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=Ac,n}return o=t.child,t=o.sibling,n=Vr(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function qu(t,e){return e=La({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function di(t,e,r,n){return n!==null&&Lu(n),ks(e,t.child,null,r),t=qu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nx(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=Cl(Error(L(422))),di(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=La({mode:"visible",children:n.children},s,0,null),o=yn(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&ks(e,t.child,null,i),e.child.memoizedState=Rc(i),e.memoizedState=Ac,o);if(!(e.mode&1))return di(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(L(419)),n=Cl(o,n,void 0),di(t,e,i,n)}if(a=(i&t.childLanes)!==0,ct||a){if(n=Fe,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,vr(t,s),Ht(n,t,s,-1))}return ed(),n=Cl(Error(L(421))),di(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gx.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,yt=zr(s.nextSibling),wt=e,Se=!0,zt=null,t!==null&&(Et[Ct++]=fr,Et[Ct++]=hr,Et[Ct++]=xn,fr=t.id,hr=t.overflow,xn=e),e=qu(e,n.children),e.flags|=4096,e)}function zf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ec(t.return,e,r)}function Nl(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Gm(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(Xe(t,e,n.children,r),n=ke.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zf(t,r,e);else if(t.tag===19)zf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(me(ke,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&oa(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Nl(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oa(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Nl(e,!0,r,null,o);break;case"together":Nl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ii(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Sn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,r=Vr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function sx(t,e,r){switch(e.tag){case 3:Vm(e),_s();break;case 5:ym(e);break;case 1:dt(e.type)&&Zi(e);break;case 4:zu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;me(ra,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(me(ke,ke.current&1),e.flags|=128,null):r&e.child.childLanes?Wm(t,e,r):(me(ke,ke.current&1),t=yr(t,e,r),t!==null?t.sibling:null);me(ke,ke.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Gm(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(ke,ke.current),n)break;return null;case 22:case 23:return e.lanes=0,Bm(t,e,r)}return yr(t,e,r)}var Km,Oc,qm,Ym;Km=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oc=function(){};qm=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,gn(rr.current);var o=null;switch(r){case"input":s=tc(t,s),n=tc(t,n),o=[];break;case"select":s=Ce({},s,{value:void 0}),n=Ce({},n,{value:void 0}),o=[];break;case"textarea":s=sc(t,s),n=sc(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qi)}ic(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",t),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Ym=function(t,e,r,n){r!==n&&(e.flags|=4)};function qs(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ox(t,e,r){var n=e.pendingProps;switch(Ou(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(e),null;case 1:return dt(e.type)&&Xi(),Ge(e),null;case 3:return n=e.stateNode,Es(),ye(ut),ye(Ye),Bu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ci(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zt!==null&&(Uc(zt),zt=null))),Oc(t,e),Ge(e),null;case 5:Uu(e);var s=gn(Ao.current);if(r=e.type,t!==null&&e.stateNode!=null)qm(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(L(166));return Ge(e),null}if(t=gn(rr.current),ci(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Qt]=e,n[To]=o,t=(e.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)ve(ro[s],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":qd(n,o),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ve("invalid",n);break;case"textarea":Jd(n,o),ve("invalid",n)}ic(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&li(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&li(n.textContent,a,t),s=["children",""+a]):wo.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ve("scroll",n)}switch(r){case"input":ei(n),Yd(n,o,!0);break;case"textarea":ei(n),Qd(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Qi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_p(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Qt]=e,t[To]=n,Km(t,e,!1,!1),e.stateNode=t;e:{switch(i=ac(r,n),r){case"dialog":ve("cancel",t),ve("close",t),s=n;break;case"iframe":case"object":case"embed":ve("load",t),s=n;break;case"video":case"audio":for(s=0;s<ro.length;s++)ve(ro[s],t);s=n;break;case"source":ve("error",t),s=n;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=n;break;case"details":ve("toggle",t),s=n;break;case"input":qd(t,n),s=tc(t,n),ve("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ce({},n,{value:void 0}),ve("invalid",t);break;case"textarea":Jd(t,n),s=sc(t,n),ve("invalid",t);break;default:s=n}ic(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Cp(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kp(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&xo(t,c):typeof c=="number"&&xo(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ve("scroll",t):c!=null&&yu(t,o,c,i))}switch(r){case"input":ei(t),Yd(t,n,!1);break;case"textarea":ei(t),Qd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Wr(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?us(t,!!n.multiple,o,!1):n.defaultValue!=null&&us(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ge(e),null;case 6:if(t&&e.stateNode!=null)Ym(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(L(166));if(r=gn(Ao.current),gn(rr.current),ci(e)){if(n=e.stateNode,r=e.memoizedProps,n[Qt]=e,(o=n.nodeValue!==r)&&(t=wt,t!==null))switch(t.tag){case 3:li(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&li(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qt]=e,e.stateNode=n}return Ge(e),null;case 13:if(ye(ke),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&yt!==null&&e.mode&1&&!(e.flags&128))hm(),_s(),e.flags|=98560,o=!1;else if(o=ci(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(L(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Qt]=e}else _s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ge(e),o=!1}else zt!==null&&(Uc(zt),zt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Ie===0&&(Ie=3):ed())),e.updateQueue!==null&&(e.flags|=4),Ge(e),null);case 4:return Es(),Oc(t,e),t===null&&No(e.stateNode.containerInfo),Ge(e),null;case 10:return Du(e.type._context),Ge(e),null;case 17:return dt(e.type)&&Xi(),Ge(e),null;case 19:if(ye(ke),o=e.memoizedState,o===null)return Ge(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)qs(o,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=oa(t),i!==null){for(e.flags|=128,qs(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return me(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Te()>Ns&&(e.flags|=128,n=!0,qs(o,!1),e.lanes=4194304)}else{if(!n)if(t=oa(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),qs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Se)return Ge(e),null}else 2*Te()-o.renderingStartTime>Ns&&r!==1073741824&&(e.flags|=128,n=!0,qs(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Te(),e.sibling=null,r=ke.current,me(ke,n?r&1|2:r&1),e):(Ge(e),null);case 22:case 23:return Zu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?mt&1073741824&&(Ge(e),e.subtreeFlags&6&&(e.flags|=8192)):Ge(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function ix(t,e){switch(Ou(e),e.tag){case 1:return dt(e.type)&&Xi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Es(),ye(ut),ye(Ye),Bu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uu(e),null;case 13:if(ye(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));_s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(ke),null;case 4:return Es(),null;case 10:return Du(e.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var fi=!1,qe=!1,ax=typeof WeakSet=="function"?WeakSet:Set,H=null;function is(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){je(t,e,n)}else r.current=null}function Lc(t,e,r){try{r()}catch(n){je(t,e,n)}}var Uf=!1;function lx(t,e){if(vc=qi,t=em(),Au(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,f=0,d=t,h=null;t:for(;;){for(var y;d!==r||s!==0&&d.nodeType!==3||(a=i+s),d!==o||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===t)break t;if(h===r&&++u===s&&(a=i),h===o&&++f===n&&(c=i),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(yc={focusedElem:t,selectionRange:r},qi=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Dt(e.type,v),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){je(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return x=Uf,Uf=!1,x}function fo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Lc(e,r,o)}s=s.next}while(s!==n)}}function Ra(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ic(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Jm(t){var e=t.alternate;e!==null&&(t.alternate=null,Jm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qt],delete e[To],delete e[bc],delete e[Vw],delete e[Ww])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qm(t){return t.tag===5||t.tag===3||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $c(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Qi));else if(n!==4&&(t=t.child,t!==null))for($c(t,e,r),t=t.sibling;t!==null;)$c(t,e,r),t=t.sibling}function Dc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Dc(t,e,r),t=t.sibling;t!==null;)Dc(t,e,r),t=t.sibling}var Ue=null,Mt=!1;function _r(t,e,r){for(r=r.child;r!==null;)Xm(t,e,r),r=r.sibling}function Xm(t,e,r){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ka,r)}catch{}switch(r.tag){case 5:qe||is(r,e);case 6:var n=Ue,s=Mt;Ue=null,_r(t,e,r),Ue=n,Mt=s,Ue!==null&&(Mt?(t=Ue,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(Mt?(t=Ue,r=r.stateNode,t.nodeType===8?xl(t.parentNode,r):t.nodeType===1&&xl(t,r),ko(t)):xl(Ue,r.stateNode));break;case 4:n=Ue,s=Mt,Ue=r.stateNode.containerInfo,Mt=!0,_r(t,e,r),Ue=n,Mt=s;break;case 0:case 11:case 14:case 15:if(!qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Lc(r,e,i),s=s.next}while(s!==n)}_r(t,e,r);break;case 1:if(!qe&&(is(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){je(r,e,a)}_r(t,e,r);break;case 21:_r(t,e,r);break;case 22:r.mode&1?(qe=(n=qe)||r.memoizedState!==null,_r(t,e,r),qe=n):_r(t,e,r);break;default:_r(t,e,r)}}function Hf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ax),e.forEach(function(n){var s=vx.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Lt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ue=a.stateNode,Mt=!1;break e;case 3:Ue=a.stateNode.containerInfo,Mt=!0;break e;case 4:Ue=a.stateNode.containerInfo,Mt=!0;break e}a=a.return}if(Ue===null)throw Error(L(160));Xm(o,i,s),Ue=null,Mt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zm(e,t),e=e.sibling}function Zm(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),qt(t),n&4){try{fo(3,t,t.return),Ra(3,t)}catch(v){je(t,t.return,v)}try{fo(5,t,t.return)}catch(v){je(t,t.return,v)}}break;case 1:Lt(e,t),qt(t),n&512&&r!==null&&is(r,r.return);break;case 5:if(Lt(e,t),qt(t),n&512&&r!==null&&is(r,r.return),t.flags&32){var s=t.stateNode;try{xo(s,"")}catch(v){je(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&bp(s,o),ac(a,i);var u=ac(a,o);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];f==="style"?Cp(s,d):f==="dangerouslySetInnerHTML"?kp(s,d):f==="children"?xo(s,d):yu(s,f,d,u)}switch(a){case"input":rc(s,o);break;case"textarea":Sp(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?us(s,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?us(s,!!o.multiple,o.defaultValue,!0):us(s,!!o.multiple,o.multiple?[]:"",!1))}s[To]=o}catch(v){je(t,t.return,v)}}break;case 6:if(Lt(e,t),qt(t),n&4){if(t.stateNode===null)throw Error(L(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){je(t,t.return,v)}}break;case 3:if(Lt(e,t),qt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ko(e.containerInfo)}catch(v){je(t,t.return,v)}break;case 4:Lt(e,t),qt(t);break;case 13:Lt(e,t),qt(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Qu=Te())),n&4&&Hf(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(qe=(u=qe)||f,Lt(e,t),qe=u):Lt(e,t),qt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(H=t,f=t.child;f!==null;){for(d=H=f;H!==null;){switch(h=H,y=h.child,h.tag){case 0:case 11:case 14:case 15:fo(4,h,h.return);break;case 1:is(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){je(n,r,v)}}break;case 5:is(h,h.return);break;case 22:if(h.memoizedState!==null){Wf(d);continue}}y!==null?(y.return=h,H=y):Wf(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ep("display",i))}catch(v){je(t,t.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){je(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lt(e,t),qt(t),n&4&&Hf(t);break;case 21:break;default:Lt(e,t),qt(t)}}function qt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Qm(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xo(s,""),n.flags&=-33);var o=Bf(t);Dc(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Bf(t);$c(t,a,i);break;default:throw Error(L(161))}}catch(c){je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cx(t,e,r){H=t,eg(t)}function eg(t,e,r){for(var n=(t.mode&1)!==0;H!==null;){var s=H,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||fi;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||qe;a=fi;var u=qe;if(fi=i,(qe=c)&&!u)for(H=s;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?Gf(s):c!==null?(c.return=i,H=c):Gf(s);for(;o!==null;)H=o,eg(o),o=o.sibling;H=s,fi=a,qe=u}Vf(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,H=o):Vf(t)}}function Vf(t){for(;H!==null;){var e=H;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||Ra(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Dt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&jf(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}jf(e,i,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ko(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}qe||e.flags&512&&Ic(e)}catch(h){je(e,e.return,h)}}if(e===t){H=null;break}if(r=e.sibling,r!==null){r.return=e.return,H=r;break}H=e.return}}function Wf(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var r=e.sibling;if(r!==null){r.return=e.return,H=r;break}H=e.return}}function Gf(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ra(4,e)}catch(c){je(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){je(e,s,c)}}var o=e.return;try{Ic(e)}catch(c){je(e,o,c)}break;case 5:var i=e.return;try{Ic(e)}catch(c){je(e,i,c)}}}catch(c){je(e,e.return,c)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var ux=Math.ceil,la=br.ReactCurrentDispatcher,Yu=br.ReactCurrentOwner,jt=br.ReactCurrentBatchConfig,ce=0,Fe=null,Ae=null,Be=0,mt=0,as=Jr(0),Ie=0,Io=null,Sn=0,Oa=0,Ju=0,ho=null,it=null,Qu=0,Ns=1/0,lr=null,ca=!1,Mc=null,Br=null,hi=!1,$r=null,ua=0,po=0,Fc=null,$i=-1,Di=0;function Ze(){return ce&6?Te():$i!==-1?$i:$i=Te()}function Hr(t){return t.mode&1?ce&2&&Be!==0?Be&-Be:Kw.transition!==null?(Di===0&&(Di=Mp()),Di):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Wp(t.type)),t):1}function Ht(t,e,r,n){if(50<po)throw po=0,Fc=null,Error(L(185));zo(t,r,n),(!(ce&2)||t!==Fe)&&(t===Fe&&(!(ce&2)&&(Oa|=r),Ie===4&&Rr(t,Be)),ft(t,n),r===1&&ce===0&&!(e.mode&1)&&(Ns=Te()+500,Ta&&Qr()))}function ft(t,e){var r=t.callbackNode;K0(t,e);var n=Ki(t,t===Fe?Be:0);if(n===0)r!==null&&ef(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ef(r),e===1)t.tag===0?Gw(Kf.bind(null,t)):um(Kf.bind(null,t)),Bw(function(){!(ce&6)&&Qr()}),r=null;else{switch(Fp(n)){case 1:r=_u;break;case 4:r=$p;break;case 16:r=Gi;break;case 536870912:r=Dp;break;default:r=Gi}r=lg(r,tg.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function tg(t,e){if($i=-1,Di=0,ce&6)throw Error(L(327));var r=t.callbackNode;if(ms()&&t.callbackNode!==r)return null;var n=Ki(t,t===Fe?Be:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=da(t,n);else{e=n;var s=ce;ce|=2;var o=ng();(Fe!==t||Be!==e)&&(lr=null,Ns=Te()+500,vn(t,e));do try{hx();break}catch(a){rg(t,a)}while(1);$u(),la.current=o,ce=s,Ae!==null?e=0:(Fe=null,Be=0,e=Ie)}if(e!==0){if(e===2&&(s=fc(t),s!==0&&(n=s,e=zc(t,s))),e===1)throw r=Io,vn(t,0),Rr(t,n),ft(t,Te()),r;if(e===6)Rr(t,n);else{if(s=t.current.alternate,!(n&30)&&!dx(s)&&(e=da(t,n),e===2&&(o=fc(t),o!==0&&(n=o,e=zc(t,o))),e===1))throw r=Io,vn(t,0),Rr(t,n),ft(t,Te()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(L(345));case 2:un(t,it,lr);break;case 3:if(Rr(t,n),(n&130023424)===n&&(e=Qu+500-Te(),10<e)){if(Ki(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ze(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xc(un.bind(null,t,it,lr),e);break}un(t,it,lr);break;case 4:if(Rr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-Bt(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ux(n/1960))-n,10<n){t.timeoutHandle=xc(un.bind(null,t,it,lr),n);break}un(t,it,lr);break;case 5:un(t,it,lr);break;default:throw Error(L(329))}}}return ft(t,Te()),t.callbackNode===r?tg.bind(null,t):null}function zc(t,e){var r=ho;return t.current.memoizedState.isDehydrated&&(vn(t,e).flags|=256),t=da(t,e),t!==2&&(e=it,it=r,e!==null&&Uc(e)),t}function Uc(t){it===null?it=t:it.push.apply(it,t)}function dx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Vt(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~Ju,e&=~Oa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Bt(e),n=1<<r;t[r]=-1,e&=~n}}function Kf(t){if(ce&6)throw Error(L(327));ms();var e=Ki(t,0);if(!(e&1))return ft(t,Te()),null;var r=da(t,e);if(t.tag!==0&&r===2){var n=fc(t);n!==0&&(e=n,r=zc(t,n))}if(r===1)throw r=Io,vn(t,0),Rr(t,e),ft(t,Te()),r;if(r===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,un(t,it,lr),ft(t,Te()),null}function Xu(t,e){var r=ce;ce|=1;try{return t(e)}finally{ce=r,ce===0&&(Ns=Te()+500,Ta&&Qr())}}function _n(t){$r!==null&&$r.tag===0&&!(ce&6)&&ms();var e=ce;ce|=1;var r=jt.transition,n=ue;try{if(jt.transition=null,ue=1,t)return t()}finally{ue=n,jt.transition=r,ce=e,!(ce&6)&&Qr()}}function Zu(){mt=as.current,ye(as)}function vn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Uw(r)),Ae!==null)for(r=Ae.return;r!==null;){var n=r;switch(Ou(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xi();break;case 3:Es(),ye(ut),ye(Ye),Bu();break;case 5:Uu(n);break;case 4:Es();break;case 13:ye(ke);break;case 19:ye(ke);break;case 10:Du(n.type._context);break;case 22:case 23:Zu()}r=r.return}if(Fe=t,Ae=t=Vr(t.current,null),Be=mt=e,Ie=0,Io=null,Ju=Oa=Sn=0,it=ho=null,mn!==null){for(e=0;e<mn.length;e++)if(r=mn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}mn=null}return t}function rg(t,e){do{var r=Ae;try{if($u(),Oi.current=aa,ia){for(var n=Ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ia=!1}if(bn=0,Me=Le=Ee=null,uo=!1,Ro=0,Yu.current=null,r===null||r.return===null){Ie=1,Io=e,Ae=null;break}e:{var o=t,i=r.return,a=r,c=e;if(e=Be,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Lf(i);if(y!==null){y.flags&=-257,If(y,i,a,o,e),y.mode&1&&Of(o,u,e),e=y,c=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(c),e.updateQueue=v}else x.add(c);break e}else{if(!(e&1)){Of(o,u,e),ed();break e}c=Error(L(426))}}else if(Se&&a.mode&1){var b=Lf(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),If(b,i,a,o,e),Lu(Cs(c,a));break e}}o=c=Cs(c,a),Ie!==4&&(Ie=2),ho===null?ho=[o]:ho.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Fm(o,c,e);Nf(o,m);break e;case 1:a=c;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Br===null||!Br.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=zm(o,a,e);Nf(o,S);break e}}o=o.return}while(o!==null)}og(r)}catch(_){e=_,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(1)}function ng(){var t=la.current;return la.current=aa,t===null?aa:t}function ed(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Fe===null||!(Sn&268435455)&&!(Oa&268435455)||Rr(Fe,Be)}function da(t,e){var r=ce;ce|=2;var n=ng();(Fe!==t||Be!==e)&&(lr=null,vn(t,e));do try{fx();break}catch(s){rg(t,s)}while(1);if($u(),ce=r,la.current=n,Ae!==null)throw Error(L(261));return Fe=null,Be=0,Ie}function fx(){for(;Ae!==null;)sg(Ae)}function hx(){for(;Ae!==null&&!M0();)sg(Ae)}function sg(t){var e=ag(t.alternate,t,mt);t.memoizedProps=t.pendingProps,e===null?og(t):Ae=e,Yu.current=null}function og(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ix(r,e),r!==null){r.flags&=32767,Ae=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,Ae=null;return}}else if(r=ox(r,e,mt),r!==null){Ae=r;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);Ie===0&&(Ie=5)}function un(t,e,r){var n=ue,s=jt.transition;try{jt.transition=null,ue=1,px(t,e,r,n)}finally{jt.transition=s,ue=n}return null}function px(t,e,r,n){do ms();while($r!==null);if(ce&6)throw Error(L(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(q0(t,o),t===Fe&&(Ae=Fe=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hi||(hi=!0,lg(Gi,function(){return ms(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var i=ue;ue=1;var a=ce;ce|=4,Yu.current=null,lx(t,r),Zm(r,t),Lw(yc),qi=!!vc,yc=vc=null,t.current=r,cx(r),F0(),ce=a,ue=i,jt.transition=o}else t.current=r;if(hi&&(hi=!1,$r=t,ua=s),o=t.pendingLanes,o===0&&(Br=null),B0(r.stateNode),ft(t,Te()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ca)throw ca=!1,t=Mc,Mc=null,t;return ua&1&&t.tag!==0&&ms(),o=t.pendingLanes,o&1?t===Fc?po++:(po=0,Fc=t):po=0,Qr(),null}function ms(){if($r!==null){var t=Fp(ua),e=jt.transition,r=ue;try{if(jt.transition=null,ue=16>t?16:t,$r===null)var n=!1;else{if(t=$r,$r=null,ua=0,ce&6)throw Error(L(331));var s=ce;for(ce|=4,H=t.current;H!==null;){var o=H,i=o.child;if(H.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(H=u;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:fo(8,f,o)}var d=f.child;if(d!==null)d.return=f,H=d;else for(;H!==null;){f=H;var h=f.sibling,y=f.return;if(Jm(f),f===u){H=null;break}if(h!==null){h.return=y,H=h;break}H=y}}}var x=o.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}H=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,H=i;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,H=m;break e}H=o.return}}var p=t.current;for(H=p;H!==null;){i=H;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,H=g;else e:for(i=p;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ra(9,a)}}catch(_){je(a,a.return,_)}if(a===i){H=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,H=S;break e}H=a.return}}if(ce=s,Qr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ka,t)}catch{}n=!0}return n}finally{ue=r,jt.transition=e}}return!1}function qf(t,e,r){e=Cs(r,e),e=Fm(t,e,1),t=Ur(t,e,1),e=Ze(),t!==null&&(zo(t,1,e),ft(t,e))}function je(t,e,r){if(t.tag===3)qf(t,t,r);else for(;e!==null;){if(e.tag===3){qf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Br===null||!Br.has(n))){t=Cs(r,t),t=zm(e,t,1),e=Ur(e,t,1),t=Ze(),e!==null&&(zo(e,1,t),ft(e,t));break}}e=e.return}}function mx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&r,Fe===t&&(Be&r)===r&&(Ie===4||Ie===3&&(Be&130023424)===Be&&500>Te()-Qu?vn(t,0):Ju|=r),ft(t,e)}function ig(t,e){e===0&&(t.mode&1?(e=ni,ni<<=1,!(ni&130023424)&&(ni=4194304)):e=1);var r=Ze();t=vr(t,e),t!==null&&(zo(t,e,r),ft(t,r))}function gx(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ig(t,r)}function vx(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(e),ig(t,r)}var ag;ag=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ut.current)ct=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ct=!1,sx(t,e,r);ct=!!(t.flags&131072)}else ct=!1,Se&&e.flags&1048576&&dm(e,ta,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ii(t,e),t=e.pendingProps;var s=Ss(e,Ye.current);ps(e,r),s=Vu(null,e,n,t,s,r);var o=Wu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(n)?(o=!0,Zi(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fu(e),s.updater=Aa,e.stateNode=s,s._reactInternals=e,Nc(e,n,t,r),e=Pc(null,e,n,!0,o,r)):(e.tag=0,Se&&o&&Ru(e),Xe(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ii(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=wx(n),t=Dt(n,t),s){case 0:e=Tc(null,e,n,t,r);break e;case 1:e=Mf(null,e,n,t,r);break e;case 11:e=$f(null,e,n,t,r);break e;case 14:e=Df(null,e,n,Dt(n.type,t),r);break e}throw Error(L(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Dt(n,s),Tc(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Dt(n,s),Mf(t,e,n,s,r);case 3:e:{if(Vm(e),t===null)throw Error(L(387));n=e.pendingProps,o=e.memoizedState,s=o.element,vm(t,e),sa(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Cs(Error(L(423)),e),e=Ff(t,e,n,r,s);break e}else if(n!==s){s=Cs(Error(L(424)),e),e=Ff(t,e,n,r,s);break e}else for(yt=zr(e.stateNode.containerInfo.firstChild),wt=e,Se=!0,zt=null,r=mm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_s(),n===s){e=yr(t,e,r);break e}Xe(t,e,n,r)}e=e.child}return e;case 5:return ym(e),t===null&&kc(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,wc(n,s)?i=null:o!==null&&wc(n,o)&&(e.flags|=32),Hm(t,e),Xe(t,e,i,r),e.child;case 6:return t===null&&kc(e),null;case 13:return Wm(t,e,r);case 4:return zu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ks(e,null,n,r):Xe(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Dt(n,s),$f(t,e,n,s,r);case 7:return Xe(t,e,e.pendingProps,r),e.child;case 8:return Xe(t,e,e.pendingProps.children,r),e.child;case 12:return Xe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,me(ra,n._currentValue),n._currentValue=i,o!==null)if(Vt(o.value,i)){if(o.children===s.children&&!ut.current){e=yr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=pr(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Ec(o.return,r,e),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ec(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Xe(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ps(e,r),s=Pt(s),n=n(s),e.flags|=1,Xe(t,e,n,r),e.child;case 14:return n=e.type,s=Dt(n,e.pendingProps),s=Dt(n.type,s),Df(t,e,n,s,r);case 15:return Um(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Dt(n,s),Ii(t,e),e.tag=1,dt(n)?(t=!0,Zi(e)):t=!1,ps(e,r),Mm(e,n,s),Nc(e,n,s,r),Pc(null,e,n,!0,t,r);case 19:return Gm(t,e,r);case 22:return Bm(t,e,r)}throw Error(L(156,e.tag))};function lg(t,e){return Ip(t,e)}function yx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,r,n){return new yx(t,e,r,n)}function td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wx(t){if(typeof t=="function")return td(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xu)return 11;if(t===bu)return 14}return 2}function Vr(t,e){var r=t.alternate;return r===null?(r=Nt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Mi(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")td(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Qn:return yn(r.children,s,o,e);case wu:i=8,s|=8;break;case Ql:return t=Nt(12,r,e,s|2),t.elementType=Ql,t.lanes=o,t;case Xl:return t=Nt(13,r,e,s),t.elementType=Xl,t.lanes=o,t;case Zl:return t=Nt(19,r,e,s),t.elementType=Zl,t.lanes=o,t;case yp:return La(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gp:i=10;break e;case vp:i=9;break e;case xu:i=11;break e;case bu:i=14;break e;case Tr:i=16,n=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Nt(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function yn(t,e,r,n){return t=Nt(7,t,n,e),t.lanes=r,t}function La(t,e,r,n){return t=Nt(22,t,n,e),t.elementType=yp,t.lanes=r,t.stateNode={isHidden:!1},t}function jl(t,e,r){return t=Nt(6,t,null,e),t.lanes=r,t}function Tl(t,e,r){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xx(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rd(t,e,r,n,s,o,i,a,c){return t=new xx(t,e,r,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Nt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(o),t}function bx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function cg(t){if(!t)return Gr;t=t._reactInternals;e:{if(Pn(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var r=t.type;if(dt(r))return cm(t,r,e)}return e}function ug(t,e,r,n,s,o,i,a,c){return t=rd(r,n,!0,t,s,o,i,a,c),t.context=cg(null),r=t.current,n=Ze(),s=Hr(r),o=pr(n,s),o.callback=e??null,Ur(r,o,s),t.current.lanes=s,zo(t,s,n),ft(t,n),t}function Ia(t,e,r,n){var s=e.current,o=Ze(),i=Hr(s);return r=cg(r),e.context===null?e.context=r:e.pendingContext=r,e=pr(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ur(s,e,i),t!==null&&(Ht(t,s,i,o),Ri(t,s,i)),i}function fa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function nd(t,e){Yf(t,e),(t=t.alternate)&&Yf(t,e)}function Sx(){return null}var dg=typeof reportError=="function"?reportError:function(t){console.error(t)};function sd(t){this._internalRoot=t}$a.prototype.render=sd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Ia(t,e,null,null)};$a.prototype.unmount=sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_n(function(){Ia(null,t,null,null)}),e[gr]=null}};function $a(t){this._internalRoot=t}$a.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ar.length&&e!==0&&e<Ar[r].priority;r++);Ar.splice(r,0,t),r===0&&Vp(t)}};function od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Da(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jf(){}function _x(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=fa(i);o.call(u)}}var i=ug(e,n,t,0,null,!1,!1,"",Jf);return t._reactRootContainer=i,t[gr]=i.current,No(t.nodeType===8?t.parentNode:t),_n(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=fa(c);a.call(u)}}var c=rd(t,0,!1,null,null,!1,!1,"",Jf);return t._reactRootContainer=c,t[gr]=c.current,No(t.nodeType===8?t.parentNode:t),_n(function(){Ia(e,c,r,n)}),c}function Ma(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=fa(i);a.call(c)}}Ia(e,i,t,s)}else i=_x(r,e,t,s,n);return fa(i)}zp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=to(e.pendingLanes);r!==0&&(ku(e,r|1),ft(e,Te()),!(ce&6)&&(Ns=Te()+500,Qr()))}break;case 13:_n(function(){var n=vr(t,1);if(n!==null){var s=Ze();Ht(n,t,1,s)}}),nd(t,1)}};Eu=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var r=Ze();Ht(e,t,134217728,r)}nd(t,134217728)}};Up=function(t){if(t.tag===13){var e=Hr(t),r=vr(t,e);if(r!==null){var n=Ze();Ht(r,t,e,n)}nd(t,e)}};Bp=function(){return ue};Hp=function(t,e){var r=ue;try{return ue=t,e()}finally{ue=r}};cc=function(t,e,r){switch(e){case"input":if(rc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ja(n);if(!s)throw Error(L(90));xp(n),rc(n,s)}}}break;case"textarea":Sp(t,r);break;case"select":e=r.value,e!=null&&us(t,!!r.multiple,e,!1)}};Tp=Xu;Pp=_n;var kx={usingClientEntryPoint:!1,Events:[Bo,ts,ja,Np,jp,Xu]},Ys={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ex={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Op(t),t===null?null:t.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||Sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{ka=pi.inject(Ex),tr=pi}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kx;St.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(e))throw Error(L(200));return bx(t,e,null,r)};St.createRoot=function(t,e){if(!od(t))throw Error(L(299));var r=!1,n="",s=dg;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rd(t,1,!1,null,null,r,!1,n,s),t[gr]=e.current,No(t.nodeType===8?t.parentNode:t),new sd(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Op(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return _n(t)};St.hydrate=function(t,e,r){if(!Da(e))throw Error(L(200));return Ma(null,t,e,!0,r)};St.hydrateRoot=function(t,e,r){if(!od(t))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=dg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=ug(e,null,t,1,r??null,s,!1,o,i),t[gr]=e.current,No(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new $a(e)};St.render=function(t,e,r){if(!Da(e))throw Error(L(200));return Ma(null,t,e,!1,r)};St.unmountComponentAtNode=function(t){if(!Da(t))throw Error(L(40));return t._reactRootContainer?(_n(function(){Ma(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};St.unstable_batchedUpdates=Xu;St.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Da(r))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Ma(t,e,r,!1,n)};St.version="18.3.1-next-f1338f8080-20240426";function fg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fg)}catch(t){console.error(t)}}fg(),fp.exports=St;var Is=fp.exports;const hg=Zh(Is);var Qf=Is;Yl.createRoot=Qf.createRoot,Yl.hydrateRoot=Qf.hydrateRoot;function Xf(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pg(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Xf(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Xf(t[s],null)}}}}function Ne(...t){return w.useCallback(pg(...t),t)}function js(t){const e=Cx(t),r=w.forwardRef((n,s)=>{const{children:o,...i}=n,a=w.Children.toArray(o),c=a.find(jx);if(c){const u=c.props.children,f=a.map(d=>d===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:d);return l.jsx(e,{...i,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,f):null})}return l.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var mg=js("Slot");function Cx(t){const e=w.forwardRef((r,n)=>{const{children:s,...o}=r;if(w.isValidElement(s)){const i=Px(s),a=Tx(o,s.props);return s.type!==w.Fragment&&(a.ref=n?pg(n,i):i),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Nx=Symbol("radix.slottable");function jx(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Nx}function Tx(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Px(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function gg(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=gg(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vg(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=gg(t))&&(n&&(n+=" "),n+=e);return n}const Zf=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,eh=vg,id=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return eh(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=o==null?void 0:o[u];if(f===null)return null;const h=Zf(f)||Zf(d);return s[u][h]}),a=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...y}=f;return Object.entries(y).every(x=>{let[v,b]=x;return Array.isArray(b)?b.includes({...o,...a}[v]):{...o,...a}[v]===b})?[...u,d,h]:u},[]);return eh(t,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},ad="-",Ax=t=>{const e=Ox(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const a=i.split(ad);return a[0]===""&&a.length!==1&&a.shift(),yg(a,e)||Rx(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},yg=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?yg(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(ad);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},th=/^\[(.+)\]$/,Rx=t=>{if(th.test(t)){const e=th.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Ox=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Ix(Object.entries(t.classGroups),r).forEach(([o,i])=>{Bc(i,n,o,e)}),n},Bc=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:rh(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(Lx(s)){Bc(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Bc(i,rh(e,o),r,n)})})},rh=(t,e)=>{let r=t;return e.split(ad).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Lx=t=>t.isThemeGetter,Ix=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,s]}):t,$x=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},wg="!",Dx=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=a=>{const c=[];let u=0,f=0,d;for(let b=0;b<a.length;b++){let m=a[b];if(u===0){if(m===s&&(n||a.slice(b,b+o)===e)){c.push(a.slice(f,b)),f=b+o;continue}if(m==="/"){d=b;continue}}m==="["?u++:m==="]"&&u--}const h=c.length===0?a:a.substring(f),y=h.startsWith(wg),x=y?h.substring(1):h,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:i}):i},Mx=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Fx=t=>({cache:$x(t.cacheSize),parseClassName:Dx(t),...Ax(t)}),zx=/\s+/,Ux=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(zx);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:y}=r(u);let x=!!y,v=n(x?h.substring(0,y):h);if(!v){if(!x){a=u+(a.length>0?" "+a:a);continue}if(v=n(h),!v){a=u+(a.length>0?" "+a:a);continue}x=!1}const b=Mx(f).join(":"),m=d?b+wg:b,p=m+v;if(o.includes(p))continue;o.push(p);const g=s(v,x);for(let S=0;S<g.length;++S){const _=g[S];o.push(m+_)}a=u+(a.length>0?" "+a:a)}return a};function Bx(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=xg(e))&&(n&&(n+=" "),n+=r);return n}const xg=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=xg(t[n]))&&(r&&(r+=" "),r+=e);return r};function Hx(t,...e){let r,n,s,o=i;function i(c){const u=e.reduce((f,d)=>d(f),t());return r=Fx(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const f=Ux(c,r);return s(c,f),f}return function(){return o(Bx.apply(null,arguments))}}const ge=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},bg=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vx=/^\d+\/\d+$/,Wx=new Set(["px","full","screen"]),Gx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ir=t=>gs(t)||Wx.has(t)||Vx.test(t),kr=t=>$s(t,"length",sb),gs=t=>!!t&&!Number.isNaN(Number(t)),Pl=t=>$s(t,"number",gs),Js=t=>!!t&&Number.isInteger(Number(t)),Qx=t=>t.endsWith("%")&&gs(t.slice(0,-1)),ne=t=>bg.test(t),Er=t=>Gx.test(t),Xx=new Set(["length","size","percentage"]),Zx=t=>$s(t,Xx,Sg),eb=t=>$s(t,"position",Sg),tb=new Set(["image","url"]),rb=t=>$s(t,tb,ib),nb=t=>$s(t,"",ob),Qs=()=>!0,$s=(t,e,r)=>{const n=bg.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},sb=t=>Kx.test(t)&&!qx.test(t),Sg=()=>!1,ob=t=>Yx.test(t),ib=t=>Jx.test(t),ab=()=>{const t=ge("colors"),e=ge("spacing"),r=ge("blur"),n=ge("brightness"),s=ge("borderColor"),o=ge("borderRadius"),i=ge("borderSpacing"),a=ge("borderWidth"),c=ge("contrast"),u=ge("grayscale"),f=ge("hueRotate"),d=ge("invert"),h=ge("gap"),y=ge("gradientColorStops"),x=ge("gradientColorStopPositions"),v=ge("inset"),b=ge("margin"),m=ge("opacity"),p=ge("padding"),g=ge("saturate"),S=ge("scale"),_=ge("sepia"),E=ge("skew"),k=ge("space"),T=ge("translate"),I=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",ne,e],z=()=>[ne,e],G=()=>["",ir,kr],P=()=>["auto",gs,ne],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],C=()=>["","0",ne],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[gs,ne];return{cacheSize:500,separator:":",theme:{colors:[Qs],spacing:[ir,kr],blur:["none","",Er,ne],brightness:U(),borderColor:[t],borderRadius:["none","","full",Er,ne],borderSpacing:z(),borderWidth:G(),contrast:U(),grayscale:C(),hueRotate:U(),invert:C(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[Qx,kr],inset:W(),margin:W(),opacity:U(),padding:z(),saturate:U(),scale:U(),sepia:C(),skew:U(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[Er]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ne]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Js,ne]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",Js,ne]}],"grid-cols":[{"grid-cols":[Qs]}],"col-start-end":[{col:["auto",{span:["full",Js,ne]},ne]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Qs]}],"row-start-end":[{row:["auto",{span:[Js,ne]},ne]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ne,e]}],"min-w":[{"min-w":[ne,e,"min","max","fit"]}],"max-w":[{"max-w":[ne,e,"none","full","min","max","fit","prose",{screen:[Er]},Er]}],h:[{h:[ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Er,kr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pl]}],"font-family":[{font:[Qs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",gs,Pl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ir,ne]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ir,kr]}],"underline-offset":[{"underline-offset":["auto",ir,ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),eb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rb]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[ir,ne]}],"outline-w":[{outline:[ir,kr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[ir,kr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Er,nb]}],"shadow-color":[{shadow:[Qs]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Er,ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[g]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Js,ne]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ir,kr,Pl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lb=Hx(ab);function we(...t){return lb(vg(t))}const cb=id("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function oe({className:t,variant:e,size:r,asChild:n=!1,...s}){const o=n?mg:"button";return l.jsx(o,{"data-slot":"button",className:we(cb({variant:e,size:r,className:t})),...s})}function Ke({className:t,type:e,...r}){return l.jsx("input",{type:e,"data-slot":"input",className:we("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}const ub=id("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ut({className:t,variant:e,asChild:r=!1,...n}){const s=r?mg:"span";return l.jsx(s,{"data-slot":"badge",className:we(ub({variant:e}),t),...n})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),nh=t=>{const e=fb(t);return e.charAt(0).toUpperCase()+e.slice(1)},_g=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>w.createElement("svg",{ref:c,...hb,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:_g("lucide",s),...a},[...i.map(([u,f])=>w.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(t,e)=>{const r=w.forwardRef(({className:n,...s},o)=>w.createElement(pb,{ref:o,iconNode:e,className:_g(`lucide-${db(nh(t))}`,`lucide-${t}`,n),...s}));return r.displayName=nh(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vs=X("arrow-left",mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vb=X("arrow-right",gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wb=X("chart-column",yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kg=X("check",xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Eg=X("chevron-down",bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_b=X("chevron-left",Sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Eb=X("chevron-right",kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nb=X("chevron-up",Cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cg=X("circle-alert",jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ls=X("circle-check-big",Tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],sh=X("cloud",Pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Rb=X("database",Ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Lb=X("download",Ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$b=X("eye-off",Ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ng=X("eye",Db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fb=X("file-text",Mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ub=X("folder-open",zb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Hb=X("folder-plus",Bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],lt=X("folder",Vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Gb=X("grid-3x3",Wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],qb=X("hard-drive",Kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Xt=X("heart",Yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Qb=X("house",Jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jg=X("image",Xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Fi=X("key",Zb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],t1=X("loader",e1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oh=X("lock",r1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],s1=X("log-out",n1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],i1=X("mail",o1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Or=X("message-square",a1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],c1=X("phone",l1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ih=X("plus",u1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dn=X("refresh-cw",d1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],h1=X("save",f1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ha=X("search",p1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cs=X("send",m1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v1=X("settings",g1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mo=X("shield",y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],x1=X("square-pen",w1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hc=X("trash-2",b1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_1=X("triangle-alert",S1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],E1=X("upload",k1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N1=X("user",C1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ts=X("x",j1);function T1(){const[t,e]=w.useState(""),r=()=>{t.trim()&&window.appRouter.navigateTo(`/gallery/${t.trim()}`)},n=s=>{s.key==="Enter"&&r()};return l.jsxs("div",{className:"min-h-screen bg-background relative",children:[l.jsx("div",{className:"absolute top-4 right-4 z-10",children:l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>window.appRouter.navigateTo("/admin"),className:"text-muted-foreground hover:text-foreground transition-colors",children:l.jsx(mo,{className:"h-4 w-4"})})}),l.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-[rgba(255,255,255,1)]",children:l.jsxs("div",{className:"w-full max-w-md text-center space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-20 h-20  rounded-full flex items-center justify-center mx-auto",children:l.jsx("svg",{id:"Layer_2","data-name":"Layer 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 215.29 215.93",children:l.jsx("g",{id:"Layer_1-2","data-name":"Layer 1",children:l.jsxs("g",{children:[l.jsx("path",{d:"M96.09.47c88.31-7.93,148.52,85.13,104.37,162.37-41.55,72.68-148.39,70.05-187.69-3.65C-22.95,92.21,19.9,7.32,96.09.47ZM103.08,3.47C21.81,6.35-23.51,98.39,20.88,166.08c42.07,64.15,139.4,61.21,176.93-5.89C237.79,88.7,185.17.57,103.08,3.47Z"}),l.jsx("path",{d:"M71.29,48.17v42l38.45-41.05,11.55-.93-38.92,40.63,27.92,32.36v-41c0-1.46,26.97-1.05,29.24-.74,21.84,2.98,31.63,29.87,13.79,44.26l-10.02,5.96,29.99,40.51h-14.5c-2.36,0-23.71-34.12-27.93-38.07l-7.57-.93v39c0,.65-13,.65-13,0v-30.5c0-2.91-35.26-37.02-38.51-43.49-3.06-.26-.49,1.08-.49,1.49v42.5c0,.65-13,.65-13,0V48.17c0-.65,11.61.48,13,0ZM123.29,86.17c-1.3,1.28,0,31.57,0,36.5,0,.21-1.49,1.13-1,1.49.43.31,9.06.2,10.54.05,23.13-2.36,20.89-33.02,4.73-36.81-1.4-.33-13.76-1.73-14.27-1.23Z"})]})})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Votre Galerie Photos"}),l.jsx("p",{className:"text-muted-foreground",children:"Entrer votre ID de galerie transmis pour accder  vos photos."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ke,{type:"text",placeholder:"Entrer l'ID de Galerie",value:t,onChange:s=>e(s.target.value),onKeyPress:n,className:"text-center text-lg py-3 px-4",autoFocus:!0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"ID de galerie fourni par Kim Redler"})]}),l.jsxs(oe,{onClick:r,disabled:!t.trim(),size:"lg",className:"w-full",children:[l.jsx(jg,{className:"h-5 w-5 mr-2"}),"Accder  ma galerie",l.jsx(vb,{className:"h-5 w-5 ml-2"})]})]}),l.jsx("div",{className:"pt-8 border-t",children:l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx("h3",{className:"font-semibold text-sm",children:"Need Help?"}),l.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[l.jsx("p",{children:" Contact your photographer if you don't have a Gallery ID"}),l.jsx("p",{children:" You can favorite photos and leave comments for selection"})]})]})}),l.jsx("div",{className:"pt-8",children:l.jsx(Ut,{variant:"outline",className:"text-xs",children:"Professional Photo Gallery System"})})]})})]})}function pe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function P1(t,e){const r=w.createContext(e),n=o=>{const{children:i,...a}=o,c=w.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=t+"Provider";function s(o){const i=w.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function Vo(t,e=[]){let r=[];function n(o,i){const a=w.createContext(i),c=r.length;r=[...r,i];const u=d=>{var m;const{scope:h,children:y,...x}=d,v=((m=h==null?void 0:h[t])==null?void 0:m[c])||a,b=w.useMemo(()=>x,Object.values(x));return l.jsx(v.Provider,{value:b,children:y})};u.displayName=o+"Provider";function f(d,h){var v;const y=((v=h==null?void 0:h[t])==null?void 0:v[c])||a,x=w.useContext(y);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(i=>w.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[n,A1(s,...e)]}function A1(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var Je=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},R1=up[" useId ".trim().toString()]||(()=>{}),O1=0;function ys(t){const[e,r]=w.useState(R1());return Je(()=>{t||r(n=>n??String(O1++))},[t]),t||(e?`radix-${e}`:"")}var L1=up[" useInsertionEffect ".trim().toString()]||Je;function pa({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,i]=I1({defaultProp:e,onChange:r}),a=t!==void 0,c=a?t:s;{const f=w.useRef(t!==void 0);w.useEffect(()=>{const d=f.current;d!==a&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const u=w.useCallback(f=>{var d;if(a){const h=$1(f)?f(t):f;h!==t&&((d=i.current)==null||d.call(i,h))}else o(f)},[a,t,o,i]);return[c,u]}function I1({defaultProp:t,onChange:e}){const[r,n]=w.useState(t),s=w.useRef(r),o=w.useRef(e);return L1(()=>{o.current=e},[e]),w.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function $1(t){return typeof t=="function"}var D1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=D1.reduce((t,e)=>{const r=js(`Primitive.${e}`),n=w.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function M1(t,e){t&&Is.flushSync(()=>t.dispatchEvent(e))}function kn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function F1(t,e=globalThis==null?void 0:globalThis.document){const r=kn(t);w.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var z1="DismissableLayer",Vc="dismissableLayer.update",U1="dismissableLayer.pointerDownOutside",B1="dismissableLayer.focusOutside",ah,Tg=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ld=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=t,u=w.useContext(Tg),[f,d]=w.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=w.useState({}),x=Ne(e,k=>d(k)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=v.indexOf(b),p=f?v.indexOf(f):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,S=p>=m,_=W1(k=>{const T=k.target,I=[...u.branches].some(D=>D.contains(T));!S||I||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),E=G1(k=>{const T=k.target;[...u.branches].some(D=>D.contains(T))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return F1(k=>{p===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),w.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ah=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),lh(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ah)}},[f,h,r,u]),w.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),lh())},[f,u]),w.useEffect(()=>{const k=()=>y({});return document.addEventListener(Vc,k),()=>document.removeEventListener(Vc,k)},[]),l.jsx(de.div,{...c,ref:x,style:{pointerEvents:g?S?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,_.onPointerDownCapture)})});ld.displayName=z1;var H1="DismissableLayerBranch",V1=w.forwardRef((t,e)=>{const r=w.useContext(Tg),n=w.useRef(null),s=Ne(e,n);return w.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(de.div,{...t,ref:s})});V1.displayName=H1;function W1(t,e=globalThis==null?void 0:globalThis.document){const r=kn(t),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){Pg(U1,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function G1(t,e=globalThis==null?void 0:globalThis.document){const r=kn(t),n=w.useRef(!1);return w.useEffect(()=>{const s=o=>{o.target&&!n.current&&Pg(B1,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lh(){const t=new CustomEvent(Vc);document.dispatchEvent(t)}function Pg(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?M1(s,o):s.dispatchEvent(o)}var Al="focusScope.autoFocusOnMount",Rl="focusScope.autoFocusOnUnmount",ch={bubbles:!1,cancelable:!0},K1="FocusScope",cd=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,c]=w.useState(null),u=kn(s),f=kn(o),d=w.useRef(null),h=Ne(e,v=>c(v)),y=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let v=function(g){if(y.paused||!a)return;const S=g.target;a.contains(S)?d.current=S:Nr(d.current,{select:!0})},b=function(g){if(y.paused||!a)return;const S=g.relatedTarget;S!==null&&(a.contains(S)||Nr(d.current,{select:!0}))},m=function(g){if(document.activeElement===document.body)for(const _ of g)_.removedNodes.length>0&&Nr(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const p=new MutationObserver(m);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),p.disconnect()}}},[n,a,y.paused]),w.useEffect(()=>{if(a){dh.add(y);const v=document.activeElement;if(!a.contains(v)){const m=new CustomEvent(Al,ch);a.addEventListener(Al,u),a.dispatchEvent(m),m.defaultPrevented||(q1(Z1(Ag(a)),{select:!0}),document.activeElement===v&&Nr(a))}return()=>{a.removeEventListener(Al,u),setTimeout(()=>{const m=new CustomEvent(Rl,ch);a.addEventListener(Rl,f),a.dispatchEvent(m),m.defaultPrevented||Nr(v??document.body,{select:!0}),a.removeEventListener(Rl,f),dh.remove(y)},0)}}},[a,u,f,y]);const x=w.useCallback(v=>{if(!r&&!n||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,m=document.activeElement;if(b&&m){const p=v.currentTarget,[g,S]=Y1(p);g&&S?!v.shiftKey&&m===S?(v.preventDefault(),r&&Nr(g,{select:!0})):v.shiftKey&&m===g&&(v.preventDefault(),r&&Nr(S,{select:!0})):m===p&&v.preventDefault()}},[r,n,y.paused]);return l.jsx(de.div,{tabIndex:-1,...i,ref:h,onKeyDown:x})});cd.displayName=K1;function q1(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Nr(n,{select:e}),document.activeElement!==r)return}function Y1(t){const e=Ag(t),r=uh(e,t),n=uh(e.reverse(),t);return[r,n]}function Ag(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function uh(t,e){for(const r of t)if(!J1(r,{upTo:e}))return r}function J1(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Q1(t){return t instanceof HTMLInputElement&&"select"in t}function Nr(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Q1(t)&&e&&t.select()}}var dh=X1();function X1(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=fh(t,e),t.unshift(e)},remove(e){var r;t=fh(t,e),(r=t[0])==null||r.resume()}}}function fh(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Z1(t){return t.filter(e=>e.tagName!=="A")}var eS="Portal",ud=w.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=w.useState(!1);Je(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?hg.createPortal(l.jsx(de.div,{...n,ref:e}),i):null});ud.displayName=eS;function tS(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var Fa=t=>{const{present:e,children:r}=t,n=rS(e),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),o=Ne(n.ref,nS(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:o}):null};Fa.displayName="Presence";function rS(t){const[e,r]=w.useState(),n=w.useRef(null),s=w.useRef(t),o=w.useRef("none"),i=t?"mounted":"unmounted",[a,c]=tS(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=mi(n.current);o.current=a==="mounted"?u:"none"},[a]),Je(()=>{const u=n.current,f=s.current;if(f!==t){const h=o.current,y=mi(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Je(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,d=y=>{const v=mi(n.current).includes(y.animationName);if(y.target===e&&v&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=y=>{y.target===e&&(o.current=mi(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function mi(t){return(t==null?void 0:t.animationName)||"none"}function nS(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ol=0;function Rg(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hh()),document.body.insertAdjacentElement("beforeend",t[1]??hh()),Ol++,()=>{Ol===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ol--}},[])}function hh(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zt=function(){return Zt=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Zt.apply(this,arguments)};function Og(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function sS(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var zi="right-scroll-bar-position",Ui="width-before-scroll-bar",oS="with-scroll-bars-hidden",iS="--removed-body-scroll-bar-size";function Ll(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function aS(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var lS=typeof window<"u"?w.useLayoutEffect:w.useEffect,ph=new WeakMap;function cS(t,e){var r=aS(e||null,function(n){return t.forEach(function(s){return Ll(s,n)})});return lS(function(){var n=ph.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(a){o.has(a)||Ll(a,null)}),o.forEach(function(a){s.has(a)||Ll(a,i)})}ph.set(r,t)},[t]),r}function uS(t){return t}function dS(t,e){e===void 0&&(e=uS);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return s}function fS(t){t===void 0&&(t={});var e=dS(null);return e.options=Zt({async:!0,ssr:!1},t),e}var Lg=function(t){var e=t.sideCar,r=Og(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,Zt({},r))};Lg.isSideCarExport=!0;function hS(t,e){return t.useMedium(e),Lg}var Ig=fS(),Il=function(){},za=w.forwardRef(function(t,e){var r=w.useRef(null),n=w.useState({onScrollCapture:Il,onWheelCapture:Il,onTouchMoveCapture:Il}),s=n[0],o=n[1],i=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,d=t.shards,h=t.sideCar,y=t.noRelative,x=t.noIsolation,v=t.inert,b=t.allowPinchZoom,m=t.as,p=m===void 0?"div":m,g=t.gapMode,S=Og(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,E=cS([r,e]),k=Zt(Zt({},S),s);return w.createElement(w.Fragment,null,f&&w.createElement(_,{sideCar:Ig,removeScrollBar:u,shards:d,noRelative:y,noIsolation:x,inert:v,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:g}),i?w.cloneElement(w.Children.only(a),Zt(Zt({},k),{ref:E})):w.createElement(p,Zt({},k,{className:c,ref:E}),a))});za.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};za.classNames={fullWidth:Ui,zeroRight:zi};var mh,pS=function(){if(mh)return mh;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mS(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pS();return e&&t.setAttribute("nonce",e),t}function gS(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vS(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yS=function(){var t=0,e=null;return{add:function(r){t==0&&(e=mS())&&(gS(e,r),vS(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wS=function(){var t=yS();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},$g=function(){var t=wS(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},xS={left:0,top:0,right:0,gap:0},$l=function(t){return parseInt(t||"",10)||0},bS=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[$l(r),$l(n),$l(s)]},SS=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xS;var e=bS(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},_S=$g(),ws="data-scroll-locked",kS=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(oS,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ws,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zi,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Ui,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(zi," .").concat(zi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ui," .").concat(Ui,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ws,`] {
    `).concat(iS,": ").concat(a,`px;
  }
`)},gh=function(){var t=parseInt(document.body.getAttribute(ws)||"0",10);return isFinite(t)?t:0},ES=function(){w.useEffect(function(){return document.body.setAttribute(ws,(gh()+1).toString()),function(){var t=gh()-1;t<=0?document.body.removeAttribute(ws):document.body.setAttribute(ws,t.toString())}},[])},CS=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;ES();var o=w.useMemo(function(){return SS(s)},[s]);return w.createElement(_S,{styles:kS(o,!e,s,r?"":"!important")})},Wc=!1;if(typeof window<"u")try{var gi=Object.defineProperty({},"passive",{get:function(){return Wc=!0,!0}});window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Wc=!1}var Dn=Wc?{passive:!1}:!1,NS=function(t){return t.tagName==="TEXTAREA"},Dg=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!NS(t)&&r[e]==="visible")},jS=function(t){return Dg(t,"overflowY")},TS=function(t){return Dg(t,"overflowX")},vh=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Mg(t,n);if(s){var o=Fg(t,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},PS=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},AS=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Mg=function(t,e){return t==="v"?jS(e):TS(e)},Fg=function(t,e){return t==="v"?PS(e):AS(e)},RS=function(t,e){return t==="h"&&e==="rtl"?-1:1},OS=function(t,e,r,n,s){var o=RS(t,window.getComputedStyle(e).direction),i=o*n,a=r.target,c=e.contains(a),u=!1,f=i>0,d=0,h=0;do{if(!a)break;var y=Fg(t,a),x=y[0],v=y[1],b=y[2],m=v-b-o*x;(x||m)&&Mg(t,a)&&(d+=m,h+=x);var p=a.parentNode;a=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&(s&&Math.abs(d)<1||!s&&i>d)||!f&&(s&&Math.abs(h)<1||!s&&-i>h))&&(u=!0),u},vi=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yh=function(t){return[t.deltaX,t.deltaY]},wh=function(t){return t&&"current"in t?t.current:t},LS=function(t,e){return t[0]===e[0]&&t[1]===e[1]},IS=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$S=0,Mn=[];function DS(t){var e=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),s=w.useState($S++)[0],o=w.useState($g)[0],i=w.useRef(t);w.useEffect(function(){i.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=sS([t.lockRef.current],(t.shards||[]).map(wh),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var m=vi(v),p=r.current,g="deltaX"in v?v.deltaX:p[0]-m[0],S="deltaY"in v?v.deltaY:p[1]-m[1],_,E=v.target,k=Math.abs(g)>Math.abs(S)?"h":"v";if("touches"in v&&k==="h"&&E.type==="range")return!1;var T=vh(k,E);if(!T)return!0;if(T?_=k:(_=k==="v"?"h":"v",T=vh(k,E)),!T)return!1;if(!n.current&&"changedTouches"in v&&(g||S)&&(n.current=_),!_)return!0;var I=n.current||_;return OS(I,b,v,I==="h"?g:S,!0)},[]),c=w.useCallback(function(v){var b=v;if(!(!Mn.length||Mn[Mn.length-1]!==o)){var m="deltaY"in b?yh(b):vi(b),p=e.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&LS(_.delta,m)})[0];if(p&&p.should){b.cancelable&&b.preventDefault();return}if(!p){var g=(i.current.shards||[]).map(wh).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=g.length>0?a(b,g[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=w.useCallback(function(v,b,m,p){var g={name:v,delta:b,target:m,should:p,shadowParent:MS(m)};e.current.push(g),setTimeout(function(){e.current=e.current.filter(function(S){return S!==g})},1)},[]),f=w.useCallback(function(v){r.current=vi(v),n.current=void 0},[]),d=w.useCallback(function(v){u(v.type,yh(v),v.target,a(v,t.lockRef.current))},[]),h=w.useCallback(function(v){u(v.type,vi(v),v.target,a(v,t.lockRef.current))},[]);w.useEffect(function(){return Mn.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Dn),document.addEventListener("touchmove",c,Dn),document.addEventListener("touchstart",f,Dn),function(){Mn=Mn.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Dn),document.removeEventListener("touchmove",c,Dn),document.removeEventListener("touchstart",f,Dn)}},[]);var y=t.removeScrollBar,x=t.inert;return w.createElement(w.Fragment,null,x?w.createElement(o,{styles:IS(s)}):null,y?w.createElement(CS,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MS(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const FS=hS(Ig,DS);var zg=w.forwardRef(function(t,e){return w.createElement(za,Zt({},t,{ref:e,sideCar:FS}))});zg.classNames=za.classNames;const Ug=zg;var zS=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fn=new WeakMap,yi=new WeakMap,wi={},Dl=0,Bg=function(t){return t&&(t.host||Bg(t.parentNode))},US=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Bg(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},BS=function(t,e,r,n){var s=US(e,Array.isArray(t)?t:[t]);wi[r]||(wi[r]=new WeakMap);var o=wi[r],i=[],a=new Set,c=new Set(s),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))f(h);else try{var y=h.getAttribute(n),x=y!==null&&y!=="false",v=(Fn.get(h)||0)+1,b=(o.get(h)||0)+1;Fn.set(h,v),o.set(h,b),i.push(h),v===1&&x&&yi.set(h,!0),b===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return f(e),a.clear(),Dl++,function(){i.forEach(function(d){var h=Fn.get(d)-1,y=o.get(d)-1;Fn.set(d,h),o.set(d,y),h||(yi.has(d)||d.removeAttribute(n),yi.delete(d)),y||d.removeAttribute(r)}),Dl--,Dl||(Fn=new WeakMap,Fn=new WeakMap,yi=new WeakMap,wi={})}},Hg=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=e||zS(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),BS(n,s,r,"aria-hidden")):function(){return null}},Ua="Dialog",[Vg,P2]=Vo(Ua),[HS,Kt]=Vg(Ua),Wg=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=w.useRef(null),c=w.useRef(null),[u,f]=pa({prop:n,defaultProp:s??!1,onChange:o,caller:Ua});return l.jsx(HS,{scope:e,triggerRef:a,contentRef:c,contentId:ys(),titleId:ys(),descriptionId:ys(),open:u,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};Wg.displayName=Ua;var Gg="DialogTrigger",VS=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Kt(Gg,r),o=Ne(e,s.triggerRef);return l.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hd(s.open),...n,ref:o,onClick:pe(t.onClick,s.onOpenToggle)})});VS.displayName=Gg;var dd="DialogPortal",[WS,Kg]=Vg(dd,{forceMount:void 0}),qg=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Kt(dd,e);return l.jsx(WS,{scope:e,forceMount:r,children:w.Children.map(n,i=>l.jsx(Fa,{present:r||o.open,children:l.jsx(ud,{asChild:!0,container:s,children:i})}))})};qg.displayName=dd;var ma="DialogOverlay",Yg=w.forwardRef((t,e)=>{const r=Kg(ma,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Kt(ma,t.__scopeDialog);return o.modal?l.jsx(Fa,{present:n||o.open,children:l.jsx(KS,{...s,ref:e})}):null});Yg.displayName=ma;var GS=js("DialogOverlay.RemoveScroll"),KS=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Kt(ma,r);return l.jsx(Ug,{as:GS,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(de.div,{"data-state":hd(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),En="DialogContent",Jg=w.forwardRef((t,e)=>{const r=Kg(En,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Kt(En,t.__scopeDialog);return l.jsx(Fa,{present:n||o.open,children:o.modal?l.jsx(qS,{...s,ref:e}):l.jsx(YS,{...s,ref:e})})});Jg.displayName=En;var qS=w.forwardRef((t,e)=>{const r=Kt(En,t.__scopeDialog),n=w.useRef(null),s=Ne(e,r.contentRef,n);return w.useEffect(()=>{const o=n.current;if(o)return Hg(o)},[]),l.jsx(Qg,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,o=>o.preventDefault())})}),YS=w.forwardRef((t,e)=>{const r=Kt(En,t.__scopeDialog),n=w.useRef(!1),s=w.useRef(!1);return l.jsx(Qg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Qg=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=Kt(En,r),c=w.useRef(null),u=Ne(e,c);return Rg(),l.jsxs(l.Fragment,{children:[l.jsx(cd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(ld,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hd(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(JS,{titleId:a.titleId}),l.jsx(XS,{contentRef:c,descriptionId:a.descriptionId})]})]})}),fd="DialogTitle",Xg=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Kt(fd,r);return l.jsx(de.h2,{id:s.titleId,...n,ref:e})});Xg.displayName=fd;var Zg="DialogDescription",ev=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Kt(Zg,r);return l.jsx(de.p,{id:s.descriptionId,...n,ref:e})});ev.displayName=Zg;var tv="DialogClose",rv=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Kt(tv,r);return l.jsx(de.button,{type:"button",...n,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});rv.displayName=tv;function hd(t){return t?"open":"closed"}var nv="DialogTitleWarning",[A2,sv]=P1(nv,{contentName:En,titleName:fd,docsSlug:"dialog"}),JS=({titleId:t})=>{const e=sv(nv),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},QS="DialogDescriptionWarning",XS=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sv(QS).contentName}}.`;return w.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},ZS=Wg,e_=qg,ov=Yg,iv=Jg,av=Xg,lv=ev,t_=rv;function cv({...t}){return l.jsx(ZS,{"data-slot":"dialog",...t})}function r_({...t}){return l.jsx(e_,{"data-slot":"dialog-portal",...t})}const uv=w.forwardRef(({className:t,...e},r)=>l.jsx(ov,{ref:r,"data-slot":"dialog-overlay",className:we("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));uv.displayName=ov.displayName;const pd=w.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(r_,{"data-slot":"dialog-portal",children:[l.jsx(uv,{}),l.jsxs(iv,{ref:n,"data-slot":"dialog-content",className:we("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,l.jsxs(t_,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(Ts,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pd.displayName=iv.displayName;function dv({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:we("flex flex-col gap-2 text-center sm:text-left",t),...e})}const md=w.forwardRef(({className:t,...e},r)=>l.jsx(av,{ref:r,"data-slot":"dialog-title",className:we("text-lg leading-none font-semibold",t),...e}));md.displayName=av.displayName;const gd=w.forwardRef(({className:t,...e},r)=>l.jsx(lv,{ref:r,"data-slot":"dialog-description",className:we("text-muted-foreground text-sm",t),...e}));gd.displayName=lv.displayName;var n_="Label",fv=w.forwardRef((t,e)=>l.jsx(de.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));fv.displayName=n_;var s_=fv;function Pe({className:t,...e}){return l.jsx(s_,{"data-slot":"label",className:we("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const o_=id("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function vd({className:t,variant:e,...r}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:we(o_({variant:e}),t),...r})}function yd({className:t,...e}){return l.jsx("div",{"data-slot":"alert-description",className:we("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function hv({isOpen:t,onClose:e,onAuthenticate:r,title:n,description:s,type:o="gallery",galleryName:i}){const[a,c]=w.useState(""),[u,f]=w.useState(!1),[d,h]=w.useState(!1),[y,x]=w.useState(""),v=async _=>{if(_.preventDefault(),!a.trim()){x("Please enter a password");return}try{h(!0),x(""),await r(a)?(c(""),x(""),e()):x("Invalid password. Please try again.")}catch(E){console.error("Authentication error:",E),x("Authentication failed. Please try again.")}finally{h(!1)}},b=_=>{_.key==="Enter"&&!d&&v(_)},m=()=>{c(""),x(""),e()},g=(()=>{switch(o){case"admin":return{icon:mo,iconColor:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",title:n||"Admin Access Required",description:s||"Enter the admin password to access the management panel."};case"gallery":default:return{icon:oh,iconColor:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",title:n||"Gallery Protected",description:s||"This gallery is password protected. Enter the password to view photos."}}})(),S=g.icon;return l.jsx(cv,{open:t,onOpenChange:m,children:l.jsxs(pd,{className:"sm:max-w-md",children:[l.jsxs(dv,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:`p-2 ${g.bgColor} rounded-full ${g.borderColor} border`,children:l.jsx(S,{className:`h-5 w-5 ${g.iconColor}`})}),l.jsxs(md,{className:"text-lg",children:[g.title,o==="gallery"&&i&&l.jsx("span",{className:"block text-sm font-normal text-muted-foreground mt-1",children:i})]})]}),l.jsx(gd,{children:g.description})]}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Pe,{htmlFor:"password",className:"flex items-center gap-2",children:[l.jsx(Fi,{className:"h-4 w-4"}),"Password"]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ke,{id:"password",type:u?"text":"password",value:a,onChange:_=>c(_.target.value),onKeyPress:b,placeholder:"Enter password...",className:"pr-10",disabled:d,autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",disabled:d,children:u?l.jsx($b,{className:"h-4 w-4"}):l.jsx(Ng,{className:"h-4 w-4"})})]})]}),y&&l.jsx(vd,{variant:"destructive",children:l.jsx(yd,{children:y})}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx(oe,{type:"button",variant:"outline",onClick:m,disabled:d,className:"flex-1",children:"Cancel"}),l.jsx(oe,{type:"submit",disabled:!a.trim()||d,className:"flex-1",children:d?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Verifying..."]}):l.jsxs(l.Fragment,{children:[l.jsx(oh,{className:"h-4 w-4 mr-2"}),"Access"]})})]})]}),l.jsx("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:o==="admin"?l.jsx("p",{children:"Admin access is required to manage galleries and system settings."}):l.jsx("p",{children:"Contact the gallery owner if you need access to this protected gallery."})})]})})}function pv({photos:t,currentIndex:e,onClose:r,onNavigate:n,favorites:s,commentCounts:o,comments:i=[],onToggleFavorite:a,onAddComment:c}){const[u,f]=w.useState(""),[d,h]=w.useState(!1),[y,x]=w.useState(!1),v=e!==null?t[e]:null,b=v?i.filter(E=>E.photoId===v.id).sort((E,k)=>new Date(k.createdAt).getTime()-new Date(E.createdAt).getTime()):[];w.useEffect(()=>{const E=k=>{if(e!==null)switch(k.key){case"Escape":r();break;case"ArrowLeft":k.preventDefault(),n("prev");break;case"ArrowRight":k.preventDefault(),n("next");break}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,r,n]),w.useEffect(()=>(e!==null?document.body.classList.add("lightbox-open"):document.body.classList.remove("lightbox-open"),()=>document.body.classList.remove("lightbox-open")),[e]),w.useEffect(()=>{f(""),x(!1)},[e]);const m=async()=>{if(!(!v||!u.trim()))try{h(!0),await c(v.id,u.trim()),f("")}catch(E){console.error("Error submitting comment:",E)}finally{h(!1)}},p=E=>{E.key==="Enter"&&u.trim()&&!d&&m()},g=E=>{try{const k=new Date(E),I=Math.floor((new Date().getTime()-k.getTime())/(1e3*60*60));if(I<1)return" l'instant";if(I<24)return`Il y a ${I}h`;{const D=Math.floor(I/24);return D<7?`Il y a ${D}j`:k.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}}catch{return""}};if(e===null||!v)return null;const S=s.has(v.id),_=o[v.id]||0;return l.jsxs("div",{className:"lightbox-container animate-fadeIn",children:[l.jsx("button",{className:"lightbox-close",onClick:r,title:"Fermer (chap)",children:l.jsx(Ts,{})}),l.jsxs("div",{className:"photo-counter",children:[e+1," / ",t.length]}),l.jsx("button",{className:"lightbox-nav prev",onClick:()=>n("prev"),disabled:e===0,title:"Photo prcdente ()",children:l.jsx(_b,{})}),l.jsx("button",{className:"lightbox-nav next",onClick:()=>n("next"),disabled:e===t.length-1,title:"Photo suivante ()",children:l.jsx(Eb,{})}),l.jsx("div",{className:"lightbox-content",children:l.jsx("img",{src:v.url,alt:v.name,className:"lightbox-image"})}),y&&b.length>0&&l.jsxs("div",{className:"fixed left-4 top-20 bottom-32 w-80 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200 z-[100001] overflow-hidden flex flex-col max-w-[calc(100vw-2rem)]",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[l.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[l.jsx(Or,{className:"h-4 w-4"}),"Commentaires (",b.length,")"]}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ts,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:b.map(E=>l.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-800 mb-2",children:E.comment}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:["Appareil: ",E.deviceId.split("_")[1]||"inconnu"]}),l.jsx("span",{children:g(E.createdAt)})]})]},E.id))})]}),l.jsxs("div",{className:"lightbox-controls",children:[l.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all font-medium ${S?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,title:S?"Retirer de la slection":"Ajouter  la slection",children:[l.jsx(Xt,{className:`h-4 w-4 ${S?"fill-current":""}`}),S?"Dans la slection":"Ajouter  la slection"]}),_>0&&l.jsxs("button",{onClick:()=>x(!y),className:`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-all ${y?"bg-blue-500 text-white hover:bg-blue-600":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[l.jsx(Or,{className:"h-4 w-4"}),_," commentaire",_!==1?"s":""]}),l.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-sm",children:[l.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",value:u,onChange:E=>f(E.target.value),onKeyPress:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:d}),l.jsxs("button",{onClick:m,disabled:!u.trim()||d,className:"px-4 py-2 bg-blue-500 text-white rounded-full text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium transition-all",children:[d?l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l.jsx(cs,{className:"h-4 w-4"}),"Commenter"]})]})]}),v.description&&l.jsx("div",{className:"absolute bottom-24 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-lg text-sm backdrop-blur-sm max-w-md text-center",children:v.description})]})}function i_(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const a_=t=>{switch(t){case"success":return u_;case"info":return f_;case"warning":return d_;case"error":return h_;default:return null}},l_=Array(12).fill(0),c_=({visible:t,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},l_.map((r,n)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),u_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),d_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),f_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),h_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),p_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),m_=()=>{const[t,e]=$.useState(document.hidden);return $.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Gc=1;class g_{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Gc++,i=this.toasts.find(c=>c.id===o),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:n}),{...c,...e,id:o,dismissible:a,title:n}):c):this.addToast({title:n,...s,dismissible:a,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,i;const a=s.then(async u=>{if(i=["resolve",u],$.isValidElement(u))o=!1,this.create({id:n,type:"default",message:u});else if(y_(u)&&!u.ok){o=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,x=typeof d=="object"&&!$.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:h,...x})}else if(u instanceof Error){o=!1;const d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,x=typeof d=="object"&&!$.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:h,...x})}else if(r.success!==void 0){o=!1;const d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,x=typeof d=="object"&&!$.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:h,...x})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){o=!1;const f=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,y=typeof f=="object"&&!$.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:d,...y})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,f)=>a.then(()=>i[0]==="reject"?f(i[1]):u(i[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||Gc++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ot=new g_,v_=(t,e)=>{const r=(e==null?void 0:e.id)||Gc++;return ot.addToast({title:t,...e,id:r}),r},y_=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",w_=v_,x_=()=>ot.toasts,b_=()=>ot.getActiveToasts(),J=Object.assign(w_,{success:ot.success,info:ot.info,warning:ot.warning,error:ot.error,custom:ot.custom,message:ot.message,promise:ot.promise,dismiss:ot.dismiss,loading:ot.loading},{getHistory:x_,getToasts:b_});i_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function xi(t){return t.label!==void 0}const S_=3,__="24px",k_="16px",xh=4e3,E_=356,C_=14,N_=45,j_=200;function Yt(...t){return t.filter(Boolean).join(" ")}function T_(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const P_=t=>{var e,r,n,s,o,i,a,c,u;const{invert:f,toast:d,unstyled:h,interacting:y,setHeights:x,visibleToasts:v,heights:b,index:m,toasts:p,expanded:g,removeToast:S,defaultRichColors:_,closeButton:E,style:k,cancelButtonStyle:T,actionButtonStyle:I,className:D="",descriptionClassName:W="",duration:z,position:G,gap:P,expandByDefault:F,classNames:A,icons:M,closeButtonAriaLabel:j="Close toast"}=t,[C,R]=$.useState(null),[U,q]=$.useState(null),[K,Q]=$.useState(!1),[se,Z]=$.useState(!1),[V,Y]=$.useState(!1),[fe,le]=$.useState(!1),[N,O]=$.useState(!1),[ee,xe]=$.useState(0),[Re,rt]=$.useState(0),Qe=$.useRef(d.duration||z||xh),Rn=$.useRef(null),nt=$.useRef(null),Uy=m===0,By=m+1<=v,ht=d.type,On=d.dismissible!==!1,Hy=d.className||"",Vy=d.descriptionClassName||"",Yo=$.useMemo(()=>b.findIndex(re=>re.toastId===d.id)||0,[b,d.id]),Wy=$.useMemo(()=>{var re;return(re=d.closeButton)!=null?re:E},[d.closeButton,E]),Id=$.useMemo(()=>d.duration||z||xh,[d.duration,z]),rl=$.useRef(0),Ln=$.useRef(0),$d=$.useRef(0),In=$.useRef(null),[Gy,Ky]=G.split("-"),Dd=$.useMemo(()=>b.reduce((re,$e,Ve)=>Ve>=Yo?re:re+$e.height,0),[b,Yo]),Md=m_(),qy=d.invert||f,nl=ht==="loading";Ln.current=$.useMemo(()=>Yo*P+Dd,[Yo,Dd]),$.useEffect(()=>{Qe.current=Id},[Id]),$.useEffect(()=>{Q(!0)},[]),$.useEffect(()=>{const re=nt.current;if(re){const $e=re.getBoundingClientRect().height;return rt($e),x(Ve=>[{toastId:d.id,height:$e,position:d.position},...Ve]),()=>x(Ve=>Ve.filter(pt=>pt.toastId!==d.id))}},[x,d.id]),$.useLayoutEffect(()=>{if(!K)return;const re=nt.current,$e=re.style.height;re.style.height="auto";const Ve=re.getBoundingClientRect().height;re.style.height=$e,rt(Ve),x(pt=>pt.find(ze=>ze.toastId===d.id)?pt.map(ze=>ze.toastId===d.id?{...ze,height:Ve}:ze):[{toastId:d.id,height:Ve,position:d.position},...pt])},[K,d.title,d.description,x,d.id,d.jsx,d.action,d.cancel]);const Sr=$.useCallback(()=>{Z(!0),xe(Ln.current),x(re=>re.filter($e=>$e.toastId!==d.id)),setTimeout(()=>{S(d)},j_)},[d,S,x,Ln]);$.useEffect(()=>{if(d.promise&&ht==="loading"||d.duration===1/0||d.type==="loading")return;let re;return g||y||Md?(()=>{if($d.current<rl.current){const pt=new Date().getTime()-rl.current;Qe.current=Qe.current-pt}$d.current=new Date().getTime()})():(()=>{Qe.current!==1/0&&(rl.current=new Date().getTime(),re=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),Sr()},Qe.current))})(),()=>clearTimeout(re)},[g,y,d,ht,Md,Sr]),$.useEffect(()=>{d.delete&&(Sr(),d.onDismiss==null||d.onDismiss.call(d,d))},[Sr,d.delete]);function Yy(){var re;if(M!=null&&M.loading){var $e;return $.createElement("div",{className:Yt(A==null?void 0:A.loader,d==null||($e=d.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":ht==="loading"},M.loading)}return $.createElement(c_,{className:Yt(A==null?void 0:A.loader,d==null||(re=d.classNames)==null?void 0:re.loader),visible:ht==="loading"})}const Jy=d.icon||(M==null?void 0:M[ht])||a_(ht);var Fd,zd;return $.createElement("li",{tabIndex:0,ref:nt,className:Yt(D,Hy,A==null?void 0:A.toast,d==null||(e=d.classNames)==null?void 0:e.toast,A==null?void 0:A.default,A==null?void 0:A[ht],d==null||(r=d.classNames)==null?void 0:r[ht]),"data-sonner-toast":"","data-rich-colors":(Fd=d.richColors)!=null?Fd:_,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":K,"data-promise":!!d.promise,"data-swiped":N,"data-removed":se,"data-visible":By,"data-y-position":Gy,"data-x-position":Ky,"data-index":m,"data-front":Uy,"data-swiping":V,"data-dismissible":On,"data-type":ht,"data-invert":qy,"data-swipe-out":fe,"data-swipe-direction":U,"data-expanded":!!(g||F&&K),"data-testid":d.testId,style:{"--index":m,"--toasts-before":m,"--z-index":p.length-m,"--offset":`${se?ee:Ln.current}px`,"--initial-height":F?"auto":`${Re}px`,...k,...d.style},onDragEnd:()=>{Y(!1),R(null),In.current=null},onPointerDown:re=>{re.button!==2&&(nl||!On||(Rn.current=new Date,xe(Ln.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(Y(!0),In.current={x:re.clientX,y:re.clientY})))},onPointerUp:()=>{var re,$e,Ve;if(fe||!On)return;In.current=null;const pt=Number(((re=nt.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Jo=Number((($e=nt.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ze=new Date().getTime()-((Ve=Rn.current)==null?void 0:Ve.getTime()),kt=C==="x"?pt:Jo,Qo=Math.abs(kt)/ze;if(Math.abs(kt)>=N_||Qo>.11){xe(Ln.current),d.onDismiss==null||d.onDismiss.call(d,d),q(C==="x"?pt>0?"right":"left":Jo>0?"down":"up"),Sr(),le(!0);return}else{var Rt,Ot;(Rt=nt.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(Ot=nt.current)==null||Ot.style.setProperty("--swipe-amount-y","0px")}O(!1),Y(!1),R(null)},onPointerMove:re=>{var $e,Ve,pt;if(!In.current||!On||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;const ze=re.clientY-In.current.y,kt=re.clientX-In.current.x;var Qo;const Rt=(Qo=t.swipeDirections)!=null?Qo:T_(G);!C&&(Math.abs(kt)>1||Math.abs(ze)>1)&&R(Math.abs(kt)>Math.abs(ze)?"x":"y");let Ot={x:0,y:0};const Ud=tn=>1/(1.5+Math.abs(tn)/20);if(C==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&ze<0||Rt.includes("bottom")&&ze>0)Ot.y=ze;else{const tn=ze*Ud(ze);Ot.y=Math.abs(tn)<Math.abs(ze)?tn:ze}}else if(C==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&kt<0||Rt.includes("right")&&kt>0)Ot.x=kt;else{const tn=kt*Ud(kt);Ot.x=Math.abs(tn)<Math.abs(kt)?tn:kt}(Math.abs(Ot.x)>0||Math.abs(Ot.y)>0)&&O(!0),(Ve=nt.current)==null||Ve.style.setProperty("--swipe-amount-x",`${Ot.x}px`),(pt=nt.current)==null||pt.style.setProperty("--swipe-amount-y",`${Ot.y}px`)}},Wy&&!d.jsx&&ht!=="loading"?$.createElement("button",{"aria-label":j,"data-disabled":nl,"data-close-button":!0,onClick:nl||!On?()=>{}:()=>{Sr(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Yt(A==null?void 0:A.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(zd=M==null?void 0:M.close)!=null?zd:p_):null,(ht||d.icon||d.promise)&&d.icon!==null&&((M==null?void 0:M[ht])!==null||d.icon)?$.createElement("div",{"data-icon":"",className:Yt(A==null?void 0:A.icon,d==null||(s=d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Yy():null,d.type!=="loading"?Jy:null):null,$.createElement("div",{"data-content":"",className:Yt(A==null?void 0:A.content,d==null||(o=d.classNames)==null?void 0:o.content)},$.createElement("div",{"data-title":"",className:Yt(A==null?void 0:A.title,d==null||(i=d.classNames)==null?void 0:i.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?$.createElement("div",{"data-description":"",className:Yt(W,Vy,A==null?void 0:A.description,d==null||(a=d.classNames)==null?void 0:a.description)},typeof d.description=="function"?d.description():d.description):null),$.isValidElement(d.cancel)?d.cancel:d.cancel&&xi(d.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||T,onClick:re=>{xi(d.cancel)&&On&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,re),Sr())},className:Yt(A==null?void 0:A.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,$.isValidElement(d.action)?d.action:d.action&&xi(d.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||I,onClick:re=>{xi(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,re),!re.defaultPrevented&&Sr())},className:Yt(A==null?void 0:A.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function bh(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function A_(t,e){const r={};return[t,e].forEach((n,s)=>{const o=s===1,i=o?"--mobile-offset":"--offset",a=o?k_:__;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=a:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(a)}),r}const R_=$.forwardRef(function(e,r){const{id:n,invert:s,position:o="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:c,className:u,offset:f,mobileOffset:d,theme:h="light",richColors:y,duration:x,style:v,visibleToasts:b=S_,toastOptions:m,dir:p=bh(),gap:g=C_,icons:S,containerAriaLabel:_="Notifications"}=e,[E,k]=$.useState([]),T=$.useMemo(()=>n?E.filter(K=>K.toasterId===n):E.filter(K=>!K.toasterId),[E,n]),I=$.useMemo(()=>Array.from(new Set([o].concat(T.filter(K=>K.position).map(K=>K.position)))),[T,o]),[D,W]=$.useState([]),[z,G]=$.useState(!1),[P,F]=$.useState(!1),[A,M]=$.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=$.useRef(null),C=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=$.useRef(null),U=$.useRef(!1),q=$.useCallback(K=>{k(Q=>{var se;return(se=Q.find(Z=>Z.id===K.id))!=null&&se.delete||ot.dismiss(K.id),Q.filter(({id:Z})=>Z!==K.id)})},[]);return $.useEffect(()=>ot.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{k(Q=>Q.map(se=>se.id===K.id?{...se,delete:!0}:se))});return}setTimeout(()=>{hg.flushSync(()=>{k(Q=>{const se=Q.findIndex(Z=>Z.id===K.id);return se!==-1?[...Q.slice(0,se),{...Q[se],...K},...Q.slice(se+1)]:[K,...Q]})})})}),[E]),$.useEffect(()=>{if(h!=="system"){M(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Q})=>{M(Q?"dark":"light")})}catch{K.addListener(({matches:se})=>{try{M(se?"dark":"light")}catch(Z){console.error(Z)}})}},[h]),$.useEffect(()=>{E.length<=1&&G(!1)},[E]),$.useEffect(()=>{const K=Q=>{var se;if(i.every(Y=>Q[Y]||Q.code===Y)){var V;G(!0),(V=j.current)==null||V.focus()}Q.code==="Escape"&&(document.activeElement===j.current||(se=j.current)!=null&&se.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[i]),$.useEffect(()=>{if(j.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,U.current=!1)}},[j.current]),$.createElement("section",{ref:r,"aria-label":`${_} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((K,Q)=>{var se;const[Z,V]=K.split("-");return T.length?$.createElement("ol",{key:K,dir:p==="auto"?bh():p,tabIndex:-1,ref:j,className:u,"data-sonner-toaster":!0,"data-sonner-theme":A,"data-y-position":Z,"data-x-position":V,style:{"--front-toast-height":`${((se=D[0])==null?void 0:se.height)||0}px`,"--width":`${E_}px`,"--gap":`${g}px`,...v,...A_(f,d)},onBlur:Y=>{U.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(U.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||U.current||(U.current=!0,R.current=Y.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{P||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},T.filter(Y=>!Y.position&&Q===0||Y.position===K).map((Y,fe)=>{var le,N;return $.createElement(P_,{key:Y.id,icons:S,index:fe,toast:Y,defaultRichColors:y,duration:(le=m==null?void 0:m.duration)!=null?le:x,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:s,visibleToasts:b,closeButton:(N=m==null?void 0:m.closeButton)!=null?N:c,interacting:P,position:K,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,closeButtonAriaLabel:m==null?void 0:m.closeButtonAriaLabel,removeToast:q,toasts:T.filter(O=>O.position==Y.position),heights:D.filter(O=>O.position==Y.position),setHeights:W,expandByDefault:a,gap:g,expanded:z,swipeDirections:e.swipeDirections})})):null}))}),O_="modulepreload",L_=function(t){return"/"+t},Sh={},Wo=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=L_(o),o in Sh)return;Sh[o]=!0;const i=o.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!n)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===o&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":O_,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},I_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Wo(()=>Promise.resolve().then(()=>Ds),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class wd extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class $_ extends wd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _h extends wd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kh extends wd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kc||(Kc={}));var D_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class M_{constructor(e,{headers:r={},customFetch:n,region:s=Kc.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=I_(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return D_(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(a["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=i):typeof i=="string"?(a["Content-Type"]="text/plain",f=i):typeof FormData<"u"&&i instanceof FormData?f=i:(a["Content-Type"]="application/json",f=JSON.stringify(i)));const d=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:f}).catch(v=>{throw new $_(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new _h(d);if(!d.ok)throw new kh(d);let y=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield d.json():y==="application/octet-stream"?x=yield d.blob():y==="text/event-stream"?x=d:y==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof kh||s instanceof _h?s.context:void 0}}})}}var at={},xd={},Ba={},Go={},Ha={},Va={},F_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ps=F_();const z_=Ps.fetch,mv=Ps.fetch.bind(Ps),gv=Ps.Headers,U_=Ps.Request,B_=Ps.Response,Ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:gv,Request:U_,Response:B_,default:mv,fetch:z_},Symbol.toStringTag,{value:"Module"})),H_=e0(Ds);var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});let V_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Wa.default=V_;var vv=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Va,"__esModule",{value:!0});const W_=vv(H_),G_=vv(Wa);let K_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=W_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c;let u=null,f=null,d=null,h=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const m=await o.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=m:f=JSON.parse(m))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(f=[],u=null,h=200,y="OK")}catch{o.status===404&&v===""?(h=204,y="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,y="OK"),u&&this.shouldThrowOnError)throw new G_.default(u)}return{error:u,data:f,count:d,status:h,statusText:y}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Va.default=K_;var q_=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ha,"__esModule",{value:!0});const Y_=q_(Va);let J_=class extends Y_.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ha.default=J_;var Q_=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Go,"__esModule",{value:!0});const X_=Q_(Ha);let Z_=class extends X_.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Go.default=Z_;var ek=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ba,"__esModule",{value:!0});const Xs=ek(Go);let tk=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Xs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Xs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Xs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ba.default=tk;var Ga={},Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.version=void 0;Ka.version="0.0.0-automated";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.DEFAULT_HEADERS=void 0;const rk=Ka;Ga.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rk.version}`};var yv=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xd,"__esModule",{value:!0});const nk=yv(Ba),sk=yv(Go),ok=Ga;let ik=class wv{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},ok.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new nk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{a.searchParams.append(f,d)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new sk.default({method:i,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};xd.default=ik;var Ms=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(at,"__esModule",{value:!0});at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const xv=Ms(xd);at.PostgrestClient=xv.default;const bv=Ms(Ba);at.PostgrestQueryBuilder=bv.default;const Sv=Ms(Go);at.PostgrestFilterBuilder=Sv.default;const _v=Ms(Ha);at.PostgrestTransformBuilder=_v.default;const kv=Ms(Va);at.PostgrestBuilder=kv.default;const Ev=Ms(Wa);at.PostgrestError=Ev.default;var ak=at.default={PostgrestClient:xv.default,PostgrestQueryBuilder:bv.default,PostgrestFilterBuilder:Sv.default,PostgrestTransformBuilder:_v.default,PostgrestBuilder:kv.default,PostgrestError:Ev.default};const{PostgrestClient:lk,PostgrestQueryBuilder:D2,PostgrestFilterBuilder:M2,PostgrestTransformBuilder:F2,PostgrestBuilder:z2,PostgrestError:U2}=ak;class ck{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const uk="2.15.1",dk=`realtime-js/${uk}`,fk="1.0.0",qc=1e4,hk=1e3,pk=100;var go;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(go||(go={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var Ft;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ft||(Ft={}));var Yc;(function(t){t.websocket="websocket"})(Yc||(Yc={}));var hn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hn||(hn={}));class mk{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+s));i=i+s;const c=n.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Cv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const Eh=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=gk(i,t,e,s),o),{})},gk=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?Nv(o,i):Jc(i)},Nv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return xk(e,r)}switch(t){case he.bool:return vk(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return yk(e);case he.json:case he.jsonb:return wk(e);case he.timestamp:return bk(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Jc(e);default:return Jc(e)}},Jc=t=>t,vk=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xk=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Nv(e,a))}return t},bk=t=>typeof t=="string"?t.replace(" ","T"):t,jv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ml{constructor(e,r,n={},s=qc){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ch;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ch||(Ch={}));class vo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vo.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=vo.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vo.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},c={};return this.map(o,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const d=o[u];if(d){const h=f.map(b=>b.presence_ref),y=d.map(b=>b.presence_ref),x=f.filter(b=>y.indexOf(b.presence_ref)<0),v=d.filter(b=>h.indexOf(b.presence_ref)<0);x.length>0&&(a[u]=x),v.length>0&&(c[u]=v)}else a[u]=f}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const f=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),f.length>0){const d=e[a].map(y=>y.presence_ref),h=f.filter(y=>d.indexOf(y.presence_ref)<0);e[a].unshift(...h)}n(a,f,c)}),this.map(i,(a,c)=>{let u=e[a];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,c),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nh||(Nh={}));var yo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yo||(yo={}));var cr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class bd{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ml(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Cv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new vo(this),this.broadcastEndpointURL=jv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:o,presence:i,private:a}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[yo.PRESENCE]&&this.bindings[yo.PRESENCE].length>0,f={},d={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(cr.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){e==null||e(cr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,v=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,b=[];for(let m=0;m<v;m++){const p=x[m],{filter:{event:g,schema:S,table:_,filter:E}}=p,k=h&&h[m];if(k&&k.event===g&&k.schema===S&&k.table===_&&k.filter===E)b.push(Object.assign(Object.assign({},p),{id:k.id}));else{this.unsubscribe(),this.state=Oe.errored,e==null||e(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(cr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Oe.errored,e==null||e(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Oe.joined&&e===yo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ml(this,Ft.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ml(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>pk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:f}=Ft;if(n&&[a,c,u,f].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,v,b;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(v=y.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(y=>y.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(y=>{var x,v,b,m,p,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const S=y.id,_=(x=y.filter)===null||x===void 0?void 0:x.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return S==="*"||S===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:v,table:b,commit_timestamp:m,type:p,errors:g}=x;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(x))}y.callback(h,n)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&bd.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ft.close,{},e)}_onError(e){this._on(Ft.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Eh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Eh(e.columns,e.old_record)),r}}const jh=()=>{},bi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sk=[1e3,2e3,5e3,1e4],_k=1e4,kk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ek{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qc,this.transport=null,this.heartbeatIntervalMs=bi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jh,this.ref=0,this.reconnectTimer=null,this.logger=jh,this.conn=null,this.sendBuffer=[],this.serializer=new mk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>Wo(()=>Promise.resolve().then(()=>Ds),void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Yc.websocket}`,this.httpEndpoint=jv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ck.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fk}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case go.connecting:return hn.Connecting;case go.open:return hn.Open;case go.closing:return hn.Closing;default:return hn.Closed}}isConnected(){return this.connectionState()===hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new bd(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ft.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([kk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:dk};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Cv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,a,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:qc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:bi.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:f=>Sk[f-1]||_k,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,d)=>d(JSON.stringify(f)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Sd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function De(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ck extends Sd{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qc extends Sd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Nk=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Tv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Wo(()=>Promise.resolve().then(()=>Ds),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jk=()=>Nk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wo(()=>Promise.resolve().then(()=>Ds),void 0)).Response:Response}),Xc=t=>{if(Array.isArray(t))return t.map(r=>Xc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Xc(n)}),e},Tk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var An=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Fl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pk=(t,e,r)=>An(void 0,void 0,void 0,function*(){const n=yield jk();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new Ck(Fl(s),o,i))}).catch(s=>{e(new Qc(Fl(s),s))}):e(new Qc(Fl(t),t))}),Ak=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Tk(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Ko(t,e,r,n,s,o){return An(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,Ak(e,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Pk(c,a,n))})})}function ga(t,e,r,n){return An(this,void 0,void 0,function*(){return Ko(t,"GET",e,r,n)})}function ur(t,e,r,n,s){return An(this,void 0,void 0,function*(){return Ko(t,"POST",e,n,s,r)})}function Zc(t,e,r,n,s){return An(this,void 0,void 0,function*(){return Ko(t,"PUT",e,n,s,r)})}function Rk(t,e,r,n){return An(this,void 0,void 0,function*(){return Ko(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Pv(t,e,r,n,s){return An(this,void 0,void 0,function*(){return Ko(t,"DELETE",e,n,s,r)})}var st=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Ok={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Th={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lk{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Tv(s)}uploadOrUpdate(e,r,n,s){return st(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Th),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield(e=="PUT"?Zc:ur)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}})}upload(e,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return st(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Th.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield Zc(this.fetch,a.toString(),c,{headers:f});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(De(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return st(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Sd("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}update(e,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return st(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}copy(e,r,n){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield ur(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return st(this,void 0,void 0,function*(){try{const s=yield ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}download(e,r){return st(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ga(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}info(e){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ga(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xc(n),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}exists(e){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Rk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(De(n)&&n instanceof Qc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return st(this,void 0,void 0,function*(){try{return{data:yield Pv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}list(e,r,n){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ok),r),{prefix:e||""});return{data:yield ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ik="2.10.5",$k={"X-Client-Info":`storage-js/${Ik}`};var zn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class Dk{constructor(e,r={},n,s){const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},$k),r),this.fetch=Tv(n)}listBuckets(){return zn(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(De(e))return{data:null,error:e};throw e}})}getBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return zn(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return zn(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}emptyBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}deleteBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield Pv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}}class Mk extends Dk{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Lk(this.url,this.headers,e,this.fetch)}}const Fk="2.55.0";let no="";typeof Deno<"u"?no="deno":typeof document<"u"?no="web":typeof navigator<"u"&&navigator.product==="ReactNative"?no="react-native":no="node";const zk={"X-Client-Info":`supabase-js-${no}/${Fk}`},Uk={headers:zk},Bk={schema:"public"},Hk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vk={};var Wk=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Gk=t=>{let e;return t?e=t:typeof fetch>"u"?e=mv:e=fetch,(...r)=>e(...r)},Kk=()=>typeof Headers>"u"?gv:Headers,qk=(t,e,r)=>{const n=Gk(r),s=Kk();return(o,i)=>Wk(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var Yk=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};function Jk(t){return t.endsWith("/")?t:t+"/"}function Qk(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:c,auth:u,realtime:f,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Yk(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Av="2.71.1",Kn=30*1e3,eu=3,zl=eu*Kn,Xk="http://localhost:9999",Zk="supabase.auth.token",eE={"X-Client-Info":`gotrue-js/${Av}`},tu="X-Supabase-Api-Version",Rv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rE=10*60*1e3;class _d extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nE extends _d{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sE(t){return te(t)&&t.name==="AuthApiError"}class Ov extends _d{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Xr extends _d{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class jr extends Xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oE(t){return te(t)&&t.name==="AuthSessionMissingError"}class Si extends Xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _i extends Xr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ki extends Xr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iE(t){return te(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ph extends Xr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ru extends Xr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ul(t){return te(t)&&t.name==="AuthRetryableFetchError"}class Ah extends Xr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nu extends Xr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rh=` 	
\r=`.split(""),aE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rh.length;e+=1)t[Rh[e].charCodeAt(0)]=-2;for(let e=0;e<va.length;e+=1)t[va[e].charCodeAt(0)]=e;return t})();function Oh(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(va[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(va[n]),e.queuedBits-=6}}function Lv(t,e,r){const n=aE[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lh(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{uE(i,n,r)};for(let i=0;i<t.length;i+=1)Lv(t.charCodeAt(i),s,o);return e.join("")}function lE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cE(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}lE(n,e)}}function uE(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function dE(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Lv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function fE(t){const e=[];return cE(t,r=>e.push(r)),new Uint8Array(e)}function hE(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Oh(s,r,n)),Oh(null,r,n),e.join("")}function pE(t){return Math.round(Date.now()/1e3)+t}function mE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",rn={tested:!1,writable:!1},Iv=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rn.tested)return rn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rn.tested=!0,rn.writable=!0}catch{rn.tested=!0,rn.writable=!1}return rn.writable};function gE(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const $v=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Wo(()=>Promise.resolve().then(()=>Ds),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},vE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},nn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cr=async(t,e)=>{await t.removeItem(e)};class qa{constructor(){this.promise=new qa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}qa.promiseConstructor=Promise;function Bl(t){const e=t.split(".");if(e.length!==3)throw new nu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!tE.test(e[n]))throw new nu("JWT not in base64url format");return{header:JSON.parse(Lh(e[0])),payload:JSON.parse(Lh(e[1])),signature:dE(e[2]),raw:{header:e[0],payload:e[1]}}}async function yE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function wE(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function xE(t){return("0"+t.toString(16)).substr(-2)}function bE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,xE).join("")}async function SE(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function _E(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await SE(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Un(t,e,r=!1){const n=bE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await qn(t,`${e}-code-verifier`,s);const o=await _E(n);return[o,n===o?"plain":"s256"]}const kE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EE(t){const e=t.headers.get(tu);if(!e||!e.match(kE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function NE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bn(t){if(!jE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ih(t){return JSON.parse(JSON.stringify(t))}var TE=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PE=[502,503,504];async function $h(t){var e;if(!vE(t))throw new ru(fn(t),0);if(PE.includes(t.status))throw new ru(fn(t),t.status);let r;try{r=await t.json()}catch(o){throw new Ov(fn(o),o)}let n;const s=EE(t);if(s&&s.getTime()>=Rv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ah(fn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new jr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ah(fn(r),t.status,r.weak_password.reasons);throw new nE(fn(r),t.status||500,n)}const AE=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ie(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[tu]||(o[tu]=Rv["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await RE(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function RE(t,e,r,n,s,o){const i=AE(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new ru(fn(c),0)}if(a.ok||await $h(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await $h(c)}}function ar(t){var e;let r=null;$E(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=pE(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Dh(t){const e=ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function OE(t){return{data:t,error:null}}function LE(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=TE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function IE(t){return t}function $E(t){return t.access_token&&t.refresh_token&&t.expires_in}const Vl=["global","local","others"];var DE=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class ME{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=$v(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Vl[0]){if(Vl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vl.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=DE(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:LE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:IE});if(f.error)throw f.error;const d=await f.json(),h=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Bn(e);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Bn(e);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Lr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Bn(e);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Bn(e.userId);try{const{data:r,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Bn(e.userId),Bn(e.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}function Mh(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function FE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hn={debug:!!(globalThis&&Iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zE extends Dv{}async function UE(t,e,r){Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Hn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}FE();const BE={url:Xk,storageKey:Zk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fh(t,e,r){return await r()}const Vn={};class $o{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$o.nextInstanceID,$o.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},BE),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ME({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$v(s.fetch),this.lock=s.lock||Fh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:It()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=UE:this.lock=Fh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Mh(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Vn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Vn[this.storageKey]=Object.assign(Object.assign({},Vn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Vn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vn[this.storageKey]=Object.assign(Object.assign({},Vn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Av}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=gE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),It()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),iE(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?{error:r}:{error:new Ov("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ar}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:f,password:d,options:h}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Un(this.storage,this.storageKey)),o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:x},xform:ar})}else if("phone"in e){const{phone:f,password:d,options:h}=e;o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ar})}else throw new _i("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dh})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dh})}else throw new _i("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Si}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,o,i,a,c,u,f,d,h,y;let x,v;if("message"in e)x=e.message,v=e.signature;else{const{chain:b,wallet:m,statement:p,options:g}=e;let S;if(It())if(typeof m=="object")S=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=m}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(f=g==null?void 0:g.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:b,error:m}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:hE(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ar});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Si}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(te(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await nn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ar});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Si}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ar}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Si}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:c}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Un(this.storage,this.storageKey));const{error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:f}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new _i("You must provide either an email or phone number.")}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ar});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Un(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:OE})}catch(o){if(te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new jr;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new _i("You must provide either an email or phone number and a type")}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<zl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await nn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Hl()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,f)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lr}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jr}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Lr})})}catch(r){if(te(r))return oE(r)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new jr;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Un(this.storage,this.storageKey));const{data:u,error:f}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:Lr});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Bl(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new jr;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!It())throw new ki("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ki(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ph("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ki("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ph("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=e;if(!o||!a||!i||!u)throw new ki("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(a);let h=f+d;c&&(h=parseInt(c));const y=h-f;y*1e3<=Kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${d}s`);const x=h-d;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,f);const{data:v,error:b}=await this._getUser(o);if(b)throw b;const m={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:h,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await nn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(sE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=mE(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Un(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,f;const{data:d,error:h}=o;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return It()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(te(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wE(async s=>(s>0&&await yE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ar})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Ul(o)&&Date.now()+i-n<Kn})}catch(n){if(this._debug(r,"error",n),te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),It()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await nn(this.storage,this.storageKey);if(s&&this.userStorage){let i=await nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await qn(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Hl()}else if(s&&!s.user&&!s.user){const i=await nn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Cr(this.storage,this.storageKey+"-user"),await qn(this.storage,this.storageKey,s)):s.user=Hl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zl;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${zl}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Ul(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qa;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new jr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),te(o)){const i={session:null,error:o};return Ul(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Ih(s);await qn(this.storage,this.storageKey,o)}else{const s=Ih(r);await qn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Cr(this.storage,this.storageKey),await Cr(this.storage,this.storageKey+"-code-verifier"),await Cr(this.storage,this.storageKey+"-user"),this.userStorage&&await Cr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kn}ms, refresh threshold is ${eu} ticks`),s<=eu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Un(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bl(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+rE>s)return n;const{data:o,error:i}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=Bl(n);r!=null&&r.allowExpired||CE(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:o,header:s,signature:i},error:null}}const f=NE(s.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,i,fE(`${a}.${c}`)))throw new nu("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}$o.nextInstanceID=0;const HE=$o;class VE extends HE{constructor(e){super(e)}}var WE=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class GE{constructor(e,r,n){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Jk(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Bk,realtime:Vk,auth:Object.assign(Object.assign({},Hk),{storageKey:u}),global:Uk},d=Qk(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=qk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new lk(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Mk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new M_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return WE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:a,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VE({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:a,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ek(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KE=(t,e,r)=>new GE(t,e,r);function qE(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}qE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zh="https://ugfkyfmthbwqoeauyqlz.supabase.co",YE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVnZmt5Zm10aGJ3cW9lYXV5cWx6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NjU0MzksImV4cCI6MjA2NTI0MTQzOX0.0hr_vXm8xjkGytwbY0mR6OPs_9SR6hmiv8ucNSaRJ0U";class JE{constructor(){be(this,"client");be(this,"isConfigured",!0);this.client=KE(zh,YE),console.log(" Supabase initialized with hardcoded credentials")}isReady(){return this.isConfigured&&this.client!==null}getConfig(){return{url:zh,hasApiKey:!0}}async testConnection(){if(!this.isReady())return console.error(" Supabase not configured"),!1;try{console.log(" Testing Supabase connection...");const{data:e,error:r}=await this.client.storage.listBuckets();return r?(console.error(" Supabase connection test failed:",r.message),r.message.includes("Invalid API key")&&console.error(" Please check your Supabase API key configuration"),!1):(console.log(" Supabase connection test successful. Available buckets:",(e==null?void 0:e.map(n=>n.name))||[]),!0)}catch(e){return console.error(" Supabase connection test error:",e),!1}}async createGalleriesTable(){if(!this.isReady())return{success:!1,error:"Supabase not configured"};try{console.log(" Creating galleries table...");const{data:e,error:r}=await this.client.rpc("create_galleries_table",{sql_query:`
          CREATE TABLE IF NOT EXISTS galleries (
            id TEXT PRIMARY KEY,
            name TEXT NOT NULL,
            description TEXT,
            created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
            updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
            is_public BOOLEAN DEFAULT TRUE,
            password TEXT,
            bucket_folder TEXT,
            bucket_name TEXT DEFAULT 'photos',
            photo_count INTEGER DEFAULT 0,
            view_count INTEGER DEFAULT 0,
            allow_comments BOOLEAN DEFAULT TRUE,
            allow_favorites BOOLEAN DEFAULT TRUE
          );
          
          -- Create index for better performance
          CREATE INDEX IF NOT EXISTS idx_galleries_created_at ON galleries(created_at DESC);
          CREATE INDEX IF NOT EXISTS idx_galleries_bucket ON galleries(bucket_name, bucket_folder);
        `});return r?(console.error(" Error creating galleries table:",r),{success:!1,error:r.message}):(console.log(" Galleries table created successfully"),{success:!0})}catch(e){return console.error(" Error creating galleries table:",e),{success:!1,error:"Failed to create table"}}}async executeSQL(e){if(!this.isReady())return{success:!1,error:"Supabase not configured"};try{const{data:r,error:n}=await this.client.rpc("execute_sql",{sql_query:e});return n?{success:!1,error:n.message}:{success:!0,data:r}}catch(r){return console.error("Error executing SQL:",r),{success:!1,error:"SQL execution failed"}}}async listFiles(e,r){if(!this.isReady())return console.error(" Supabase not configured"),[];try{const n=r||"";console.log(` Listing files in bucket "${e}", folder "${n}"`);const{data:s,error:o}=await this.client.storage.from(e).list(n,{limit:1e3,offset:0,sortBy:{column:"created_at",order:"desc"}});if(o)return console.error(" Error listing files:",o.message),[];const i=(s||[]).filter(a=>{const c=a.metadata,u=a.name.match(/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i);return c&&u});return console.log(` Found ${i.length} image files in ${e}/${n}`),i}catch(n){return console.error(" Error listing files:",n),[]}}getPublicUrl(e,r){if(!this.isReady())return console.error(" Supabase not configured"),null;try{const{data:n}=this.client.storage.from(e).getPublicUrl(r);return n.publicUrl}catch(n){return console.error(" Error getting public URL:",n),null}}async uploadFile(e,r,n,s){if(!this.isReady())return{success:!1,error:"Supabase not configured"};try{console.log(` Uploading file to ${e}/${r}`);const{data:o,error:i}=await this.client.storage.from(e).upload(r,n,{upsert:(s==null?void 0:s.upsert)||!1,cacheControl:(s==null?void 0:s.cacheControl)||"3600"});return i?(console.error(" Upload error:",i.message),{success:!1,error:i.message}):(console.log(" File uploaded successfully:",o.path),{success:!0,path:o.path})}catch(o){return console.error(" Upload error:",o),{success:!1,error:"Upload failed"}}}async uploadTextFile(e,r,n,s){if(!this.isReady())return{success:!1,error:"Supabase not configured"};try{console.log(` Uploading text file to ${e}/${r}`);const o=new Blob([n],{type:"text/plain; charset=utf-8"}),i=new File([o],r.split("/").pop()||"selection.txt",{type:"text/plain"});return await this.uploadFile(e,r,i,s)}catch(o){return console.error(" Text upload error:",o),{success:!1,error:"Text upload failed"}}}async deleteFile(e,r){if(!this.isReady())return{success:!1,error:"Supabase not configured"};try{console.log(` Deleting file ${e}/${r}`);const{data:n,error:s}=await this.client.storage.from(e).remove([r]);return s?(console.error(" Delete error:",s.message),{success:!1,error:s.message}):(console.log(" File deleted successfully"),{success:!0})}catch(n){return console.error(" Delete error:",n),{success:!1,error:"Delete failed"}}}async moveFile(e,r,n){if(!this.isReady())return{success:!1,error:"Supabase not configured"};try{console.log(` Moving file from ${r} to ${n}`);const{data:s,error:o}=await this.client.storage.from(e).move(r,n);return o?(console.error(" Move error:",o.message),{success:!1,error:o.message}):(console.log(" File moved successfully"),{success:!0})}catch(s){return console.error(" Move error:",s),{success:!1,error:"Move failed"}}}async createFolder(e,r){if(!this.isReady())return{success:!1,error:"Supabase not configured"};try{const n=new File([""],".gitkeep",{type:"text/plain"}),s=`${r}/.gitkeep`,o=await this.uploadFile(e,s,n);return o.success?(console.log(` Folder created: ${e}/${r}`),{success:!0}):o}catch(n){return console.error(" Create folder error:",n),{success:!1,error:"Failed to create folder"}}}async uploadMultipleFiles(e,r,n){const s=[],o=[];for(let i=0;i<r.length;i++){const{file:a,path:c}=r[i],u=await this.uploadFile(e,c,a);u.success?s.push(c):o.push({path:c,error:u.error||"Unknown error"}),n==null||n(i+1,r.length)}return{successful:s,failed:o}}static formatFileSize(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,s)).toFixed(2))+" "+n[s]}static isValidImageFile(e){return["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/svg+xml"].includes(e.type)}static generateUniqueFilename(e){const r=Date.now(),n=Math.random().toString(36).substring(2,8),s=e.substring(e.lastIndexOf("."));return`${e.substring(0,e.lastIndexOf(".")).replace(/[^a-zA-Z0-9]/g,"-")}-${r}-${n}${s}`}}const B=new JE;class QE{constructor(){be(this,"LOCAL_FAVORITES_KEY","gallery-favorites");be(this,"LOCAL_COMMENTS_KEY","gallery-comments");be(this,"DEVICE_ID_KEY","gallery-device-id");be(this,"FAVORITES_TABLE","favorites");be(this,"COMMENTS_TABLE","comments");be(this,"deviceId");be(this,"migrationComplete",!1);this.deviceId=this.getOrCreateDeviceId(),console.log(" Device ID:",this.deviceId)}getOrCreateDeviceId(){try{let e=localStorage.getItem(this.DEVICE_ID_KEY);return e||(e=`device_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,localStorage.setItem(this.DEVICE_ID_KEY,e)),e}catch(e){return console.error("Error managing device ID:",e),`device_${Date.now()}_${Math.random().toString(36).substring(2,15)}`}}async migrateLocalData(){if(!(this.migrationComplete||!B.isReady()))try{console.log(" Migrating local favorites and comments to Supabase...");const e=localStorage.getItem(this.LOCAL_FAVORITES_KEY);if(e)try{const n=JSON.parse(e),s=[];for(const[o,i]of Object.entries(n))if(Array.isArray(i))for(const a of i)s.push(this.addToFavoritesSupabase(o,a));await Promise.allSettled(s),console.log(" Migrated favorites to Supabase")}catch(n){console.warn(" Error migrating favorites:",n)}const r=localStorage.getItem(this.LOCAL_COMMENTS_KEY);if(r)try{const n=JSON.parse(r),s=[];for(const[o,i]of Object.entries(n))if(Array.isArray(i))for(const a of i)a.photoId&&a.comment&&s.push(this.addCommentSupabase(o,a.photoId,a.comment));await Promise.allSettled(s),console.log(" Migrated comments to Supabase")}catch(n){console.warn(" Error migrating comments:",n)}e&&(localStorage.setItem(`${this.LOCAL_FAVORITES_KEY}-backup`,e),localStorage.removeItem(this.LOCAL_FAVORITES_KEY)),r&&(localStorage.setItem(`${this.LOCAL_COMMENTS_KEY}-backup`,r),localStorage.removeItem(this.LOCAL_COMMENTS_KEY)),this.migrationComplete=!0,console.log(" Local data migration completed")}catch(e){console.error(" Migration failed:",e)}}async getFavorites(e){try{return B.isReady()?(await this.migrateLocalData(),await this.getFavoritesFromSupabase(e)):this.getFavoritesFromLocal(e)}catch(r){return console.error("Error getting favorites:",r),this.getFavoritesFromLocal(e)}}async getFavoritesFromSupabase(e){try{console.log(` Fetching ALL favorites for gallery ${e} from Supabase (shared selection)...`);const{data:r,error:n}=await B.client.from(this.FAVORITES_TABLE).select("*").eq("gallery_id",e).order("created_at",{ascending:!1});if(n)return console.error("Error fetching favorites from Supabase:",n),this.getFavoritesFromLocal(e);const s=new Map;(r||[]).forEach(i=>{const a=i.photo_id;s.has(a)||s.set(a,{id:i.id,galleryId:i.gallery_id,photoId:i.photo_id,deviceId:i.device_id,createdAt:i.created_at,updatedAt:i.updated_at})});const o=Array.from(s.values());return console.log(` Loaded ${o.length} unique favorites from Supabase (shared selection)`),o}catch(r){return console.error("Error fetching favorites from Supabase:",r),this.getFavoritesFromLocal(e)}}getFavoritesFromLocal(e){try{const r=localStorage.getItem(this.LOCAL_FAVORITES_KEY);return r?(JSON.parse(r)[e]||[]).map((o,i)=>({id:`local_${e}_${o}_${i}`,galleryId:e,photoId:o,deviceId:this.deviceId,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})):[]}catch(r){return console.error("Error loading local favorites:",r),[]}}async addToFavorites(e,r){try{return B.isReady()?await this.addToFavoritesSupabase(e,r):this.addToFavoritesLocal(e,r)}catch(n){return console.error("Error adding to favorites:",n),this.addToFavoritesLocal(e,r)}}async addToFavoritesSupabase(e,r){console.log(` Adding photo ${r} to shared favorites in Supabase...`);const{data:n}=await B.client.from(this.FAVORITES_TABLE).select("id").eq("gallery_id",e).eq("photo_id",r).limit(1);if(n&&n.length>0){console.log("Photo already in favorites, returning existing");const{data:a}=await B.client.from(this.FAVORITES_TABLE).select("*").eq("id",n[0].id).single();if(a)return{id:a.id,galleryId:a.gallery_id,photoId:a.photo_id,deviceId:a.device_id,createdAt:a.created_at,updatedAt:a.updated_at}}const{data:s,error:o}=await B.client.from(this.FAVORITES_TABLE).insert([{gallery_id:e,photo_id:r,device_id:this.deviceId}]).select().single();if(o)throw console.error("Error adding to favorites in Supabase:",o),o;const i={id:s.id,galleryId:s.gallery_id,photoId:s.photo_id,deviceId:s.device_id,createdAt:s.created_at,updatedAt:s.updated_at};return console.log(" Added to shared favorites in Supabase"),i}addToFavoritesLocal(e,r){try{const n=localStorage.getItem(this.LOCAL_FAVORITES_KEY),s=n?JSON.parse(n):{};return s[e]||(s[e]=[]),s[e].includes(r)||(s[e].push(r),localStorage.setItem(this.LOCAL_FAVORITES_KEY,JSON.stringify(s))),{id:`local_${e}_${r}_${Date.now()}`,galleryId:e,photoId:r,deviceId:this.deviceId,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(n){throw console.error("Error adding to local favorites:",n),n}}async removeFromFavorites(e,r){try{return B.isReady()?await this.removeFromFavoritesSupabase(e,r):this.removeFromFavoritesLocal(e,r)}catch(n){return console.error("Error removing from favorites:",n),this.removeFromFavoritesLocal(e,r)}}async removeFromFavoritesSupabase(e,r){console.log(` Removing photo ${r} from shared favorites in Supabase...`);const{error:n}=await B.client.from(this.FAVORITES_TABLE).delete().eq("gallery_id",e).eq("photo_id",r);return n?(console.error("Error removing from favorites in Supabase:",n),!1):(console.log(" Removed from shared favorites in Supabase"),!0)}removeFromFavoritesLocal(e,r){try{const n=localStorage.getItem(this.LOCAL_FAVORITES_KEY);if(!n)return!1;const s=JSON.parse(n);if(!s[e])return!1;const o=s[e].indexOf(r);return o>-1?(s[e].splice(o,1),localStorage.setItem(this.LOCAL_FAVORITES_KEY,JSON.stringify(s)),!0):!1}catch(n){return console.error("Error removing from local favorites:",n),!1}}async getComments(e){try{return B.isReady()?(await this.migrateLocalData(),await this.getCommentsFromSupabase(e)):this.getCommentsFromLocal(e)}catch(r){return console.error("Error getting comments:",r),this.getCommentsFromLocal(e)}}async getCommentsFromSupabase(e){try{console.log(` Fetching comments for gallery ${e} from Supabase...`);const{data:r,error:n}=await B.client.from(this.COMMENTS_TABLE).select("*").eq("gallery_id",e).order("created_at",{ascending:!1});if(n)return console.error("Error fetching comments from Supabase:",n),this.getCommentsFromLocal(e);const s=(r||[]).map(o=>({id:o.id,galleryId:o.gallery_id,photoId:o.photo_id,deviceId:o.device_id,comment:o.comment,createdAt:o.created_at,updatedAt:o.updated_at}));return console.log(` Loaded ${s.length} comments from Supabase`),s}catch(r){return console.error("Error fetching comments from Supabase:",r),this.getCommentsFromLocal(e)}}getCommentsFromLocal(e){try{const r=localStorage.getItem(this.LOCAL_COMMENTS_KEY);return r?(JSON.parse(r)[e]||[]).map((o,i)=>({id:o.id||`local_${e}_${o.photoId}_${i}`,galleryId:e,photoId:o.photoId,deviceId:this.deviceId,comment:o.comment,createdAt:o.createdAt||new Date().toISOString(),updatedAt:o.updatedAt||new Date().toISOString()})):[]}catch(r){return console.error("Error loading local comments:",r),[]}}async addComment(e,r,n){try{return B.isReady()?await this.addCommentSupabase(e,r,n):this.addCommentLocal(e,r,n)}catch(s){return console.error("Error adding comment:",s),this.addCommentLocal(e,r,n)}}async addCommentSupabase(e,r,n){console.log(` Adding comment for photo ${r} in Supabase...`);const{data:s,error:o}=await B.client.from(this.COMMENTS_TABLE).insert([{gallery_id:e,photo_id:r,device_id:this.deviceId,comment:n}]).select().single();if(o)throw console.error("Error adding comment in Supabase:",o),o;const i={id:s.id,galleryId:s.gallery_id,photoId:s.photo_id,deviceId:s.device_id,comment:s.comment,createdAt:s.created_at,updatedAt:s.updated_at};return console.log(" Added comment in Supabase"),i}addCommentLocal(e,r,n){try{const s=localStorage.getItem(this.LOCAL_COMMENTS_KEY),o=s?JSON.parse(s):{};o[e]||(o[e]=[]);const i={id:`local_${e}_${r}_${Date.now()}`,galleryId:e,photoId:r,deviceId:this.deviceId,comment:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return o[e].push(i),localStorage.setItem(this.LOCAL_COMMENTS_KEY,JSON.stringify(o)),i}catch(s){throw console.error("Error adding local comment:",s),s}}async removeComment(e){try{return B.isReady()?await this.removeCommentSupabase(e):this.removeCommentLocal(e)}catch(r){return console.error("Error removing comment:",r),!1}}async removeCommentSupabase(e){console.log(` Removing comment ${e} from Supabase...`);const{error:r}=await B.client.from(this.COMMENTS_TABLE).delete().eq("id",e).eq("device_id",this.deviceId);return r?(console.error("Error removing comment from Supabase:",r),!1):(console.log(" Removed comment from Supabase"),!0)}removeCommentLocal(e){try{const r=localStorage.getItem(this.LOCAL_COMMENTS_KEY);if(!r)return!1;const n=JSON.parse(r);let s=!1;for(const o in n){const i=n[o],a=i.findIndex(c=>c.id===e);if(a>-1){i.splice(a,1),s=!0;break}}return s&&localStorage.setItem(this.LOCAL_COMMENTS_KEY,JSON.stringify(n)),s}catch(r){return console.error("Error removing local comment:",r),!1}}async getPhotoComments(e,r){try{return(await this.getComments(e)).filter(s=>s.photoId===r)}catch(n){return console.error("Error getting photo comments:",n),[]}}async isPhotoFavorited(e,r){try{return(await this.getFavorites(e)).some(s=>s.photoId===r)}catch(n){return console.error("Error checking if photo is favorited:",n),!1}}async getDeviceId(){return this.deviceId}async getFavoritesCount(e){try{return(await this.getFavorites(e)).length}catch(r){return console.error("Error getting favorites count:",r),0}}async getCommentsCount(e){try{return(await this.getComments(e)).length}catch(r){return console.error("Error getting comments count:",r),0}}async getPhotoCommentsCount(e,r){try{return(await this.getPhotoComments(e,r)).length}catch(n){return console.error("Error getting photo comments count:",n),0}}async clearAllFavorites(e){try{if(B.isReady()){const{error:n}=await B.client.from(this.FAVORITES_TABLE).delete().eq("gallery_id",e);if(n)return console.error("Error clearing favorites from Supabase:",n),!1}const r=localStorage.getItem(this.LOCAL_FAVORITES_KEY);if(r){const n=JSON.parse(r);delete n[e],localStorage.setItem(this.LOCAL_FAVORITES_KEY,JSON.stringify(n))}return!0}catch(r){return console.error("Error clearing all favorites:",r),!1}}async clearAllComments(e){try{if(B.isReady()){const{error:n}=await B.client.from(this.COMMENTS_TABLE).delete().eq("gallery_id",e);if(n)return console.error("Error clearing comments from Supabase:",n),!1}const r=localStorage.getItem(this.LOCAL_COMMENTS_KEY);if(r){const n=JSON.parse(r);delete n[e],localStorage.setItem(this.LOCAL_COMMENTS_KEY,JSON.stringify(n))}return!0}catch(r){return console.error("Error clearing all comments:",r),!1}}}const vt=new QE;class XE{constructor(){be(this,"SELECTIONS_BUCKET","photos")}generateSelectionText(e){const r=[];return r.push("=".repeat(60)),r.push("SLECTION CLIENT - GALERIE PHOTO"),r.push("=".repeat(60)),r.push(""),r.push(`Galerie: ${e.galleryName}`),r.push(`ID Galerie: ${e.galleryId}`),r.push(`Date d'export: ${e.exportDate}`),r.push(`Total photos slectionnes: ${e.totalSelected}`),r.push(""),e.clientInfo&&(e.clientInfo.name||e.clientInfo.email)&&(r.push("INFORMATIONS CLIENT:"),r.push("-".repeat(30)),e.clientInfo.name&&r.push(`Nom: ${e.clientInfo.name}`),e.clientInfo.email&&r.push(`Email: ${e.clientInfo.email}`),e.clientInfo.phone&&r.push(`Tlphone: ${e.clientInfo.phone}`),r.push("")),r.push("PHOTOS SLECTIONNES:"),r.push("-".repeat(30)),e.selectedPhotos.forEach((n,s)=>{r.push(`${s+1}. ${n.originalName||n.photoName}`),r.push(`   ID: ${n.photoId}`),r.push(`   URL: ${n.url}`),n.comments.length>0&&(r.push("   Commentaires:"),n.comments.forEach(o=>{r.push(`   - ${o}`)})),r.push("")}),r.push("=".repeat(60)),r.push("Fichier gnr automatiquement par le systme de galerie photo"),r.push(`Gnr le: ${new Date().toLocaleString("fr-FR")}`),r.push("=".repeat(60)),r.join(`
`)}async exportSelection(e,r,n){try{console.log(" Exporting selection for gallery:",e);const s=await vt.getFavorites(e);if(s.length===0)return{success:!1,error:"Aucune photo slectionne  exporter"};const o=await vt.getComments(e),i={};o.forEach(v=>{i[v.photoId]||(i[v.photoId]=[]),i[v.photoId].push(v.text)});const a={galleryId:e,galleryName:r,exportDate:new Date().toLocaleDateString("fr-FR"),selectedPhotos:s.map(v=>({photoId:v.photoId,photoName:v.photoName||"Photo sans nom",originalName:v.originalName||v.photoName||"Photo sans nom",url:v.photoUrl||"",comments:i[v.photoId]||[]})),totalSelected:s.length,clientInfo:n},c=this.generateSelectionText(a),u=new Date().toISOString().replace(/[:.]/g,"-").split("T")[0],f=n!=null&&n.name?`-${n.name.replace(/[^a-zA-Z0-9]/g,"")}`:"",d=`selection-${e}${f}-${u}.txt`,h=`${e}/${d}`,y=await B.uploadTextFile(this.SELECTIONS_BUCKET,h,c,{upsert:!0});if(!y.success)return{success:!1,error:y.error||"chec de l'upload du fichier de slection"};const x=B.getPublicUrl(this.SELECTIONS_BUCKET,h);return console.log(" Selection exported successfully:",d),{success:!0,fileName:d,downloadUrl:x||void 0}}catch(s){return console.error(" Error exporting selection:",s),{success:!1,error:"Erreur lors de l'export de la slection"}}}async getSelectionHistory(e){try{return B.isReady()?{success:!0,selections:(await B.listFiles(this.SELECTIONS_BUCKET,e)).filter(s=>s.name.endsWith(".txt")).map(s=>({name:s.name,created_at:s.created_at,url:B.getPublicUrl(this.SELECTIONS_BUCKET,`${e}/${s.name}`)||""})).sort((s,o)=>new Date(o.created_at).getTime()-new Date(s.created_at).getTime())}:{success:!1,selections:[],error:"Supabase non configur"}}catch(r){return console.error("Error getting selection history:",r),{success:!1,selections:[],error:"Erreur lors de la rcupration de l'historique"}}}async quickExportSelection(e,r){return await this.exportSelection(e,r)}async exportSelectionWithClientInfo(e,r,n,s,o){const i={name:n==null?void 0:n.trim(),email:s==null?void 0:s.trim(),phone:o==null?void 0:o.trim()};return Object.keys(i).forEach(a=>{i[a]||delete i[a]}),await this.exportSelection(e,r,i)}generateFileName(e,r){const n=new Date().toISOString().split("T")[0],s=r?`-${r.replace(/[^a-zA-Z0-9]/g,"")}`:"";return`selection-${e}${s}-${n}.txt`}validateClientInfo(e,r,n){const s=[];return r&&r.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.trim())||s.push("Format d'email invalide")),n&&n.trim()&&(/^[\d\s\-\+\(\)\.]{8,}$/.test(n.trim().replace(/\s/g,""))||s.push("Format de tlphone invalide")),{isValid:s.length===0,errors:s}}}const Wl=new XE;function Mv({galleryId:t,galleryName:e,className:r="",variant:n="default",size:s="default"}){const[o,i]=w.useState(!1),[a,c]=w.useState(!1),[u,f]=w.useState(0),[d,h]=w.useState("info"),[y,x]=w.useState({name:"",email:"",phone:""}),[v,b]=w.useState([]),[m,p]=w.useState(null),g=async()=>{try{const T=await vt.getFavorites(t);if(f(T.length),T.length===0){J.error("Aucune photo slectionne  soumettre");return}i(!0),h("info"),p(null),b([])}catch(T){console.error("Error loading selection count:",T),J.error("Erreur lors du chargement de la slection")}},S=async()=>{try{c(!0),h("submitting");const T=await Wl.quickExportSelection(t,e);if(T.success)p(T),h("success"),J.success("Slection soumise avec succs !");else throw new Error(T.error||"chec de la soumission")}catch(T){console.error("Error submitting selection:",T),J.error("Erreur lors de la soumission"),h("info")}finally{c(!1)}},_=async()=>{try{const T=Wl.validateClientInfo(y.name,y.email,y.phone);if(!T.isValid){b(T.errors);return}c(!0),h("submitting"),b([]);const I=await Wl.exportSelectionWithClientInfo(t,e,y.name||void 0,y.email||void 0,y.phone||void 0);if(I.success)p(I),h("success"),J.success("Slection soumise avec succs !");else throw new Error(I.error||"chec de la soumission")}catch(T){console.error("Error submitting selection:",T),J.error("Erreur lors de la soumission"),h("info")}finally{c(!1)}},E=()=>{i(!1),h("info"),p(null),b([]),x({name:"",email:"",phone:""})},k=()=>{m!=null&&m.downloadUrl&&window.open(m.downloadUrl,"_blank")};return l.jsxs(l.Fragment,{children:[l.jsxs(oe,{onClick:g,variant:n,size:s,className:`${r} font-medium`,children:[l.jsx(cs,{className:"h-4 w-4 mr-2"}),"Soumettre ma slection"]}),l.jsx(cv,{open:o,onOpenChange:i,children:l.jsxs(pd,{className:"sm:max-w-md",children:[l.jsxs(dv,{children:[l.jsxs(md,{className:"flex items-center gap-2",children:[d==="success"?l.jsx(ls,{className:"h-5 w-5 text-green-600"}):l.jsx(cs,{className:"h-5 w-5"}),d==="info"&&"Soumettre ma slection",d==="submitting"&&"Soumission en cours...",d==="success"&&"Slection soumise !"]}),l.jsxs(gd,{children:[d==="info"&&`Vous avez slectionn ${u} photo${u!==1?"s":""} dans la galerie "${e}".`,d==="submitting"&&"Cration du fichier de slection en cours...",d==="success"&&"Votre slection a t soumise avec succs."]})]}),d==="info"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fb,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:"Ma slection"})]}),l.jsxs(Ut,{variant:"secondary",children:[u," photo",u!==1?"s":""]})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Un fichier texte sera cr avec la liste de vos photos slectionnes et vos commentaires."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Pe,{htmlFor:"client-name",className:"flex items-center gap-2",children:[l.jsx(N1,{className:"h-4 w-4"}),"Nom (optionnel)"]}),l.jsx(Ke,{id:"client-name",placeholder:"Votre nom...",value:y.name,onChange:T=>x(I=>({...I,name:T.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Pe,{htmlFor:"client-email",className:"flex items-center gap-2",children:[l.jsx(i1,{className:"h-4 w-4"}),"Email (optionnel)"]}),l.jsx(Ke,{id:"client-email",type:"email",placeholder:"votre@email.com",value:y.email,onChange:T=>x(I=>({...I,email:T.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Pe,{htmlFor:"client-phone",className:"flex items-center gap-2",children:[l.jsx(c1,{className:"h-4 w-4"}),"Tlphone (optionnel)"]}),l.jsx(Ke,{id:"client-phone",type:"tel",placeholder:"06 12 34 56 78",value:y.phone,onChange:T=>x(I=>({...I,phone:T.target.value}))})]})]}),v.length>0&&l.jsxs(vd,{variant:"destructive",children:[l.jsx(Cg,{className:"h-4 w-4"}),l.jsx(yd,{children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:v.map((T,I)=>l.jsx("li",{children:T},I))})})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(oe,{variant:"outline",onClick:S,disabled:a,className:"flex-1",children:[l.jsx(cs,{className:"h-4 w-4 mr-2"}),"Soumettre rapidement"]}),l.jsxs(oe,{onClick:_,disabled:a,className:"flex-1",children:[l.jsx(cs,{className:"h-4 w-4 mr-2"}),"Soumettre avec infos"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Vos informations personnelles sont optionnelles et ne seront utilises que pour identifier votre slection."})]}),d==="submitting"&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(t1,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),l.jsx("p",{className:"text-muted-foreground",children:"Cration du fichier de slection..."})]}),d==="success"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx(ls,{className:"h-5 w-5 text-green-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-green-800",children:"Slection soumise avec succs"}),l.jsx("p",{className:"text-sm text-green-600",children:"Votre photographe recevra votre slection."})]})]}),(m==null?void 0:m.fileName)&&l.jsxs("div",{className:"text-sm text-green-700",children:[l.jsx("strong",{children:"Fichier cr :"})," ",m.fileName]})]}),l.jsxs("div",{className:"flex gap-3",children:[(m==null?void 0:m.downloadUrl)&&l.jsxs(oe,{variant:"outline",onClick:k,className:"flex-1",children:[l.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Tlcharger"]}),l.jsx(oe,{onClick:E,className:"flex-1",children:"Fermer"})]})]})]})})]})}class ZE{constructor(){be(this,"LOCAL_STORAGE_KEY","photo-galleries");be(this,"PHOTOS_KEY","gallery-photos");be(this,"AUTH_KEY","gallery-auth-sessions");be(this,"DEFAULT_BUCKET","photos");be(this,"GALLERIES_TABLE","galleries");be(this,"PHOTOS_TABLE","photos");be(this,"migrationComplete",!1)}async checkDatabaseHealth(){if(!B.isReady())return{tablesExist:!1,functionsExist:!1};try{const{error:e}=await B.client.from(this.GALLERIES_TABLE).select("id").limit(1),{error:r}=await B.client.from(this.PHOTOS_TABLE).select("id").limit(1),{error:n}=await B.client.rpc("get_gallery_subfolders",{gallery_id_param:"test"}),s=!e&&!r,o=!n||n.code!=="PGRST202";return console.log("Database health check:",{tablesExist:s,functionsExist:o,galleriesError:e==null?void 0:e.code,photosError:r==null?void 0:r.code,functionError:n==null?void 0:n.code}),{tablesExist:s,functionsExist:o}}catch(e){return console.error("Database health check failed:",e),{tablesExist:!1,functionsExist:!1}}}async ensureTableExists(){if(!B.isReady()){console.warn(" Supabase not ready - this should not happen with hardcoded config");return}try{const e=await this.checkDatabaseHealth();e.tablesExist||(console.warn(" Database tables do not exist. Please run the SQL setup script."),console.log(" Execute the SUPABASE_FOLDERS_UPDATE.sql file in your Supabase SQL Editor.")),e.functionsExist||console.warn(" Database functions do not exist. Please run the SQL setup script.")}catch(e){console.error(" Error checking database health:",e)}}async migrateLocalGalleries(){if(!(this.migrationComplete||!B.isReady()))try{if(!(await this.checkDatabaseHealth()).tablesExist){console.warn("Cannot migrate - database tables not ready");return}console.log(" Checking for local galleries to migrate...");const r=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(!r){this.migrationComplete=!0;return}const n=JSON.parse(r);if(!Array.isArray(n)||n.length===0){this.migrationComplete=!0;return}console.log(` Found ${n.length} local galleries to migrate`);const s=n.map(i=>({id:i.id,name:i.name,description:i.description||null,created_at:i.createdAt,updated_at:i.updatedAt,is_public:i.isPublic,password:i.password||null,bucket_folder:i.bucketFolder||null,bucket_name:i.bucketName||this.DEFAULT_BUCKET,photo_count:i.photoCount||0,view_count:i.viewCount||0,allow_comments:i.allowComments!==!1,allow_favorites:i.allowFavorites!==!1})),{error:o}=await B.client.from(this.GALLERIES_TABLE).upsert(s,{onConflict:"id"});if(o)throw console.error(" Error migrating galleries:",o),o;console.log(" Successfully migrated galleries to Supabase"),localStorage.setItem(`${this.LOCAL_STORAGE_KEY}-backup`,r),localStorage.removeItem(this.LOCAL_STORAGE_KEY),this.migrationComplete=!0}catch(e){console.error(" Migration failed:",e)}}async getGalleries(){try{if(!B.isReady())return console.error(" Supabase should be ready with hardcoded config"),this.getLocalGalleries();if(await this.ensureTableExists(),!(await this.checkDatabaseHealth()).tablesExist)return console.warn(" Database not ready, falling back to local storage"),this.getLocalGalleries();await this.migrateLocalGalleries(),console.log(" Fetching galleries from Supabase...");const{data:r,error:n}=await B.client.from(this.GALLERIES_TABLE).select("*").order("created_at",{ascending:!1});if(n)return console.error(" Error fetching galleries from Supabase:",n),this.getLocalGalleries();const s=(r||[]).map(o=>({id:o.id,name:o.name,description:o.description||void 0,createdAt:o.created_at,updatedAt:o.updated_at,isPublic:o.is_public,password:o.password||void 0,bucketFolder:o.bucket_folder||void 0,bucketName:o.bucket_name||this.DEFAULT_BUCKET,photoCount:o.photo_count||0,viewCount:o.view_count||0,allowComments:o.allow_comments!==!1,allowFavorites:o.allow_favorites!==!1}));return console.log(` Loaded ${s.length} galleries from Supabase`),s}catch(e){return console.error(" Error loading galleries:",e),this.getLocalGalleries()}}async getLocalGalleries(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(!e)return[];const r=JSON.parse(e);return Array.isArray(r)?r:[]}catch(e){return console.error("Error loading local galleries:",e),[]}}async getGallery(e){try{if(console.log(` Looking for gallery: ${e}`),!B.isReady()){console.log("  Supabase not ready, checking local storage");const a=(await this.getLocalGalleries()).find(c=>c.id===e)||null;return console.log(a?` Found gallery locally: ${a.name}`:` Gallery ${e} not found locally`),a}if(await this.ensureTableExists(),!(await this.checkDatabaseHealth()).tablesExist){console.warn(" Database not ready, checking local storage");const a=(await this.getLocalGalleries()).find(c=>c.id===e)||null;return console.log(a?` Found gallery locally: ${a.name}`:` Gallery ${e} not found locally`),a}await this.migrateLocalGalleries(),console.log(` Fetching gallery ${e} from Supabase...`);const{data:n,error:s}=await B.client.from(this.GALLERIES_TABLE).select("*").eq("id",e).single();if(s){if(console.error(` Error fetching gallery ${e} from Supabase:`,s),s.code==="PGRST116"||s.code==="PGRST117"){console.log(" Falling back to local storage...");const a=(await this.getLocalGalleries()).find(c=>c.id===e)||null;return console.log(a?` Found gallery locally: ${a.name}`:` Gallery ${e} not found locally either`),a}return null}if(!n)return console.log(` No data returned for gallery ${e}`),null;const o={id:n.id,name:n.name,description:n.description||void 0,createdAt:n.created_at,updatedAt:n.updated_at,isPublic:n.is_public,password:n.password||void 0,bucketFolder:n.bucket_folder||void 0,bucketName:n.bucket_name||this.DEFAULT_BUCKET,photoCount:n.photo_count||0,viewCount:n.view_count||0,allowComments:n.allow_comments!==!1,allowFavorites:n.allow_favorites!==!1};return console.log(` Found gallery in Supabase: ${o.name}`),o}catch(r){console.error(` Error loading gallery ${e}:`,r);try{console.log(" Final fallback to local storage...");const s=(await this.getLocalGalleries()).find(o=>o.id===e)||null;return console.log(s?` Found gallery in final fallback: ${s.name}`:` Gallery ${e} not found anywhere`),s}catch(n){return console.error(" Fallback also failed:",n),null}}}async getGalleryById(e){return this.getGallery(e)}async syncFromSupabase(){try{if(!B.isReady())return{success:!1,count:0,error:"Supabase not configured"};if(await this.ensureTableExists(),!(await this.checkDatabaseHealth()).tablesExist)return{success:!1,count:0,error:"Database tables not ready. Please run SQL setup."};console.log(" Syncing galleries from Supabase...");const{data:r,error:n}=await B.client.from(this.GALLERIES_TABLE).select("*").order("created_at",{ascending:!1});if(n)return console.error(" Error syncing from Supabase:",n),{success:!1,count:0,error:n.message};const s=r||[];return console.log(` Found ${s.length} galleries in Supabase`),{success:!0,count:s.length}}catch(e){return console.error(" Sync error:",e),{success:!1,count:0,error:"Sync failed"}}}async createGallery(e){try{const r=this.generateId(),n=new Date().toISOString(),s=(e==null?void 0:e.bucketFolder)||`gallery-${r}`,o=(e==null?void 0:e.bucketName)||this.DEFAULT_BUCKET,i={id:r,name:(e==null?void 0:e.name)||`Gallery ${r}`,description:(e==null?void 0:e.description)||void 0,createdAt:n,updatedAt:n,isPublic:(e==null?void 0:e.isPublic)??!0,password:e==null?void 0:e.password,bucketFolder:s,bucketName:o,photoCount:0,viewCount:0,allowComments:(e==null?void 0:e.allowComments)??!0,allowFavorites:(e==null?void 0:e.allowFavorites)??!0};if(B.isReady()){if(await this.ensureTableExists(),!(await this.checkDatabaseHealth()).tablesExist)throw new Error("Database tables not ready. Please run the SQL setup script.");const{error:c}=await B.client.from(this.GALLERIES_TABLE).insert([{id:i.id,name:i.name,description:i.description||null,created_at:i.createdAt,updated_at:i.updatedAt,is_public:i.isPublic,password:i.password||null,bucket_folder:i.bucketFolder,bucket_name:i.bucketName,photo_count:i.photoCount,view_count:i.viewCount,allow_comments:i.allowComments,allow_favorites:i.allowFavorites}]);if(c)throw console.error("Error creating gallery in Supabase:",c),new Error(`Failed to create gallery: ${c.message}`);try{await B.createFolder(o,s),console.log(` Created Supabase folder: ${o}/${s}`)}catch(u){console.warn(" Could not create Supabase folder:",u)}console.log(" Gallery created in Supabase:",i.id)}else{const a=await this.getLocalGalleries();a.push(i),localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(a)),console.log(" Gallery created locally (fallback):",i.id)}return i}catch(r){throw console.error("Error creating gallery:",r),new Error(`Failed to create gallery: ${r instanceof Error?r.message:"Unknown error"}`)}}async updateGallery(e,r){try{const n=new Date().toISOString();if(B.isReady()){if(await this.ensureTableExists(),!(await this.checkDatabaseHealth()).tablesExist){console.warn("Database not ready, falling back to local storage");const c=await this.getLocalGalleries(),u=c.findIndex(f=>f.id===e);return u===-1?null:(c[u]={...c[u],...r,updatedAt:n},localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(c)),c[u])}const o={updated_at:n};r.name!==void 0&&(o.name=r.name),r.description!==void 0&&(o.description=r.description||null),r.isPublic!==void 0&&(o.is_public=r.isPublic),r.password!==void 0&&(o.password=r.password||null),r.bucketFolder!==void 0&&(o.bucket_folder=r.bucketFolder),r.bucketName!==void 0&&(o.bucket_name=r.bucketName),r.photoCount!==void 0&&(o.photo_count=r.photoCount),r.viewCount!==void 0&&(o.view_count=r.viewCount),r.allowComments!==void 0&&(o.allow_comments=r.allowComments),r.allowFavorites!==void 0&&(o.allow_favorites=r.allowFavorites);const{data:i,error:a}=await B.client.from(this.GALLERIES_TABLE).update(o).eq("id",e).select().single();return a?(console.error("Error updating gallery in Supabase:",a),null):i?{id:i.id,name:i.name,description:i.description||void 0,createdAt:i.created_at,updatedAt:i.updated_at,isPublic:i.is_public,password:i.password||void 0,bucketFolder:i.bucket_folder||void 0,bucketName:i.bucket_name||this.DEFAULT_BUCKET,photoCount:i.photo_count||0,viewCount:i.view_count||0,allowComments:i.allow_comments!==!1,allowFavorites:i.allow_favorites!==!1}:null}else{const s=await this.getLocalGalleries(),o=s.findIndex(i=>i.id===e);return o===-1?null:(s[o]={...s[o],...r,updatedAt:n},localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(s)),s[o])}}catch(n){return console.error("Error updating gallery:",n),null}}async deleteGallery(e){try{const r=await this.getGallery(e);if(!r)return!1;if(B.isReady()){if((await this.checkDatabaseHealth()).tablesExist){const{error:s}=await B.client.from(this.GALLERIES_TABLE).delete().eq("id",e);if(s)return console.error("Error deleting gallery from Supabase:",s),!1;console.log(" Gallery deleted from Supabase:",e)}if(r.bucketName&&r.bucketFolder)try{const s=await B.listFiles(r.bucketName,r.bucketFolder);for(const o of s){const i=`${r.bucketFolder}/${o.name}`;await B.deleteFile(r.bucketName,i)}console.log(` Deleted all photos from ${r.bucketName}/${r.bucketFolder}`)}catch(s){console.warn(" Could not delete Supabase photos:",s)}}else{const s=(await this.getLocalGalleries()).filter(o=>o.id!==e);localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(s))}return await this.deleteAllPhotos(e),this.clearGalleryAuth(e),!0}catch(r){return console.error("Error deleting gallery:",r),!1}}async getGallerySubfolders(e){try{if(!B.isReady()){const o=await this.getPhotos(e),i=new Map;return o.forEach(a=>{if(a.subfolder){const c=i.get(a.subfolder);c?(c.photoCount++,a.uploadedAt>c.lastUpdated&&(c.lastUpdated=a.uploadedAt)):i.set(a.subfolder,{name:a.subfolder,photoCount:1,lastUpdated:a.uploadedAt})}}),Array.from(i.values()).sort((a,c)=>a.name.localeCompare(c.name))}if(!(await this.checkDatabaseHealth()).functionsExist)return console.warn("Database function get_gallery_subfolders not available, using fallback"),await this.getSubfoldersFallback(e);const{data:n,error:s}=await B.client.rpc("get_gallery_subfolders",{gallery_id_param:e});return s?(console.error("Error fetching subfolders:",s),await this.getSubfoldersFallback(e)):(n||[]).map(o=>({name:o.subfolder,photoCount:parseInt(o.photo_count),lastUpdated:new Date().toISOString()}))}catch(r){return console.error("Error getting gallery subfolders:",r),[]}}async getSubfoldersFallback(e){try{if(!B.isReady())return[];if(!(await this.checkDatabaseHealth()).tablesExist)return[];const{data:n,error:s}=await B.client.from(this.PHOTOS_TABLE).select("subfolder").eq("gallery_id",e).not("subfolder","is",null).not("subfolder","eq","");if(s)return console.error("Error in subfolder fallback query:",s),[];const o=new Map;return(n||[]).forEach(i=>{i.subfolder&&o.set(i.subfolder,(o.get(i.subfolder)||0)+1)}),Array.from(o.entries()).map(([i,a])=>({name:i,photoCount:a,lastUpdated:new Date().toISOString()})).sort((i,a)=>i.name.localeCompare(a.name))}catch(r){return console.error("Error in subfolder fallback:",r),[]}}async authenticateGallery(e,r){try{const n=await this.getGallery(e);if(!n)return!1;if(n.isPublic&&!n.password)return!0;const s=n.password===r;return s&&this.setGalleryAuth(e),s}catch(n){return console.error("Error authenticating gallery:",n),!1}}isGalleryAuthenticated(e){try{return this.getAuthSessions().includes(e)}catch{return!1}}setGalleryAuth(e){try{const r=this.getAuthSessions();r.includes(e)||(r.push(e),localStorage.setItem(this.AUTH_KEY,JSON.stringify(r)))}catch(r){console.error("Error setting gallery auth:",r)}}clearGalleryAuth(e){try{const n=this.getAuthSessions().filter(s=>s!==e);localStorage.setItem(this.AUTH_KEY,JSON.stringify(n))}catch(r){console.error("Error clearing gallery auth:",r)}}getAuthSessions(){try{const e=localStorage.getItem(this.AUTH_KEY);return e?JSON.parse(e):[]}catch{return[]}}async getPhotos(e,r){try{const n=await this.getGallery(e);if(!n)return console.error(`Gallery ${e} not found`),[];if(B.isReady())return(await this.checkDatabaseHealth()).tablesExist?(console.log(` Fetching photos from Supabase database for gallery: ${e}${r?`, subfolder: ${r}`:""}`),await this.fetchPhotosFromSupabaseDB(e,r)):(console.warn("Database not ready, using fallback method"),await this.fetchPhotosFromSupabase(n));const s=localStorage.getItem(`${this.PHOTOS_KEY}-${e}`);if(s){const o=JSON.parse(s);let i=Array.isArray(o)?o:[];return r&&(i=i.filter(a=>a.subfolder===r)),i}return console.log(`No photos found for gallery ${e}`),[]}catch(n){return console.error("Error loading photos:",n),[]}}async fetchPhotosFromSupabaseDB(e,r){try{let n=B.client.from(this.PHOTOS_TABLE).select("*").eq("gallery_id",e).order("created_at",{ascending:!1});r&&(n=n.eq("subfolder",r));const{data:s,error:o}=await n;if(o)return console.error("Error fetching photos from database:",o),[];const i=(s||[]).map(a=>({id:a.id,galleryId:a.gallery_id,name:a.name,originalName:a.name,url:a.url,description:a.description||"",uploadedAt:a.created_at,size:a.file_size||0,mimeType:a.file_type||"image/jpeg",bucketPath:`${e}/${a.subfolder?`${a.subfolder}/`:""}${a.name}`,subfolder:a.subfolder||void 0}));return console.log(` Loaded ${i.length} photos from Supabase database`),i}catch(n){return console.error("Error fetching photos from Supabase database:",n),[]}}async fetchPhotosFromSupabase(e){try{if(!e.bucketName||!e.bucketFolder)return[];const n=(await B.listFiles(e.bucketName,e.bucketFolder)).map(s=>{var a,c;const o=`${e.bucketFolder}/${s.name}`,i=B.getPublicUrl(e.bucketName,o);return{id:`${e.id}-${s.name}`,galleryId:e.id,name:s.name,originalName:s.name,url:i||"",description:"",uploadedAt:s.created_at,size:((a=s.metadata)==null?void 0:a.size)||0,mimeType:((c=s.metadata)==null?void 0:c.mimetype)||"image/jpeg",bucketPath:o,supabaseFile:s}});return localStorage.setItem(`${this.PHOTOS_KEY}-${e.id}`,JSON.stringify(n)),await this.updateGallery(e.id,{photoCount:n.length}),console.log(` Loaded ${n.length} photos from Supabase`),n}catch(r){return console.error("Error fetching photos from Supabase:",r),[]}}async uploadPhotos(e,r,n){var c,u;const s=await this.getGallery(e);if(!s)throw new Error("Gallery not found");if(!B.isReady())throw new Error("Supabase not configured");if(!s.bucketName||!s.bucketFolder)throw new Error("Gallery bucket configuration missing");const o=[],i=[],a=((c=n==null?void 0:n.subfolder)==null?void 0:c.trim())||void 0;for(let f=0;f<r.length;f++){const d=r[f];try{if(!B.constructor.isValidImageFile(d)){i.push({file:d,error:"Invalid image file type"});continue}const h=B.constructor.generateUniqueFilename(d.name),y=a?`${a}/`:"",x=`${s.bucketFolder}/${y}${h}`,v=await B.uploadFile(s.bucketName,x,d,{upsert:!1});if(v.success){const b=B.getPublicUrl(s.bucketName,x);if(b){const m={id:`${e}-${h}`,galleryId:e,name:h,originalName:d.name,url:b,description:"",uploadedAt:new Date().toISOString(),size:d.size,mimeType:d.type,bucketPath:x,subfolder:a};if((await this.checkDatabaseHealth()).tablesExist)try{const g={gallery_id:e,name:h,url:b,description:null,subfolder:a||null,file_size:d.size,file_type:d.type},{data:S,error:_}=await B.client.from(this.PHOTOS_TABLE).insert([g]).select().single();S&&(m.id=S.id),_&&console.warn("Error inserting photo record:",_)}catch(g){console.warn("Database insertion failed, continuing with file upload:",g)}o.push(m)}else i.push({file:d,error:"Failed to get public URL"})}else i.push({file:d,error:v.error||"Upload failed"})}catch(h){console.error("Error uploading file:",h),i.push({file:d,error:"Upload error"})}(u=n==null?void 0:n.onProgress)==null||u.call(n,f+1,r.length)}return await this.updateGalleryPhotoCount(e),localStorage.removeItem(`${this.PHOTOS_KEY}-${e}`),{successful:o,failed:i}}async deletePhoto(e,r){try{const n=await this.getGallery(e);if(!n)return!1;const o=(await this.getPhotos(e)).find(i=>i.id===r);if(!o)return!1;if(B.isReady()){if((await this.checkDatabaseHealth()).tablesExist){const{error:a}=await B.client.from(this.PHOTOS_TABLE).delete().eq("id",r);a&&console.error("Error deleting photo from database:",a)}if(o.bucketPath&&n.bucketName){const a=await B.deleteFile(n.bucketName,o.bucketPath);a.success||console.warn("Could not delete file from storage:",a.error)}}return await this.updateGalleryPhotoCount(e),localStorage.removeItem(`${this.PHOTOS_KEY}-${e}`),!0}catch(n){return console.error("Error deleting photo:",n),!1}}async deleteAllPhotos(e){try{const r=await this.getGallery(e);if(!r)return!1;if(B.isReady()){if((await this.checkDatabaseHealth()).tablesExist){const{error:s}=await B.client.from(this.PHOTOS_TABLE).delete().eq("gallery_id",e);s&&console.error("Error deleting photos from database:",s)}if(r.bucketName&&r.bucketFolder)try{const s=await B.listFiles(r.bucketName,r.bucketFolder);for(const o of s){const i=`${r.bucketFolder}/${o.name}`,a=await B.deleteFile(r.bucketName,i);a.success||console.warn("Could not delete file:",i,a.error)}}catch(s){console.warn("Could not list/delete files from storage:",s)}}return localStorage.removeItem(`${this.PHOTOS_KEY}-${e}`),await this.updateGallery(e,{photoCount:0}),!0}catch(r){return console.error("Error deleting all photos:",r),!1}}generateId(){return Math.random().toString(36).substring(2,9)}async updateGalleryPhotoCount(e){try{const r=await this.getPhotos(e);await this.updateGallery(e,{photoCount:r.length})}catch(r){console.error("Error updating gallery photo count:",r)}}isSupabaseConfigured(){return B.isReady()}async getGalleryStats(e){try{const r=await this.getPhotos(e),n=await this.getGallerySubfolders(e),s=r.reduce((i,a)=>i+a.size,0),o=r.length>0?r.sort((i,a)=>new Date(a.uploadedAt).getTime()-new Date(i.uploadedAt).getTime())[0].uploadedAt:void 0;return{photoCount:r.length,totalSize:s,subfolders:n,lastUpload:o}}catch(r){return console.error("Error getting gallery stats:",r),{photoCount:0,totalSize:0,subfolders:[],lastUpload:void 0}}}}const _e=new ZE;function eC({galleryId:t}){const[e,r]=w.useState(null),[n,s]=w.useState([]),[o,i]=w.useState(!0),[a,c]=w.useState(!1),[u,f]=w.useState([]),[d,h]=w.useState(void 0),[y,x]=w.useState(!1),[v,b]=w.useState(new Set),[m,p]=w.useState([]),[g,S]=w.useState({}),[_,E]=w.useState(""),[k,T]=w.useState(null);w.useEffect(()=>{I()},[t,d]);const I=async()=>{try{i(!0),console.log(` Loading gallery data for: ${t}${d?`, subfolder: ${d}`:""}`);let C=await _e.getGallery(t);if(!C&&_e.isSupabaseConfigured()){console.log(" Gallery not found locally, trying to sync from Supabase..."),J.loading("Synchronisation des galeries depuis le cloud...",{id:"sync-toast"});try{const Z=await _e.syncFromSupabase();Z.success?(console.log(` Sync successful, found ${Z.count} galleries`),J.success(`${Z.count} galeries synchronises`,{id:"sync-toast"}),C=await _e.getGallery(t)):(console.warn(` Sync failed: ${Z.error}`),J.error(`chec de la synchronisation: ${Z.error}`,{id:"sync-toast"}))}catch(Z){console.error(" Sync error:",Z),J.error("Erreur lors de la synchronisation",{id:"sync-toast"})}}if(!C){console.error(` Gallery ${t} not found after all attempts`),J.error(`Galerie "${t}" non trouve`);return}if(console.log(` Gallery loaded: ${C.name}`),C.password&&!_e.isGalleryAuthenticated(t)){console.log(" Gallery requires authentication"),c(!0);return}r(C),console.log(" Loading subfolders...");const R=await _e.getGallerySubfolders(t);f(R),console.log(` Loaded ${R.length} subfolders`),R.length>0&&!y&&x(!0),console.log(" Loading photos...");const U=await _e.getPhotos(t,d);console.log(` Loaded ${U.length} photos`),s(U),console.log(" Loading shared selection...");const q=await vt.getFavorites(t),K=new Set(q.map(Z=>Z.photoId));console.log(` Loaded ${q.length} shared favorites`),b(K),console.log(" Loading comments...");const Q=await vt.getComments(t);p(Q),console.log(` Loaded ${Q.length} comments`);const se={};Q.forEach(Z=>{se[Z.photoId]=(se[Z.photoId]||0)+1}),S(se),console.log(" Gallery data loading complete")}catch(C){console.error(" Error loading gallery:",C),J.error("Erreur lors du chargement de la galerie")}finally{i(!1)}},D=async C=>{try{const R=await _e.authenticateGallery(t,C);return R&&(c(!1),I()),R}catch(R){return console.error("Authentication error:",R),!1}},W=async(C,R)=>{R&&R.stopPropagation();try{v.has(C)?(await vt.removeFromFavorites(t,C),b(q=>{const K=new Set(q);return K.delete(C),K}),J.success("Retir de la slection")):(await vt.addToFavorites(t,C),b(q=>new Set([...q,C])),J.success("Ajout  la slection"))}catch(U){console.error("Error updating selection:",U),J.error("Failed to update selection")}},z=async(C,R)=>{if(R.trim())try{const U=await vt.addComment(t,C,R.trim());p(q=>[...q,U]),S(q=>({...q,[C]:(q[C]||0)+1})),J.success("Commentaire ajout")}catch(U){console.error("Error adding comment:",U),J.error("Failed to add comment")}},G=C=>{T(C)},P=()=>{T(null)},F=w.useCallback(C=>{if(k===null)return;const R=C==="prev"?Math.max(0,k-1):Math.min(A.length-1,k+1);T(R)},[k]),A=n.filter(C=>{var R;return C.name.toLowerCase().includes(_.toLowerCase())||C.originalName.toLowerCase().includes(_.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(_.toLowerCase()))}),M=C=>C.originalName||C.name,j=C=>{h(C),E("")};return a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Xt,{className:"h-8 w-8 text-primary"})}),l.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Galerie Protge"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Cette galerie est protge par mot de passe. Veuillez saisir le mot de passe pour voir les photos."})]})}),l.jsx(hv,{isOpen:a,onClose:()=>window.appRouter.navigateTo("/"),onAuthenticate:D,type:"gallery",galleryName:e==null?void 0:e.name})]}):o?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Chargement de la galerie..."})]})}):e?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("div",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex flex-col space-y-4 lg:space-y-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 min-w-0 flex-1",children:[l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>window.appRouter.navigateTo("/"),className:"shrink-0",children:[l.jsx(vs,{className:"h-4 w-4 mr-1 lg:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Accueil"})]}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h1",{className:"text-lg lg:text-2xl font-bold truncate",children:e.name}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs lg:text-sm text-muted-foreground",children:[l.jsxs("span",{children:[A.length," photos"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[v.size," slectionnes"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[m.length," commentaires"]}),d&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs(Ut,{variant:"outline",className:"text-xs",children:[l.jsx(lt,{className:"h-3 w-3 mr-1"}),d]})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 shrink-0",children:[l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>window.appRouter.navigateTo(`/favorites/${t}`),className:"hidden sm:flex",children:[l.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Ma slection (",v.size,")"]}),l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>window.appRouter.navigateTo(`/favorites/${t}`),className:"sm:hidden",children:[l.jsx(Xt,{className:"h-4 w-4 mr-1"}),v.size]}),l.jsx(Mv,{galleryId:t,galleryName:e.name,variant:"default",size:"sm"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ha,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),l.jsx(Ke,{placeholder:"Rechercher des photos...",value:_,onChange:C=>E(C.target.value),className:"pl-10"})]}),y&&u.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>h(void 0),className:`${d?"":"bg-primary text-primary-foreground"}`,children:[l.jsx(Gb,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"hidden sm:inline",children:"Toutes"})]}),u.map(C=>l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>j(C.name),className:`${d===C.name?"bg-primary text-primary-foreground":""}`,children:[l.jsx(lt,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"max-w-[100px] truncate",children:C.name}),l.jsx(Ut,{variant:"secondary",className:"ml-1 text-xs",children:C.photoCount})]},C.name))]})]})]})})}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:A.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:_?"Aucune photo ne correspond  votre recherche.":d?`Aucune photo dans le sous-dossier "${d}".`:"Aucune photo dans cette galerie pour le moment."}),(_||d)&&l.jsxs("div",{className:"space-x-2",children:[_&&l.jsx(oe,{variant:"outline",onClick:()=>E(""),children:"Effacer la recherche"}),d&&l.jsx(oe,{variant:"outline",onClick:()=>h(void 0),children:"Voir toutes les photos"})]})]}):l.jsx("div",{className:"masonry-grid",children:A.map((C,R)=>l.jsx("div",{className:"masonry-item animate-fadeIn",children:l.jsxs("div",{className:"photo-container",onClick:()=>G(R),children:[l.jsx("img",{src:C.url,alt:M(C),loading:"lazy",className:"photo-image"}),l.jsx("div",{className:"photo-name-overlay",children:M(C)}),l.jsx("button",{className:`favorite-indicator ${v.has(C.id)?"is-favorite":""}`,onClick:U=>W(C.id,U),title:v.has(C.id)?"Retirer de la slection":"Ajouter  la slection",children:l.jsx(Xt,{className:`h-5 w-5 transition-all ${v.has(C.id)?"fill-current text-white":"text-gray-600"}`})}),g[C.id]>0&&l.jsxs("div",{className:"comment-indicator",children:[l.jsx(Or,{className:"h-3 w-3"}),g[C.id]]}),C.subfolder&&l.jsxs("div",{className:"subfolder-indicator",children:[l.jsx(lt,{className:"h-3 w-3 mr-1"}),C.subfolder]}),l.jsxs("div",{className:"photo-overlay",children:[l.jsx("div",{}),l.jsxs("div",{className:"quick-comment-form",children:[l.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",className:"quick-comment-input",onKeyPress:U=>{if(U.key==="Enter"){const q=U.target;q.value.trim()&&(z(C.id,q.value),q.value="")}},onClick:U=>U.stopPropagation()}),l.jsx("button",{className:"quick-comment-submit",onClick:U=>{var K;U.stopPropagation();const q=(K=U.currentTarget.parentElement)==null?void 0:K.querySelector("input");q!=null&&q.value.trim()&&(z(C.id,q.value),q.value="")},children:l.jsx(cs,{className:"h-3 w-3"})})]})]})]})},C.id))})}),l.jsx(pv,{photos:A,currentIndex:k,onClose:P,onNavigate:F,favorites:v,commentCounts:g,comments:m,onToggleFavorite:W,onAddComment:z})]}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md px-4",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(ha,{className:"h-8 w-8 text-red-600"})}),l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Galerie Non Trouve"}),l.jsxs("p",{className:"text-muted-foreground mb-6",children:['La galerie "',t,`" n'existe pas ou n'est plus disponible.`]}),_e.isSupabaseConfigured()&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 text-left",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Synchronisation Cloud"}),l.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"La galerie pourrait exister dans le cloud mais n'a pas encore t synchronise sur cet appareil."}),l.jsx(oe,{onClick:()=>{I()},size:"sm",className:"w-full",children:" Essayer de synchroniser"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(oe,{onClick:()=>window.appRouter.navigateTo("/"),variant:"outline",className:"w-full",children:[l.jsx(vs,{className:"h-4 w-4 mr-2"}),"Retour  l'accueil"]}),!_e.isSupabaseConfigured()&&l.jsx("p",{className:"text-sm text-amber-600 bg-amber-50 border border-amber-200 rounded-lg p-3",children:" Astuce : Pour accder aux galeries sur plusieurs appareils, configurez Supabase dans le panneau d'administration."})]})]})})}function tC({galleryId:t}){const[e,r]=w.useState(null),[n,s]=w.useState([]),[o,i]=w.useState([]),[a,c]=w.useState([]),[u,f]=w.useState({}),[d,h]=w.useState(!0),[y,x]=w.useState(""),[v,b]=w.useState(null);w.useEffect(()=>{m()},[t]);const m=async()=>{try{h(!0),console.log(` Loading favorites for gallery: ${t}`);const P=await _e.getGallery(t);if(!P){J.error(`Gallery "${t}" not found`);return}r(P);const F=await _e.getPhotos(t);s(F);const A=await vt.getFavorites(t);i(A),console.log(` Loaded ${A.length} shared favorites`);const M=await vt.getComments(t);c(M);const j={};M.forEach(C=>{j[C.photoId]=(j[C.photoId]||0)+1}),f(j),console.log(` Loaded ${M.length} comments`)}catch(P){console.error("Error loading favorites data:",P),J.error("Failed to load favorites")}finally{h(!1)}},p=async(P,F)=>{F&&F.stopPropagation();try{await vt.removeFromFavorites(t,P),i(A=>A.filter(M=>M.photoId!==P)),J.success("Retir de la slection")}catch(A){console.error("Error removing from favorites:",A),J.error("Failed to remove from selection")}},g=async()=>{if(confirm(`tes-vous sr de vouloir supprimer toute la slection ?

Cette action ne peut pas tre annule et affectera tous les appareils.`))try{await vt.clearAllFavorites(t)?(i([]),J.success("Slection efface")):J.error("Failed to clear selection")}catch(P){console.error("Error clearing favorites:",P),J.error("Failed to clear selection")}},S=async(P,F)=>{if(F.trim())try{const A=await vt.addComment(t,P,F.trim());c(M=>[...M,A]),f(M=>({...M,[P]:(M[P]||0)+1})),J.success("Commentaire ajout")}catch(A){console.error("Error adding comment:",A),J.error("Failed to add comment")}},_=P=>{b(P)},E=()=>{b(null)},k=w.useCallback(P=>{if(v===null)return;const F=P==="prev"?Math.max(0,v-1):Math.min(T.length-1,v+1);b(F)},[v]),T=n.filter(P=>o.some(F=>F.photoId===P.id)),I=T.filter(P=>{var F,A;return P.name.toLowerCase().includes(y.toLowerCase())||P.originalName.toLowerCase().includes(y.toLowerCase())||((F=P.description)==null?void 0:F.toLowerCase().includes(y.toLowerCase()))||((A=P.subfolder)==null?void 0:A.toLowerCase().includes(y.toLowerCase()))}),D=new Set(o.map(P=>P.photoId)),W=P=>P.originalName||P.name,z=I.reduce((P,F)=>{const A=F.subfolder||"Racine";return P[A]||(P[A]=[]),P[A].push(F),P},{}),G=Object.keys(z).sort((P,F)=>P==="Racine"?-1:F==="Racine"?1:P.localeCompare(F));return d?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Chargement de la slection..."})]})}):e?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("div",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex flex-col space-y-4 lg:space-y-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 min-w-0 flex-1",children:[l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>window.appRouter.navigateTo(`/gallery/${t}`),className:"shrink-0",children:[l.jsx(vs,{className:"h-4 w-4 mr-1 lg:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Retour  la galerie"}),l.jsx("span",{className:"sm:hidden",children:"Galerie"})]}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("h1",{className:"text-lg lg:text-2xl font-bold flex items-center gap-2",children:[l.jsx(Xt,{className:"h-5 w-5 lg:h-6 lg:w-6 text-red-500 fill-current shrink-0"}),l.jsx("span",{className:"truncate",children:"Slection"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-1 lg:gap-2 text-xs lg:text-sm text-muted-foreground",children:[l.jsx("span",{className:"truncate max-w-[200px]",children:e.name}),l.jsx("span",{children:""}),l.jsxs("span",{children:[I.length," photos slectionnes"]}),l.jsx("span",{className:"hidden sm:inline",children:""}),l.jsx("span",{className:"hidden sm:inline",children:"Partage entre tous les appareils"})]})]})]}),l.jsx("div",{className:"flex items-center gap-2 lg:gap-3 shrink-0",children:o.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs(oe,{variant:"outline",size:"sm",onClick:g,className:"text-destructive hover:text-destructive hidden sm:flex",children:[l.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Tout effacer"]}),l.jsx(oe,{variant:"outline",size:"sm",onClick:g,className:"text-destructive hover:text-destructive sm:hidden",children:l.jsx(Hc,{className:"h-4 w-4"})}),l.jsx(Mv,{galleryId:t,galleryName:e.name,variant:"default",size:"sm"})]})})]}),o.length>0&&l.jsxs("div",{className:"relative",children:[l.jsx(ha,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),l.jsx(Ke,{placeholder:"Rechercher dans la slection...",value:y,onChange:P=>x(P.target.value),className:"pl-10"})]})]})})}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:o.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Xt,{className:"h-10 w-10 text-muted-foreground"})}),l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Aucune photo slectionne"}),l.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Aucune photo n'a encore t ajoute  la slection. Retournez  la galerie et cliquez sur le cur pour slectionner vos photos prfres."}),l.jsxs(oe,{onClick:()=>window.appRouter.navigateTo(`/gallery/${t}`),children:[l.jsx(vs,{className:"h-4 w-4 mr-2"}),"Parcourir la galerie"]})]}):I.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Aucune photo ne correspond  votre recherche."}),l.jsx(oe,{variant:"outline",onClick:()=>x(""),children:"Effacer la recherche"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-3 lg:gap-6 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xt,{className:"h-4 w-4 text-red-500"}),l.jsxs("span",{children:[I.length," photos slectionnes"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Or,{className:"h-4 w-4 text-blue-500"}),l.jsxs("span",{children:[a.length," commentaires"]})]}),G.length>1&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lt,{className:"h-4 w-4 text-green-500"}),l.jsxs("span",{children:[G.length," dossiers"]})]}),y&&l.jsxs(Ut,{variant:"outline",children:['Recherche: "',y,'"']})]})}),G.length>1?l.jsx("div",{className:"space-y-8",children:G.map(P=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(lt,{className:"h-5 w-5 text-green-600"}),l.jsx("h3",{className:"text-lg font-semibold",children:P}),l.jsx(Ut,{variant:"secondary",children:z[P].length})]}),l.jsx("div",{className:"masonry-grid",children:z[P].map((F,A)=>{const M=I.findIndex(j=>j.id===F.id);return l.jsx("div",{className:"masonry-item animate-fadeIn",children:l.jsxs("div",{className:"photo-container",onClick:()=>_(M),children:[l.jsx("img",{src:F.url,alt:W(F),loading:"lazy",className:"photo-image"}),l.jsx("div",{className:"photo-name-overlay",children:W(F)}),l.jsx("button",{className:"favorite-indicator is-favorite",onClick:j=>p(F.id,j),title:"Retirer de la slection",children:l.jsx(Xt,{className:"h-5 w-5 fill-current text-white"})}),u[F.id]>0&&l.jsxs("div",{className:"comment-indicator",children:[l.jsx(Or,{className:"h-3 w-3"}),u[F.id]]}),F.subfolder&&F.subfolder!==P&&l.jsxs("div",{className:"subfolder-indicator",children:[l.jsx(lt,{className:"h-3 w-3 mr-1"}),F.subfolder]}),l.jsxs("div",{className:"photo-overlay",children:[l.jsx("div",{}),l.jsxs("div",{className:"quick-comment-form",children:[l.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",className:"quick-comment-input",onKeyPress:j=>{if(j.key==="Enter"){const C=j.target;C.value.trim()&&(S(F.id,C.value),C.value="")}},onClick:j=>j.stopPropagation()}),l.jsx("button",{className:"quick-comment-submit",onClick:j=>{var R;j.stopPropagation();const C=(R=j.currentTarget.parentElement)==null?void 0:R.querySelector("input");C!=null&&C.value.trim()&&(S(F.id,C.value),C.value="")},children:l.jsx(Or,{className:"h-3 w-3"})})]})]})]})},F.id)})})]},P))}):l.jsx("div",{className:"masonry-grid",children:I.map((P,F)=>l.jsx("div",{className:"masonry-item animate-fadeIn",children:l.jsxs("div",{className:"photo-container",onClick:()=>_(F),children:[l.jsx("img",{src:P.url,alt:W(P),loading:"lazy",className:"photo-image"}),l.jsx("div",{className:"photo-name-overlay",children:W(P)}),l.jsx("button",{className:"favorite-indicator is-favorite",onClick:A=>p(P.id,A),title:"Retirer de la slection",children:l.jsx(Xt,{className:"h-5 w-5 fill-current text-white"})}),u[P.id]>0&&l.jsxs("div",{className:"comment-indicator",children:[l.jsx(Or,{className:"h-3 w-3"}),u[P.id]]}),P.subfolder&&l.jsxs("div",{className:"subfolder-indicator",children:[l.jsx(lt,{className:"h-3 w-3 mr-1"}),P.subfolder]}),l.jsxs("div",{className:"photo-overlay",children:[l.jsx("div",{}),l.jsxs("div",{className:"quick-comment-form",children:[l.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",className:"quick-comment-input",onKeyPress:A=>{if(A.key==="Enter"){const M=A.target;M.value.trim()&&(S(P.id,M.value),M.value="")}},onClick:A=>A.stopPropagation()}),l.jsx("button",{className:"quick-comment-submit",onClick:A=>{var j;A.stopPropagation();const M=(j=A.currentTarget.parentElement)==null?void 0:j.querySelector("input");M!=null&&M.value.trim()&&(S(P.id,M.value),M.value="")},children:l.jsx(Or,{className:"h-3 w-3"})})]})]})]})},P.id))})]})}),l.jsx(pv,{photos:I,currentIndex:v,onClose:E,onNavigate:k,favorites:D,commentCounts:u,comments:a,onToggleFavorite:p,onAddComment:S})]}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md px-4",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Galerie Non Trouve"}),l.jsxs("p",{className:"text-muted-foreground mb-6",children:['La galerie "',t,`" n'existe pas ou n'est plus disponible.`]}),l.jsxs(oe,{onClick:()=>window.appRouter.goHome(),children:[l.jsx(vs,{className:"h-4 w-4 mr-2"}),"Retour  l'accueil"]})]})})}function sn({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:we("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function on({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:we("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function an({className:t,...e}){return l.jsx("h4",{"data-slot":"card-title",className:we("leading-none",t),...e})}function Gl({className:t,...e}){return l.jsx("p",{"data-slot":"card-description",className:we("text-muted-foreground",t),...e})}function ln({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:we("px-6 [&:last-child]:pb-6",t),...e})}function Uh({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:we("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function Fv(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function zv(t){const[e,r]=w.useState(void 0);return Je(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ya="Switch",[rC,B2]=Vo(Ya),[nC,sC]=rC(Ya),Uv=w.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:f,...d}=t,[h,y]=w.useState(null),x=Ne(e,g=>y(g)),v=w.useRef(!1),b=h?f||!!h.closest("form"):!0,[m,p]=pa({prop:s,defaultProp:o??!1,onChange:u,caller:Ya});return l.jsxs(nC,{scope:r,checked:m,disabled:a,children:[l.jsx(de.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":Wv(m),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:x,onClick:pe(t.onClick,g=>{p(S=>!S),b&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),b&&l.jsx(Vv,{control:h,bubbles:!v.current,name:n,value:c,checked:m,required:i,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});Uv.displayName=Ya;var Bv="SwitchThumb",Hv=w.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=sC(Bv,r);return l.jsx(de.span,{"data-state":Wv(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});Hv.displayName=Bv;var oC="SwitchBubbleInput",Vv=w.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const i=w.useRef(null),a=Ne(i,o),c=Fv(r),u=zv(e);return w.useEffect(()=>{const f=i.current;if(!f)return;const d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&y){const x=new Event("click",{bubbles:n});y.call(f,r),f.dispatchEvent(x)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vv.displayName=oC;function Wv(t){return t?"checked":"unchecked"}var iC=Uv,aC=Hv;function Wn({className:t,...e}){return l.jsx(iC,{"data-slot":"switch",className:we("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(aC,{"data-slot":"switch-thumb",className:we("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Bh(t,[e,r]){return Math.min(r,Math.max(e,t))}function lC(t){const e=t+"CollectionProvider",[r,n]=Vo(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:b,children:m}=v,p=$.useRef(null),g=$.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:g,collectionRef:p,children:m})};i.displayName=e;const a=t+"CollectionSlot",c=js(a),u=$.forwardRef((v,b)=>{const{scope:m,children:p}=v,g=o(a,m),S=Ne(b,g.collectionRef);return l.jsx(c,{ref:S,children:p})});u.displayName=a;const f=t+"CollectionItemSlot",d="data-radix-collection-item",h=js(f),y=$.forwardRef((v,b)=>{const{scope:m,children:p,...g}=v,S=$.useRef(null),_=Ne(b,S),E=o(f,m);return $.useEffect(()=>(E.itemMap.set(S,{ref:S,...g}),()=>void E.itemMap.delete(S))),l.jsx(h,{[d]:"",ref:_,children:p})});y.displayName=f;function x(v){const b=o(t+"CollectionConsumer",v);return $.useCallback(()=>{const p=b.collectionRef.current;if(!p)return[];const g=Array.from(p.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((E,k)=>g.indexOf(E.ref.current)-g.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},x,n]}var cC=w.createContext(void 0);function uC(t){const e=w.useContext(cC);return t||e||"ltr"}const dC=["top","right","bottom","left"],Kr=Math.min,gt=Math.max,ya=Math.round,Ei=Math.floor,nr=t=>({x:t,y:t}),fC={left:"right",right:"left",bottom:"top",top:"bottom"},hC={start:"end",end:"start"};function su(t,e,r){return gt(t,Kr(e,r))}function wr(t,e){return typeof t=="function"?t(e):t}function xr(t){return t.split("-")[0]}function Fs(t){return t.split("-")[1]}function kd(t){return t==="x"?"y":"x"}function Ed(t){return t==="y"?"height":"width"}const pC=new Set(["top","bottom"]);function er(t){return pC.has(xr(t))?"y":"x"}function Cd(t){return kd(er(t))}function mC(t,e,r){r===void 0&&(r=!1);const n=Fs(t),s=Cd(t),o=Ed(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=wa(i)),[i,wa(i)]}function gC(t){const e=wa(t);return[ou(t),e,ou(e)]}function ou(t){return t.replace(/start|end/g,e=>hC[e])}const Hh=["left","right"],Vh=["right","left"],vC=["top","bottom"],yC=["bottom","top"];function wC(t,e,r){switch(t){case"top":case"bottom":return r?e?Vh:Hh:e?Hh:Vh;case"left":case"right":return e?vC:yC;default:return[]}}function xC(t,e,r,n){const s=Fs(t);let o=wC(xr(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(ou)))),o}function wa(t){return t.replace(/left|right|bottom|top/g,e=>fC[e])}function bC(t){return{top:0,right:0,bottom:0,left:0,...t}}function Gv(t){return typeof t!="number"?bC(t):{top:t,right:t,bottom:t,left:t}}function xa(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Wh(t,e,r){let{reference:n,floating:s}=t;const o=er(e),i=Cd(e),a=Ed(i),c=xr(e),u=o==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let y;switch(c){case"top":y={x:f,y:n.y-s.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:d};break;case"left":y={x:n.x-s.width,y:d};break;default:y={x:n.x,y:n.y}}switch(Fs(e)){case"start":y[i]-=h*(r&&u?-1:1);break;case"end":y[i]+=h*(r&&u?-1:1);break}return y}const SC=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:d}=Wh(u,n,c),h=n,y={},x=0;for(let v=0;v<a.length;v++){const{name:b,fn:m}=a[v],{x:p,y:g,data:S,reset:_}=await m({x:f,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:y,rects:u,platform:i,elements:{reference:t,floating:e}});f=p??f,d=g??d,y={...y,[b]:{...y[b],...S}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:f,y:d}=Wh(u,h,c)),v=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:y}};async function Do(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:y=0}=wr(e,t),x=Gv(y),b=a[h?d==="floating"?"reference":"floating":d],m=xa(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),p=d==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},_=xa(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:g,strategy:c}):p);return{top:(m.top-_.top+x.top)/S.y,bottom:(_.bottom-m.bottom+x.bottom)/S.y,left:(m.left-_.left+x.left)/S.x,right:(_.right-m.right+x.right)/S.x}}const _C=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=e,{element:u,padding:f=0}=wr(t,e)||{};if(u==null)return{};const d=Gv(f),h={x:r,y:n},y=Cd(s),x=Ed(y),v=await i.getDimensions(u),b=y==="y",m=b?"top":"left",p=b?"bottom":"right",g=b?"clientHeight":"clientWidth",S=o.reference[x]+o.reference[y]-h[y]-o.floating[x],_=h[y]-o.reference[y],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=E?E[g]:0;(!k||!await(i.isElement==null?void 0:i.isElement(E)))&&(k=a.floating[g]||o.floating[x]);const T=S/2-_/2,I=k/2-v[x]/2-1,D=Kr(d[m],I),W=Kr(d[p],I),z=D,G=k-v[x]-W,P=k/2-v[x]/2+T,F=su(z,P,G),A=!c.arrow&&Fs(s)!=null&&P!==F&&o.reference[x]/2-(P<z?D:W)-v[x]/2<0,M=A?P<z?P-z:P-G:0;return{[y]:h[y]+M,data:{[y]:F,centerOffset:P-F-M,...A&&{alignmentOffset:M}},reset:A}}}),kC=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...b}=wr(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const m=xr(s),p=er(a),g=xr(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(g||!v?[wa(a)]:gC(a)),E=x!=="none";!h&&E&&_.push(...xC(a,v,x,S));const k=[a,..._],T=await Do(e,b),I=[];let D=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&I.push(T[m]),d){const P=mC(s,i,S);I.push(T[P[0]],T[P[1]])}if(D=[...D,{placement:s,overflows:I}],!I.every(P=>P<=0)){var W,z;const P=(((W=o.flip)==null?void 0:W.index)||0)+1,F=k[P];if(F&&(!(d==="alignment"?p!==er(F):!1)||D.every(j=>er(j.placement)===p?j.overflows[0]>0:!0)))return{data:{index:P,overflows:D},reset:{placement:F}};let A=(z=D.filter(M=>M.overflows[0]<=0).sort((M,j)=>M.overflows[1]-j.overflows[1])[0])==null?void 0:z.placement;if(!A)switch(y){case"bestFit":{var G;const M=(G=D.filter(j=>{if(E){const C=er(j.placement);return C===p||C==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(C=>C>0).reduce((C,R)=>C+R,0)]).sort((j,C)=>j[1]-C[1])[0])==null?void 0:G[0];M&&(A=M);break}case"initialPlacement":A=a;break}if(s!==A)return{reset:{placement:A}}}return{}}}};function Gh(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Kh(t){return dC.some(e=>t[e]>=0)}const EC=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=wr(t,e);switch(n){case"referenceHidden":{const o=await Do(e,{...s,elementContext:"reference"}),i=Gh(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Kh(i)}}}case"escaped":{const o=await Do(e,{...s,altBoundary:!0}),i=Gh(o,r.floating);return{data:{escapedOffsets:i,escaped:Kh(i)}}}default:return{}}}}},Kv=new Set(["left","top"]);async function CC(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=xr(r),a=Fs(r),c=er(r)==="y",u=Kv.has(i)?-1:1,f=o&&c?-1:1,d=wr(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),c?{x:y*f,y:h*u}:{x:h*u,y:y*f}}const NC=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=e,c=await CC(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},jC=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:m,y:p}=b;return{x:m,y:p}}},...c}=wr(t,e),u={x:r,y:n},f=await Do(e,c),d=er(xr(s)),h=kd(d);let y=u[h],x=u[d];if(o){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",p=y+f[b],g=y-f[m];y=su(p,y,g)}if(i){const b=d==="y"?"top":"left",m=d==="y"?"bottom":"right",p=x+f[b],g=x-f[m];x=su(p,x,g)}const v=a.fn({...e,[h]:y,[d]:x});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:o,[d]:i}}}}}},TC=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=wr(t,e),f={x:r,y:n},d=er(s),h=kd(d);let y=f[h],x=f[d];const v=wr(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const g=h==="y"?"height":"width",S=o.reference[h]-o.floating[g]+b.mainAxis,_=o.reference[h]+o.reference[g]-b.mainAxis;y<S?y=S:y>_&&(y=_)}if(u){var m,p;const g=h==="y"?"width":"height",S=Kv.has(xr(s)),_=o.reference[d]-o.floating[g]+(S&&((m=i.offset)==null?void 0:m[d])||0)+(S?0:b.crossAxis),E=o.reference[d]+o.reference[g]+(S?0:((p=i.offset)==null?void 0:p[d])||0)-(S?b.crossAxis:0);x<_?x=_:x>E&&(x=E)}return{[h]:y,[d]:x}}}},PC=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:c=()=>{},...u}=wr(t,e),f=await Do(e,u),d=xr(s),h=Fs(s),y=er(s)==="y",{width:x,height:v}=o.floating;let b,m;d==="top"||d==="bottom"?(b=d,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=d,b=h==="end"?"top":"bottom");const p=v-f.top-f.bottom,g=x-f.left-f.right,S=Kr(v-f[b],p),_=Kr(x-f[m],g),E=!e.middlewareData.shift;let k=S,T=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=g),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=p),E&&!h){const D=gt(f.left,0),W=gt(f.right,0),z=gt(f.top,0),G=gt(f.bottom,0);y?T=x-2*(D!==0||W!==0?D+W:gt(f.left,f.right)):k=v-2*(z!==0||G!==0?z+G:gt(f.top,f.bottom))}await c({...e,availableWidth:T,availableHeight:k});const I=await i.getDimensions(a.floating);return x!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Ja(){return typeof window<"u"}function zs(t){return qv(t)?(t.nodeName||"").toLowerCase():"#document"}function xt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function or(t){var e;return(e=(qv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qv(t){return Ja()?t instanceof Node||t instanceof xt(t).Node:!1}function Wt(t){return Ja()?t instanceof Element||t instanceof xt(t).Element:!1}function sr(t){return Ja()?t instanceof HTMLElement||t instanceof xt(t).HTMLElement:!1}function qh(t){return!Ja()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xt(t).ShadowRoot}const AC=new Set(["inline","contents"]);function qo(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Gt(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!AC.has(s)}const RC=new Set(["table","td","th"]);function OC(t){return RC.has(zs(t))}const LC=[":popover-open",":modal"];function Qa(t){return LC.some(e=>{try{return t.matches(e)}catch{return!1}})}const IC=["transform","translate","scale","rotate","perspective"],$C=["transform","translate","scale","rotate","perspective","filter"],DC=["paint","layout","strict","content"];function Nd(t){const e=jd(),r=Wt(t)?Gt(t):t;return IC.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||$C.some(n=>(r.willChange||"").includes(n))||DC.some(n=>(r.contain||"").includes(n))}function MC(t){let e=qr(t);for(;sr(e)&&!As(e);){if(Nd(e))return e;if(Qa(e))return null;e=qr(e)}return null}function jd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FC=new Set(["html","body","#document"]);function As(t){return FC.has(zs(t))}function Gt(t){return xt(t).getComputedStyle(t)}function Xa(t){return Wt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qr(t){if(zs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qh(t)&&t.host||or(t);return qh(e)?e.host:e}function Yv(t){const e=qr(t);return As(e)?t.ownerDocument?t.ownerDocument.body:t.body:sr(e)&&qo(e)?e:Yv(e)}function Mo(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Yv(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=xt(s);if(o){const a=iu(i);return e.concat(i,i.visualViewport||[],qo(s)?s:[],a&&r?Mo(a):[])}return e.concat(s,Mo(s,[],r))}function iu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Jv(t){const e=Gt(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=sr(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,a=ya(r)!==o||ya(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Td(t){return Wt(t)?t:t.contextElement}function xs(t){const e=Td(t);if(!sr(e))return nr(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=Jv(e);let i=(o?ya(r.width):r.width)/n,a=(o?ya(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const zC=nr(0);function Qv(t){const e=xt(t);return!jd()||!e.visualViewport?zC:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UC(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==xt(t)?!1:e}function Cn(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Td(t);let i=nr(1);e&&(n?Wt(n)&&(i=xs(n)):i=xs(t));const a=UC(o,r,n)?Qv(o):nr(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,f=s.width/i.x,d=s.height/i.y;if(o){const h=xt(o),y=n&&Wt(n)?xt(n):n;let x=h,v=iu(x);for(;v&&n&&y!==x;){const b=xs(v),m=v.getBoundingClientRect(),p=Gt(v),g=m.left+(v.clientLeft+parseFloat(p.paddingLeft))*b.x,S=m.top+(v.clientTop+parseFloat(p.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,d*=b.y,c+=g,u+=S,x=xt(v),v=iu(x)}}return xa({width:f,height:d,x:c,y:u})}function Pd(t,e){const r=Xa(t).scrollLeft;return e?e.left+r:Cn(or(t)).left+r}function Xv(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Pd(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function BC(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=or(n),a=e?Qa(e.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=nr(1);const f=nr(0),d=sr(n);if((d||!d&&!o)&&((zs(n)!=="body"||qo(i))&&(c=Xa(n)),sr(n))){const y=Cn(n);u=xs(n),f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}const h=i&&!d&&!o?Xv(i,c,!0):nr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function HC(t){return Array.from(t.getClientRects())}function VC(t){const e=or(t),r=Xa(t),n=t.ownerDocument.body,s=gt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=gt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Pd(t);const a=-r.scrollTop;return Gt(n).direction==="rtl"&&(i+=gt(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function WC(t,e){const r=xt(t),n=or(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=jd();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}const GC=new Set(["absolute","fixed"]);function KC(t,e){const r=Cn(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=sr(t)?xs(t):nr(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function Yh(t,e,r){let n;if(e==="viewport")n=WC(t,r);else if(e==="document")n=VC(or(t));else if(Wt(e))n=KC(e,r);else{const s=Qv(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return xa(n)}function Zv(t,e){const r=qr(t);return r===e||!Wt(r)||As(r)?!1:Gt(r).position==="fixed"||Zv(r,e)}function qC(t,e){const r=e.get(t);if(r)return r;let n=Mo(t,[],!1).filter(a=>Wt(a)&&zs(a)!=="body"),s=null;const o=Gt(t).position==="fixed";let i=o?qr(t):t;for(;Wt(i)&&!As(i);){const a=Gt(i),c=Nd(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&GC.has(s.position)||qo(i)&&!c&&Zv(t,i))?n=n.filter(f=>f!==i):s=a,i=qr(i)}return e.set(t,n),n}function YC(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?Qa(e)?[]:qC(e,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,f)=>{const d=Yh(e,f,s);return u.top=gt(d.top,u.top),u.right=Kr(d.right,u.right),u.bottom=Kr(d.bottom,u.bottom),u.left=gt(d.left,u.left),u},Yh(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JC(t){const{width:e,height:r}=Jv(t);return{width:e,height:r}}function QC(t,e,r){const n=sr(e),s=or(e),o=r==="fixed",i=Cn(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=nr(0);function u(){c.x=Pd(s)}if(n||!n&&!o)if((zs(e)!=="body"||qo(s))&&(a=Xa(e)),n){const y=Cn(e,!0,o,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&u();o&&!n&&s&&u();const f=s&&!n&&!o?Xv(s,a):nr(0),d=i.left+a.scrollLeft-c.x-f.x,h=i.top+a.scrollTop-c.y-f.y;return{x:d,y:h,width:i.width,height:i.height}}function Kl(t){return Gt(t).position==="static"}function Jh(t,e){if(!sr(t)||Gt(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return or(t)===r&&(r=r.ownerDocument.body),r}function ey(t,e){const r=xt(t);if(Qa(t))return r;if(!sr(t)){let s=qr(t);for(;s&&!As(s);){if(Wt(s)&&!Kl(s))return s;s=qr(s)}return r}let n=Jh(t,e);for(;n&&OC(n)&&Kl(n);)n=Jh(n,e);return n&&As(n)&&Kl(n)&&!Nd(n)?r:n||MC(t)||r}const XC=async function(t){const e=this.getOffsetParent||ey,r=this.getDimensions,n=await r(t.floating);return{reference:QC(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ZC(t){return Gt(t).direction==="rtl"}const eN={convertOffsetParentRelativeRectToViewportRelativeRect:BC,getDocumentElement:or,getClippingRect:YC,getOffsetParent:ey,getElementRects:XC,getClientRects:HC,getDimensions:JC,getScale:xs,isElement:Wt,isRTL:ZC};function ty(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tN(t,e){let r=null,n;const s=or(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:f,top:d,width:h,height:y}=u;if(a||e(),!h||!y)return;const x=Ei(d),v=Ei(s.clientWidth-(f+h)),b=Ei(s.clientHeight-(d+y)),m=Ei(f),g={rootMargin:-x+"px "+-v+"px "+-b+"px "+-m+"px",threshold:gt(0,Kr(1,c))||1};let S=!0;function _(E){const k=E[0].intersectionRatio;if(k!==c){if(!S)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!ty(u,t.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(_,{...g,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,g)}r.observe(t)}return i(!0),o}function rN(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Td(t),f=s||o?[...u?Mo(u):[],...Mo(e)]:[];f.forEach(m=>{s&&m.addEventListener("scroll",r,{passive:!0}),o&&m.addEventListener("resize",r)});const d=u&&a?tN(u,r):null;let h=-1,y=null;i&&(y=new ResizeObserver(m=>{let[p]=m;p&&p.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=y)==null||g.observe(e)})),r()}),u&&!c&&y.observe(u),y.observe(e));let x,v=c?Cn(t):null;c&&b();function b(){const m=Cn(t);v&&!ty(v,m)&&r(),v=m,x=requestAnimationFrame(b)}return r(),()=>{var m;f.forEach(p=>{s&&p.removeEventListener("scroll",r),o&&p.removeEventListener("resize",r)}),d==null||d(),(m=y)==null||m.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const nN=NC,sN=jC,oN=kC,iN=PC,aN=EC,Qh=_C,lN=TC,cN=(t,e,r)=>{const n=new Map,s={platform:eN,...r},o={...s.platform,_c:n};return SC(t,e,{...s,platform:o})};var uN=typeof document<"u",dN=function(){},Bi=uN?w.useLayoutEffect:dN;function ba(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ba(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!ba(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function ry(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Xh(t,e){const r=ry(t);return Math.round(e*r)/r}function ql(t){const e=w.useRef(t);return Bi(()=>{e.current=t}),e}function fN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[f,d]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=w.useState(n);ba(h,n)||y(n);const[x,v]=w.useState(null),[b,m]=w.useState(null),p=w.useCallback(j=>{j!==E.current&&(E.current=j,v(j))},[]),g=w.useCallback(j=>{j!==k.current&&(k.current=j,m(j))},[]),S=o||x,_=i||b,E=w.useRef(null),k=w.useRef(null),T=w.useRef(f),I=c!=null,D=ql(c),W=ql(s),z=ql(u),G=w.useCallback(()=>{if(!E.current||!k.current)return;const j={placement:e,strategy:r,middleware:h};W.current&&(j.platform=W.current),cN(E.current,k.current,j).then(C=>{const R={...C,isPositioned:z.current!==!1};P.current&&!ba(T.current,R)&&(T.current=R,Is.flushSync(()=>{d(R)}))})},[h,e,r,W,z]);Bi(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[u]);const P=w.useRef(!1);Bi(()=>(P.current=!0,()=>{P.current=!1}),[]),Bi(()=>{if(S&&(E.current=S),_&&(k.current=_),S&&_){if(D.current)return D.current(S,_,G);G()}},[S,_,G,D,I]);const F=w.useMemo(()=>({reference:E,floating:k,setReference:p,setFloating:g}),[p,g]),A=w.useMemo(()=>({reference:S,floating:_}),[S,_]),M=w.useMemo(()=>{const j={position:r,left:0,top:0};if(!A.floating)return j;const C=Xh(A.floating,f.x),R=Xh(A.floating,f.y);return a?{...j,transform:"translate("+C+"px, "+R+"px)",...ry(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:C,top:R}},[r,a,A.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:G,refs:F,elements:A,floatingStyles:M}),[f,G,F,A,M])}const hN=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Qh({element:n.current,padding:s}).fn(r):{}:n?Qh({element:n,padding:s}).fn(r):{}}}},pN=(t,e)=>({...nN(t),options:[t,e]}),mN=(t,e)=>({...sN(t),options:[t,e]}),gN=(t,e)=>({...lN(t),options:[t,e]}),vN=(t,e)=>({...oN(t),options:[t,e]}),yN=(t,e)=>({...iN(t),options:[t,e]}),wN=(t,e)=>({...aN(t),options:[t,e]}),xN=(t,e)=>({...hN(t),options:[t,e]});var bN="Arrow",ny=w.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return l.jsx(de.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});ny.displayName=bN;var SN=ny,Ad="Popper",[sy,oy]=Vo(Ad),[_N,iy]=sy(Ad),ay=t=>{const{__scopePopper:e,children:r}=t,[n,s]=w.useState(null);return l.jsx(_N,{scope:e,anchor:n,onAnchorChange:s,children:r})};ay.displayName=Ad;var ly="PopperAnchor",cy=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=iy(ly,r),i=w.useRef(null),a=Ne(e,i);return w.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(de.div,{...s,ref:a})});cy.displayName=ly;var Rd="PopperContent",[kN,EN]=sy(Rd),uy=w.forwardRef((t,e)=>{var V,Y,fe,le,N,O;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:x,...v}=t,b=iy(Rd,r),[m,p]=w.useState(null),g=Ne(e,ee=>p(ee)),[S,_]=w.useState(null),E=zv(S),k=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,I=n+(o!=="center"?"-"+o:""),D=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},W=Array.isArray(u)?u:[u],z=W.length>0,G={padding:D,boundary:W.filter(NN),altBoundary:z},{refs:P,floatingStyles:F,placement:A,isPositioned:M,middlewareData:j}=fN({strategy:"fixed",placement:I,whileElementsMounted:(...ee)=>rN(...ee,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[pN({mainAxis:s+T,alignmentAxis:i}),c&&mN({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?gN():void 0,...G}),c&&vN({...G}),yN({...G,apply:({elements:ee,rects:xe,availableWidth:Re,availableHeight:rt})=>{const{width:Qe,height:Rn}=xe.reference,nt=ee.floating.style;nt.setProperty("--radix-popper-available-width",`${Re}px`),nt.setProperty("--radix-popper-available-height",`${rt}px`),nt.setProperty("--radix-popper-anchor-width",`${Qe}px`),nt.setProperty("--radix-popper-anchor-height",`${Rn}px`)}}),S&&xN({element:S,padding:a}),jN({arrowWidth:k,arrowHeight:T}),h&&wN({strategy:"referenceHidden",...G})]}),[C,R]=hy(A),U=kn(x);Je(()=>{M&&(U==null||U())},[M,U]);const q=(V=j.arrow)==null?void 0:V.x,K=(Y=j.arrow)==null?void 0:Y.y,Q=((fe=j.arrow)==null?void 0:fe.centerOffset)!==0,[se,Z]=w.useState();return Je(()=>{m&&Z(window.getComputedStyle(m).zIndex)},[m]),l.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:M?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(le=j.transformOrigin)==null?void 0:le.x,(N=j.transformOrigin)==null?void 0:N.y].join(" "),...((O=j.hide)==null?void 0:O.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(kN,{scope:r,placedSide:C,onArrowChange:_,arrowX:q,arrowY:K,shouldHideArrow:Q,children:l.jsx(de.div,{"data-side":C,"data-align":R,...v,ref:g,style:{...v.style,animation:M?void 0:"none"}})})})});uy.displayName=Rd;var dy="PopperArrow",CN={top:"bottom",right:"left",bottom:"top",left:"right"},fy=w.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=EN(dy,n),i=CN[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(SN,{...s,ref:r,style:{...s.style,display:"block"}})})});fy.displayName=dy;function NN(t){return t!==null}var jN=t=>({name:"transformOrigin",options:t,fn(e){var b,m,p;const{placement:r,rects:n,middlewareData:s}=e,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,f]=hy(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((m=s.arrow)==null?void 0:m.x)??0)+a/2,y=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=i?d:`${h}px`,v=`${-c}px`):u==="top"?(x=i?d:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=i?d:`${y}px`):u==="left"&&(x=`${n.floating.width+c}px`,v=i?d:`${y}px`),{data:{x,y:v}}}});function hy(t){const[e,r="center"]=t.split("-");return[e,r]}var TN=ay,PN=cy,AN=uy,RN=fy,py=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ON="VisuallyHidden",LN=w.forwardRef((t,e)=>l.jsx(de.span,{...t,ref:e,style:{...py,...t.style}}));LN.displayName=ON;var IN=[" ","Enter","ArrowUp","ArrowDown"],$N=[" ","Enter"],Nn="Select",[Za,el,DN]=lC(Nn),[Us,H2]=Vo(Nn,[DN,oy]),tl=oy(),[MN,Zr]=Us(Nn),[FN,zN]=Us(Nn),my=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:y,form:x}=t,v=tl(e),[b,m]=w.useState(null),[p,g]=w.useState(null),[S,_]=w.useState(!1),E=uC(u),[k,T]=pa({prop:n,defaultProp:s??!1,onChange:o,caller:Nn}),[I,D]=pa({prop:i,defaultProp:a,onChange:c,caller:Nn}),W=w.useRef(null),z=b?x||!!b.closest("form"):!0,[G,P]=w.useState(new Set),F=Array.from(G).map(A=>A.props.value).join(";");return l.jsx(TN,{...v,children:l.jsxs(MN,{required:y,scope:e,trigger:b,onTriggerChange:m,valueNode:p,onValueNodeChange:g,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:ys(),value:I,onValueChange:D,open:k,onOpenChange:T,dir:E,triggerPointerDownPosRef:W,disabled:h,children:[l.jsx(Za.Provider,{scope:e,children:l.jsx(FN,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(A=>{P(M=>new Set(M).add(A))},[]),onNativeOptionRemove:w.useCallback(A=>{P(M=>{const j=new Set(M);return j.delete(A),j})},[]),children:r})}),z?l.jsxs(Dy,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:d,value:I,onChange:A=>D(A.target.value),disabled:h,form:x,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(G)]},F):null]})})};my.displayName=Nn;var gy="SelectTrigger",vy=w.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=tl(r),i=Zr(gy,r),a=i.disabled||n,c=Ne(e,i.onTriggerChange),u=el(r),f=w.useRef("touch"),[d,h,y]=Fy(v=>{const b=u().filter(g=>!g.disabled),m=b.find(g=>g.value===i.value),p=zy(b,v,m);p!==void 0&&i.onValueChange(p.value)}),x=v=>{a||(i.onOpenChange(!0),y()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(PN,{asChild:!0,...o,children:l.jsx(de.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":My(i.value)?"":void 0,...s,ref:c,onClick:pe(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:pe(s.onPointerDown,v=>{f.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:pe(s.onKeyDown,v=>{const b=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(b&&v.key===" ")&&IN.includes(v.key)&&(x(),v.preventDefault())})})})});vy.displayName=gy;var yy="SelectValue",wy=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=t,c=Zr(yy,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,d=Ne(e,c.onValueNodeChange);return Je(()=>{u(f)},[u,f]),l.jsx(de.span,{...a,ref:d,style:{pointerEvents:"none"},children:My(c.value)?l.jsx(l.Fragment,{children:i}):o})});wy.displayName=yy;var UN="SelectIcon",xy=w.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return l.jsx(de.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});xy.displayName=UN;var BN="SelectPortal",by=t=>l.jsx(ud,{asChild:!0,...t});by.displayName=BN;var jn="SelectContent",Sy=w.forwardRef((t,e)=>{const r=Zr(jn,t.__scopeSelect),[n,s]=w.useState();if(Je(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Is.createPortal(l.jsx(_y,{scope:t.__scopeSelect,children:l.jsx(Za.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(ky,{...t,ref:e})});Sy.displayName=jn;var $t=10,[_y,en]=Us(jn),HN="SelectContentImpl",VN=js("SelectContent.RemoveScroll"),ky=w.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:y,sticky:x,hideWhenDetached:v,avoidCollisions:b,...m}=t,p=Zr(jn,r),[g,S]=w.useState(null),[_,E]=w.useState(null),k=Ne(e,V=>S(V)),[T,I]=w.useState(null),[D,W]=w.useState(null),z=el(r),[G,P]=w.useState(!1),F=w.useRef(!1);w.useEffect(()=>{if(g)return Hg(g)},[g]),Rg();const A=w.useCallback(V=>{const[Y,...fe]=z().map(O=>O.ref.current),[le]=fe.slice(-1),N=document.activeElement;for(const O of V)if(O===N||(O==null||O.scrollIntoView({block:"nearest"}),O===Y&&_&&(_.scrollTop=0),O===le&&_&&(_.scrollTop=_.scrollHeight),O==null||O.focus(),document.activeElement!==N))return},[z,_]),M=w.useCallback(()=>A([T,g]),[A,T,g]);w.useEffect(()=>{G&&M()},[G,M]);const{onOpenChange:j,triggerPointerDownPosRef:C}=p;w.useEffect(()=>{if(g){let V={x:0,y:0};const Y=le=>{var N,O;V={x:Math.abs(Math.round(le.pageX)-(((N=C.current)==null?void 0:N.x)??0)),y:Math.abs(Math.round(le.pageY)-(((O=C.current)==null?void 0:O.y)??0))}},fe=le=>{V.x<=10&&V.y<=10?le.preventDefault():g.contains(le.target)||j(!1),document.removeEventListener("pointermove",Y),C.current=null};return C.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",fe,{capture:!0})}}},[g,j,C]),w.useEffect(()=>{const V=()=>j(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[j]);const[R,U]=Fy(V=>{const Y=z().filter(N=>!N.disabled),fe=Y.find(N=>N.ref.current===document.activeElement),le=zy(Y,V,fe);le&&setTimeout(()=>le.ref.current.focus())}),q=w.useCallback((V,Y,fe)=>{const le=!F.current&&!fe;(p.value!==void 0&&p.value===Y||le)&&(I(V),le&&(F.current=!0))},[p.value]),K=w.useCallback(()=>g==null?void 0:g.focus(),[g]),Q=w.useCallback((V,Y,fe)=>{const le=!F.current&&!fe;(p.value!==void 0&&p.value===Y||le)&&W(V)},[p.value]),se=n==="popper"?au:Ey,Z=se===au?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:y,sticky:x,hideWhenDetached:v,avoidCollisions:b}:{};return l.jsx(_y,{scope:r,content:g,viewport:_,onViewportChange:E,itemRefCallback:q,selectedItem:T,onItemLeave:K,itemTextRefCallback:Q,focusSelectedItem:M,selectedItemText:D,position:n,isPositioned:G,searchRef:R,children:l.jsx(Ug,{as:VN,allowPinchZoom:!0,children:l.jsx(cd,{asChild:!0,trapped:p.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:pe(s,V=>{var Y;(Y=p.trigger)==null||Y.focus({preventScroll:!0}),V.preventDefault()}),children:l.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:l.jsx(se,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:V=>V.preventDefault(),...m,...Z,onPlaced:()=>P(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:pe(m.onKeyDown,V=>{const Y=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!Y&&V.key.length===1&&U(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let le=z().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(V.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const N=V.target,O=le.indexOf(N);le=le.slice(O+1)}setTimeout(()=>A(le)),V.preventDefault()}})})})})})})});ky.displayName=HN;var WN="SelectItemAlignedPosition",Ey=w.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=Zr(jn,r),i=en(jn,r),[a,c]=w.useState(null),[u,f]=w.useState(null),d=Ne(e,k=>f(k)),h=el(r),y=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:m,focusSelectedItem:p}=i,g=w.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&v&&b&&m){const k=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),D=m.getBoundingClientRect();if(o.dir!=="rtl"){const N=D.left-T.left,O=I.left-N,ee=k.left-O,xe=k.width+ee,Re=Math.max(xe,T.width),rt=window.innerWidth-$t,Qe=Bh(O,[$t,Math.max($t,rt-Re)]);a.style.minWidth=xe+"px",a.style.left=Qe+"px"}else{const N=T.right-D.right,O=window.innerWidth-I.right-N,ee=window.innerWidth-k.right-O,xe=k.width+ee,Re=Math.max(xe,T.width),rt=window.innerWidth-$t,Qe=Bh(O,[$t,Math.max($t,rt-Re)]);a.style.minWidth=xe+"px",a.style.right=Qe+"px"}const W=h(),z=window.innerHeight-$t*2,G=v.scrollHeight,P=window.getComputedStyle(u),F=parseInt(P.borderTopWidth,10),A=parseInt(P.paddingTop,10),M=parseInt(P.borderBottomWidth,10),j=parseInt(P.paddingBottom,10),C=F+A+G+j+M,R=Math.min(b.offsetHeight*5,C),U=window.getComputedStyle(v),q=parseInt(U.paddingTop,10),K=parseInt(U.paddingBottom,10),Q=k.top+k.height/2-$t,se=z-Q,Z=b.offsetHeight/2,V=b.offsetTop+Z,Y=F+A+V,fe=C-Y;if(Y<=Q){const N=W.length>0&&b===W[W.length-1].ref.current;a.style.bottom="0px";const O=u.clientHeight-v.offsetTop-v.offsetHeight,ee=Math.max(se,Z+(N?K:0)+O+M),xe=Y+ee;a.style.height=xe+"px"}else{const N=W.length>0&&b===W[0].ref.current;a.style.top="0px";const ee=Math.max(Q,F+v.offsetTop+(N?q:0)+Z)+fe;a.style.height=ee+"px",v.scrollTop=Y-Q+v.offsetTop}a.style.margin=`${$t}px 0`,a.style.minHeight=R+"px",a.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[h,o.trigger,o.valueNode,a,u,v,b,m,o.dir,n]);Je(()=>g(),[g]);const[S,_]=w.useState();Je(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const E=w.useCallback(k=>{k&&x.current===!0&&(g(),p==null||p(),x.current=!1)},[g,p]);return l.jsx(KN,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(de.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ey.displayName=WN;var GN="SelectPopperPosition",au=w.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=$t,...o}=t,i=tl(r);return l.jsx(AN,{...i,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});au.displayName=GN;var[KN,Od]=Us(jn,{}),lu="SelectViewport",Cy=w.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=en(lu,r),i=Od(lu,r),a=Ne(e,o.onViewportChange),c=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Za.Slot,{scope:r,children:l.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const y=Math.abs(c.current-f.scrollTop);if(y>0){const x=window.innerHeight-$t*2,v=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),m=Math.max(v,b);if(m<x){const p=m+y,g=Math.min(x,p),S=p-g;d.style.height=g+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Cy.displayName=lu;var Ny="SelectGroup",[qN,YN]=Us(Ny),JN=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ys();return l.jsx(qN,{scope:r,id:s,children:l.jsx(de.div,{role:"group","aria-labelledby":s,...n,ref:e})})});JN.displayName=Ny;var jy="SelectLabel",QN=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=YN(jy,r);return l.jsx(de.div,{id:s.id,...n,ref:e})});QN.displayName=jy;var Sa="SelectItem",[XN,Ty]=Us(Sa),Py=w.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=t,a=Zr(Sa,r),c=en(Sa,r),u=a.value===n,[f,d]=w.useState(o??""),[h,y]=w.useState(!1),x=Ne(e,p=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,p,n,s)}),v=ys(),b=w.useRef("touch"),m=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(XN,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:w.useCallback(p=>{d(g=>g||((p==null?void 0:p.textContent)??"").trim())},[]),children:l.jsx(Za.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:l.jsx(de.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:pe(i.onFocus,()=>y(!0)),onBlur:pe(i.onBlur,()=>y(!1)),onClick:pe(i.onClick,()=>{b.current!=="mouse"&&m()}),onPointerUp:pe(i.onPointerUp,()=>{b.current==="mouse"&&m()}),onPointerDown:pe(i.onPointerDown,p=>{b.current=p.pointerType}),onPointerMove:pe(i.onPointerMove,p=>{var g;b.current=p.pointerType,s?(g=c.onItemLeave)==null||g.call(c):b.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(i.onPointerLeave,p=>{var g;p.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:pe(i.onKeyDown,p=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&p.key===" "||($N.includes(p.key)&&m(),p.key===" "&&p.preventDefault())})})})})});Py.displayName=Sa;var so="SelectItemText",Ay=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,i=Zr(so,r),a=en(so,r),c=Ty(so,r),u=zN(so,r),[f,d]=w.useState(null),h=Ne(e,m=>d(m),c.onItemTextChange,m=>{var p;return(p=a.itemTextRefCallback)==null?void 0:p.call(a,m,c.value,c.disabled)}),y=f==null?void 0:f.textContent,x=w.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return Je(()=>(v(x),()=>b(x)),[v,b,x]),l.jsxs(l.Fragment,{children:[l.jsx(de.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Is.createPortal(o.children,i.valueNode):null]})});Ay.displayName=so;var Ry="SelectItemIndicator",Oy=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Ty(Ry,r).isSelected?l.jsx(de.span,{"aria-hidden":!0,...n,ref:e}):null});Oy.displayName=Ry;var cu="SelectScrollUpButton",Ly=w.forwardRef((t,e)=>{const r=en(cu,t.__scopeSelect),n=Od(cu,t.__scopeSelect),[s,o]=w.useState(!1),i=Ne(e,n.onScrollButtonChange);return Je(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx($y,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});Ly.displayName=cu;var uu="SelectScrollDownButton",Iy=w.forwardRef((t,e)=>{const r=en(uu,t.__scopeSelect),n=Od(uu,t.__scopeSelect),[s,o]=w.useState(!1),i=Ne(e,n.onScrollButtonChange);return Je(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx($y,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Iy.displayName=uu;var $y=w.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=en("SelectScrollButton",r),i=w.useRef(null),a=el(r),c=w.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Je(()=>{var f;const u=a().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),l.jsx(de.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:pe(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{c()})})}),ZN="SelectSeparator",e2=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(de.div,{"aria-hidden":!0,...n,ref:e})});e2.displayName=ZN;var du="SelectArrow",t2=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=tl(r),o=Zr(du,r),i=en(du,r);return o.open&&i.position==="popper"?l.jsx(RN,{...s,...n,ref:e}):null});t2.displayName=du;var r2="SelectBubbleInput",Dy=w.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=w.useRef(null),o=Ne(n,s),i=Fv(e);return w.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&f){const d=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(d)}},[i,e]),l.jsx(de.select,{...r,style:{...py,...r.style},ref:o,defaultValue:e})});Dy.displayName=r2;function My(t){return t===""||t===void 0}function Fy(t){const e=kn(t),r=w.useRef(""),n=w.useRef(0),s=w.useCallback(i=>{const a=r.current+i;e(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function zy(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=n2(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function n2(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var s2=my,o2=vy,i2=wy,a2=xy,l2=by,c2=Sy,u2=Cy,d2=Py,f2=Ay,h2=Oy,p2=Ly,m2=Iy;function g2({...t}){return l.jsx(s2,{"data-slot":"select",...t})}function v2({...t}){return l.jsx(i2,{"data-slot":"select-value",...t})}function y2({className:t,size:e="default",children:r,...n}){return l.jsxs(o2,{"data-slot":"select-trigger","data-size":e,className:we("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,l.jsx(a2,{asChild:!0,children:l.jsx(Eg,{className:"size-4 opacity-50"})})]})}function w2({className:t,children:e,position:r="popper",...n}){return l.jsx(l2,{children:l.jsxs(c2,{"data-slot":"select-content",className:we("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(x2,{}),l.jsx(u2,{className:we("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(b2,{})]})})}function Ci({className:t,children:e,...r}){return l.jsxs(d2,{"data-slot":"select-item",className:we("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(h2,{children:l.jsx(kg,{className:"size-4"})})}),l.jsx(f2,{children:e})]})}function x2({className:t,...e}){return l.jsx(p2,{"data-slot":"select-scroll-up-button",className:we("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Nb,{className:"size-4"})})}function b2({className:t,...e}){return l.jsx(m2,{"data-slot":"select-scroll-down-button",className:we("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Eg,{className:"size-4"})})}function S2({galleryId:t,selectedSubfolder:e,onSubfolderChange:r,disabled:n=!1}){const[s,o]=w.useState([]),[i,a]=w.useState(!1),[c,u]=w.useState(""),[f,d]=w.useState(!1);w.useEffect(()=>{h()},[t]);const h=async()=>{d(!0);try{const b=await _e.getGallerySubfolders(t);o(b)}catch(b){console.error("Error loading subfolders:",b),o([])}finally{d(!1)}},y=()=>{const b=c.trim();if(!b)return;if(!/^[a-zA-Z0-9\s\-_]+$/.test(b)){alert("Le nom du dossier ne peut contenir que des lettres, chiffres, espaces, tirets et underscores.");return}if(s.some(p=>p.name.toLowerCase()===b.toLowerCase())){alert("Ce sous-dossier existe dj.");return}const m={name:b,photoCount:0,lastUpdated:new Date().toISOString()};o(p=>[...p,m].sort((g,S)=>g.name.localeCompare(S.name))),r(b),u(""),a(!1)},x=b=>{b.key==="Enter"?(b.preventDefault(),y()):b.key==="Escape"&&(a(!1),u(""))},v=b=>{r(b==="ROOT_FOLDER"?void 0:b)};return l.jsxs("div",{className:"space-y-3",children:[l.jsx(Pe,{htmlFor:"subfolder-select",className:"text-sm font-medium",children:"Sous-dossier (optionnel)"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(g2,{value:e||"ROOT_FOLDER",onValueChange:v,disabled:n||f,children:[l.jsx(y2,{className:"w-full",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lt,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(v2,{placeholder:"Choisir un sous-dossier existant ou crer un nouveau..."})]})}),l.jsxs(w2,{children:[l.jsx(Ci,{value:"ROOT_FOLDER",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lt,{className:"h-4 w-4"}),"Racine (pas de sous-dossier)"]})}),s.map(b=>l.jsx(Ci,{value:b.name,children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lt,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{children:b.name})]}),l.jsx(Ut,{variant:"secondary",className:"ml-2",children:b.photoCount})]})},b.name)),f&&l.jsx(Ci,{value:"LOADING",disabled:!0,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-muted border-t-primary rounded-full animate-spin"}),"Chargement..."]})}),!f&&s.length===0&&l.jsx(Ci,{value:"NO_SUBFOLDERS",disabled:!0,children:l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(lt,{className:"h-4 w-4"}),"Aucun sous-dossier existant"]})})]})]}),i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Ke,{type:"text",placeholder:"Nom du nouveau sous-dossier...",value:c,onChange:b=>u(b.target.value),onKeyDown:x,className:"text-sm",autoFocus:!0,maxLength:50})}),l.jsx(oe,{type:"button",size:"sm",onClick:y,disabled:!c.trim(),children:l.jsx(kg,{className:"h-4 w-4"})}),l.jsx(oe,{type:"button",variant:"outline",size:"sm",onClick:()=>{a(!1),u("")},children:l.jsx(Ts,{className:"h-4 w-4"})})]}):l.jsxs(oe,{type:"button",variant:"outline",size:"sm",onClick:()=>a(!0),disabled:n,className:"w-full",children:[l.jsx(Hb,{className:"h-4 w-4 mr-2"}),"Crer un nouveau sous-dossier"]}),e&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[l.jsx(lt,{className:"h-4 w-4 text-blue-600"}),l.jsxs("span",{className:"text-sm text-blue-800",children:["Slectionn: ",l.jsx("strong",{children:e})]}),l.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>r(void 0),className:"ml-auto h-6 w-6 p-0 text-blue-600 hover:text-blue-800",children:l.jsx(Ts,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsxs("p",{children:["Les sous-dossiers permettent d'organiser vos photos par thme, date ou catgorie.",s.length>0&&` Vous avez ${s.length} sous-dossier${s.length!==1?"s":""} existant${s.length!==1?"s":""}.`]}),!_e.isSupabaseConfigured()&&l.jsx("p",{className:"text-amber-600 bg-amber-50 border border-amber-200 rounded p-2",children:" La gestion des sous-dossiers ncessite Supabase. Configurez-le dans le panneau d'administration."})]})]})]})}class Ld{constructor(){be(this,"ADMIN_PASSWORD","admin123");be(this,"ADMIN_SESSION_KEY","admin-session");be(this,"SESSION_DURATION",24*60*60*1e3)}authenticateAdmin(e){try{const r=e===this.ADMIN_PASSWORD;return r&&this.setAdminSession(),r}catch(r){return console.error("Error authenticating admin:",r),!1}}isAdminAuthenticated(){try{const e=this.getAdminSession();return e?Date.now()>e.expiresAt?(this.clearAdminSession(),!1):e.isAuthenticated:!1}catch(e){return console.error("Error checking admin auth:",e),!1}}setAdminSession(){try{const e={isAuthenticated:!0,timestamp:Date.now(),expiresAt:Date.now()+this.SESSION_DURATION};localStorage.setItem(this.ADMIN_SESSION_KEY,JSON.stringify(e))}catch(e){console.error("Error setting admin session:",e)}}getAdminSession(){try{const e=localStorage.getItem(this.ADMIN_SESSION_KEY);return e?JSON.parse(e):null}catch(e){return console.error("Error getting admin session:",e),null}}clearAdminSession(){try{localStorage.removeItem(this.ADMIN_SESSION_KEY)}catch(e){console.error("Error clearing admin session:",e)}}getSessionInfo(){try{const e=this.getAdminSession();if(!e)return{isAuthenticated:!1};const r=e.expiresAt-Date.now();return{isAuthenticated:e.isAuthenticated&&r>0,expiresAt:e.expiresAt,timeRemaining:Math.max(0,r)}}catch{return{isAuthenticated:!1}}}extendSession(){try{return this.isAdminAuthenticated()?(this.setAdminSession(),!0):!1}catch(e){return console.error("Error extending session:",e),!1}}static validatePassword(e){const r=[];return(!e||e.length===0)&&r.push("Password is required"),e.length<4&&r.push("Password must be at least 4 characters long"),{isValid:r.length===0,errors:r}}changeAdminPassword(e,r){try{return e!==this.ADMIN_PASSWORD||!Ld.validatePassword(r).isValid?!1:(console.warn("Password change requested. Update ADMIN_PASSWORD constant in authService.ts"),!0)}catch(n){return console.error("Error changing admin password:",n),!1}}}const Gn=new Ld;function _2(){const[t,e]=w.useState(!1),[r,n]=w.useState(!1),[s,o]=w.useState({}),[i,a]=w.useState([]),[c,u]=w.useState(!1),[f,d]=w.useState(""),[h,y]=w.useState(!1),[x,v]=w.useState({isConnected:!1,isTableReady:!1,localGalleries:0,remoteGalleries:0}),[b,m]=w.useState(!1),[p,g]=w.useState({name:"",description:"",bucketFolder:"",bucketName:"photos",password:"",isPublic:!0,allowComments:!0,allowFavorites:!0}),[S,_]=w.useState(null),[E,k]=w.useState({}),[T,I]=w.useState(null),[D,W]=w.useState(null),[z,G]=w.useState({}),[P,F]=w.useState({totalGalleries:0,totalPhotos:0,protectedGalleries:0});w.useEffect(()=>{console.log(" Checking admin authentication...");const N=Gn.isAdminAuthenticated();if(console.log("Auth status:",N),N){e(!0),j(),C(),R();const O=Gn.getSessionInfo();o(O)}else n(!0)},[]),w.useEffect(()=>{if(!t)return;const N=setInterval(()=>{const O=Gn.getSessionInfo();o(O),O.isAuthenticated||M()},6e4);return()=>clearInterval(N)},[t]);const A=async N=>{console.log(" Attempting admin authentication...");const O=Gn.authenticateAdmin(N);if(console.log("Authentication result:",O),O){e(!0),n(!1),j(),C(),R();const ee=Gn.getSessionInfo();o(ee),J.success("Successfully logged in to admin panel")}else J.error("Invalid admin password");return O},M=()=>{Gn.clearAdminSession(),e(!1),n(!0),a([]),F({totalGalleries:0,totalPhotos:0,protectedGalleries:0}),J.success("Logged out successfully")},j=async()=>{try{u(!0),console.log(" Loading galleries...");const N=await _e.getGalleries();console.log("Loaded galleries:",N),a(N||[])}catch(N){console.error("Error loading galleries:",N),J.error("Failed to load galleries"),a([])}finally{u(!1)}},C=async()=>{try{const N=await _e.getGalleries();let O=0,ee=0;for(const xe of N||[]){const Re=await _e.getGalleryStats(xe.id);O+=Re.photoCount,xe.password&&ee++}F({totalGalleries:(N==null?void 0:N.length)||0,totalPhotos:O,protectedGalleries:ee})}catch(N){console.error("Error loading stats:",N)}},R=async()=>{try{const N=_e.isSupabaseConfigured();v({isConnected:N,isTableReady:N,localGalleries:i.length,remoteGalleries:i.length})}catch(N){console.error("Error loading connection status:",N)}},U=async()=>{try{m(!0),console.log(" Syncing galleries from Supabase...");const N=await _e.syncFromSupabase();N.success?(J.success(`Successfully synced ${N.count} galleries from Supabase`),await j(),await C(),await R()):J.error(N.error||"Failed to sync from Supabase")}catch(N){console.error("Sync error:",N),J.error("Failed to sync from Supabase")}finally{m(!1)}},q=async()=>{if(!p.name.trim()){J.error("Please enter a gallery name");return}try{y(!0),console.log(" Creating gallery:",p);const N=await _e.createGallery({name:p.name,description:p.description||void 0,bucketFolder:p.bucketFolder||void 0,bucketName:p.bucketName||"photos",password:p.password||void 0,isPublic:p.isPublic,allowComments:p.allowComments,allowFavorites:p.allowFavorites});console.log(" Gallery created:",N),g({name:"",description:"",bucketFolder:"",bucketName:"photos",password:"",isPublic:!0,allowComments:!0,allowFavorites:!0}),J.success(`Gallery "${N.name}" created successfully!`),await j(),await C(),await R()}catch(N){console.error("Error creating gallery:",N),J.error("Failed to create gallery")}finally{y(!1)}},K=async(N,O)=>{if(confirm(`Are you sure you want to delete "${O}"?

This will permanently delete:
- The gallery
- All photos in the gallery
- All favorites and comments

This action cannot be undone.`))try{console.log(" Deleting gallery:",N),await _e.deleteGallery(N)?(J.success(`Gallery "${O}" deleted successfully`),await j(),await C(),await R()):J.error("Failed to delete gallery")}catch(ee){console.error("Error deleting gallery:",ee),J.error("Failed to delete gallery")}},Q=N=>{_(N.id),k({name:N.name,description:N.description||"",bucketFolder:N.bucketFolder||"",bucketName:N.bucketName||"photos",password:N.password||"",isPublic:N.isPublic,allowComments:N.allowComments,allowFavorites:N.allowFavorites})},se=async()=>{if(S)try{console.log(" Saving gallery edit:",S,E);const N=await _e.updateGallery(S,E);N?(_(null),k({}),J.success(`Gallery "${N.name}" updated successfully`),await j(),await R()):J.error("Failed to update gallery")}catch(N){console.error("Error updating gallery:",N),J.error("Failed to update gallery")}},Z=()=>{_(null),k({})},V=async(N,O)=>{if(!O||O.length===0)return;const ee=Array.from(O),xe=ee.filter(Re=>B.constructor.isValidImageFile(Re));if(xe.length!==ee.length&&J.error(`${ee.length-xe.length} files were skipped (invalid image format)`),xe.length===0){J.error("No valid image files selected");return}try{I(N),W({completed:0,total:xe.length});const Re=z[N];console.log(` Uploading ${xe.length} photos to gallery ${N}${Re?` in subfolder "${Re}"`:""}`);const rt=await _e.uploadPhotos(N,xe,{subfolder:Re,onProgress:(Qe,Rn)=>{W({completed:Qe,total:Rn})}});if(rt.successful.length>0){const Qe=Re?` to subfolder "${Re}"`:"";J.success(`Successfully uploaded ${rt.successful.length} photos${Qe}`)}rt.failed.length>0&&(J.error(`Failed to upload ${rt.failed.length} photos`),console.error("Upload failures:",rt.failed)),await j(),await C()}catch(Re){console.error("Upload error:",Re),J.error("Failed to upload photos")}finally{I(null),W(null)}},Y=(N,O)=>{console.log(` Subfolder changed for gallery ${N}:`,O),G(ee=>({...ee,[N]:O}))},fe=i.filter(N=>{var O;return N.name.toLowerCase().includes(f.toLowerCase())||N.id.toLowerCase().includes(f.toLowerCase())||((O=N.bucketFolder)==null?void 0:O.toLowerCase().includes(f.toLowerCase()))}),le=N=>{const O=Math.floor(N/36e5),ee=Math.floor(N%(1e3*60*60)/(1e3*60));return`${O}h ${ee}m`};return t?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("div",{className:"border-b bg-card",children:l.jsx("div",{className:"container mx-auto px-4 py-4 lg:py-6",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>window.appRouter.navigateTo("/"),children:[l.jsx(vs,{className:"h-4 w-4 mr-1 lg:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Back to Home"}),l.jsx("span",{className:"sm:hidden",children:"Home"})]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl lg:text-3xl font-bold flex items-center gap-2 lg:gap-3",children:[l.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-orange-100 rounded-full flex items-center justify-center",children:l.jsx(mo,{className:"h-4 w-4 lg:h-6 lg:w-6 text-orange-600"})}),"Admin Panel"]}),l.jsxs("p",{className:"text-sm lg:text-base text-muted-foreground",children:["Manage galleries and system settings",s.timeRemaining&&l.jsxs("span",{className:"ml-2 text-xs",children:[" Session expires in ",le(s.timeRemaining)]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[l.jsxs(Ut,{variant:"secondary",className:"bg-orange-100 text-orange-800 text-xs",children:[l.jsx(v1,{className:"h-3 w-3 mr-1"}),"Admin Access"]}),l.jsxs(Ut,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs",children:[l.jsx(ls,{className:"h-3 w-3 mr-1"}),"Supabase Connected"]}),l.jsxs(oe,{variant:"outline",size:"sm",onClick:M,children:[l.jsx(s1,{className:"h-4 w-4 mr-1 lg:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),l.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[l.jsx("div",{className:"mb-8",children:l.jsxs(sn,{children:[l.jsxs(on,{children:[l.jsxs(an,{className:"flex items-center gap-2 text-lg lg:text-xl",children:[l.jsx(sh,{className:"h-5 w-5"}),"Supabase Cloud Storage"]}),l.jsx(Gl,{children:"Your application is connected to Supabase cloud storage for gallery synchronization and photo management"})]}),l.jsxs(ln,{className:"space-y-6",children:[l.jsxs(vd,{children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsx(yd,{children:l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ls,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"Connected"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[x.isTableReady?l.jsx(ls,{className:"h-4 w-4 text-green-600"}):l.jsx(Cg,{className:"h-4 w-4 text-yellow-600"}),l.jsxs("span",{className:"text-sm",children:["Database ",x.isTableReady?"Ready":"Setup Needed"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qb,{className:"h-4 w-4 text-blue-600"}),l.jsxs("span",{className:"text-sm",children:["Local: ",x.localGalleries," galleries"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sh,{className:"h-4 w-4 text-green-600"}),l.jsxs("span",{className:"text-sm",children:["Cloud: ",x.remoteGalleries," galleries"]})]})]})})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(oe,{onClick:U,disabled:b,variant:"outline",children:b?l.jsxs(l.Fragment,{children:[l.jsx(dn,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dn,{className:"h-4 w-4 mr-2"}),"Sync from Cloud"]})}),l.jsxs(oe,{onClick:R,variant:"outline",size:"sm",children:[l.jsx(dn,{className:"h-4 w-4 mr-2"}),"Refresh Status"]})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6 mb-8",children:[l.jsxs(sn,{children:[l.jsxs(on,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(an,{className:"text-sm font-medium",children:"Total Galleries"}),l.jsx(wb,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ln,{children:[l.jsx("div",{className:"text-2xl font-bold",children:P.totalGalleries}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Cloud synchronized"})]})]}),l.jsxs(sn,{children:[l.jsxs(on,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(an,{className:"text-sm font-medium",children:"Total Photos"}),l.jsx(jg,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ln,{children:[l.jsx("div",{className:"text-2xl font-bold",children:P.totalPhotos}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"From Supabase storage"})]})]}),l.jsxs(sn,{children:[l.jsxs(on,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(an,{className:"text-sm font-medium",children:"Protected"}),l.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ln,{children:[l.jsx("div",{className:"text-2xl font-bold",children:P.protectedGalleries}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Password protected"})]})]}),l.jsxs(sn,{children:[l.jsxs(on,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(an,{className:"text-sm font-medium",children:"Storage"}),l.jsx(Rb,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ln,{children:[l.jsx("div",{className:"text-2xl font-bold",children:"Cloud"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Supabase storage"})]})]})]}),l.jsxs(sn,{className:"mb-8",children:[l.jsxs(on,{children:[l.jsxs(an,{className:"flex items-center gap-2",children:[l.jsx(ih,{className:"h-5 w-5"}),"Create New Gallery"]}),l.jsx(Gl,{children:"Create a new photo gallery with custom settings and Supabase bucket configuration."})]}),l.jsxs(ln,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Pe,{htmlFor:"name",className:"text-sm font-medium",children:"Gallery Name *"}),l.jsx(Ke,{id:"name",placeholder:"e.g., Wedding - John & Jane",value:p.name,onChange:N=>g(O=>({...O,name:N.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Pe,{htmlFor:"bucketFolder",className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx(lt,{className:"h-4 w-4"}),"Supabase Bucket Folder"]}),l.jsx(Ke,{id:"bucketFolder",placeholder:"e.g., wedding-john-jane-2024",value:p.bucketFolder,onChange:N=>g(O=>({...O,bucketFolder:N.target.value}))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty for auto-generation. Format: folder-name or folder/subfolder"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Pe,{htmlFor:"bucketName",className:"text-sm font-medium",children:"Bucket Name"}),l.jsx(Ke,{id:"bucketName",placeholder:"photos",value:p.bucketName,onChange:N=>g(O=>({...O,bucketName:N.target.value}))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Supabase bucket name (default: photos)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Pe,{htmlFor:"password",className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx(Fi,{className:"h-4 w-4"}),"Password Protection"]}),l.jsx(Ke,{id:"password",type:"password",placeholder:"Leave empty for public gallery",value:p.password,onChange:N=>g(O=>({...O,password:N.target.value}))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Set a password to restrict access to this gallery"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Pe,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),l.jsx(Uh,{id:"description",placeholder:"Optional gallery description for clients...",value:p.description,onChange:N=>g(O=>({...O,description:N.target.value})),rows:3})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Pe,{htmlFor:"isPublic",className:"text-sm font-medium",children:"Public Gallery"}),l.jsx(Wn,{id:"isPublic",checked:p.isPublic,onCheckedChange:N=>g(O=>({...O,isPublic:N}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Pe,{htmlFor:"allowComments",className:"text-sm font-medium",children:"Allow Comments"}),l.jsx(Wn,{id:"allowComments",checked:p.allowComments,onCheckedChange:N=>g(O=>({...O,allowComments:N}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Pe,{htmlFor:"allowFavorites",className:"text-sm font-medium",children:"Allow Favorites"}),l.jsx(Wn,{id:"allowFavorites",checked:p.allowFavorites,onCheckedChange:N=>g(O=>({...O,allowFavorites:N}))})]})]})]})]}),l.jsx("div",{className:"flex gap-3",children:l.jsx(oe,{onClick:q,disabled:h,children:h?l.jsxs(l.Fragment,{children:[l.jsx(dn,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ih,{className:"h-4 w-4 mr-2"}),"Create Gallery"]})})})]})]}),l.jsxs(sn,{children:[l.jsx(on,{children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs(an,{className:"flex items-center gap-2",children:[l.jsx(Ub,{className:"h-5 w-5"}),"Galleries (",fe.length,")"]}),l.jsx(Gl,{children:"Manage your photo galleries, upload photos with subfolder organization, and configure settings."})]}),l.jsxs("div",{className:"relative w-full lg:w-80",children:[l.jsx(ha,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),l.jsx(Ke,{placeholder:"Search galleries...",value:f,onChange:N=>d(N.target.value),className:"pl-10"})]})]})}),l.jsx(ln,{children:c?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(dn,{className:"h-6 w-6 animate-spin mr-2"}),"Loading galleries..."]}):fe.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:f?"No galleries match your search.":"No galleries created yet."}):l.jsx("div",{className:"space-y-4",children:fe.map(N=>l.jsx("div",{className:"border rounded-lg p-4 lg:p-6 space-y-4",children:S===N.id?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Pe,{htmlFor:`edit-name-${N.id}`,className:"text-sm font-medium",children:"Name"}),l.jsx(Ke,{id:`edit-name-${N.id}`,value:E.name||"",onChange:O=>k(ee=>({...ee,name:O.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Pe,{htmlFor:`edit-bucket-${N.id}`,className:"text-sm font-medium",children:"Bucket Folder"}),l.jsx(Ke,{id:`edit-bucket-${N.id}`,value:E.bucketFolder||"",onChange:O=>k(ee=>({...ee,bucketFolder:O.target.value}))})]})]}),l.jsxs("div",{children:[l.jsx(Pe,{htmlFor:`edit-description-${N.id}`,className:"text-sm font-medium",children:"Description"}),l.jsx(Uh,{id:`edit-description-${N.id}`,value:E.description||"",onChange:O=>k(ee=>({...ee,description:O.target.value})),rows:2})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:E.isPublic??!0,onCheckedChange:O=>k(ee=>({...ee,isPublic:O}))}),l.jsx(Pe,{className:"text-sm",children:"Public"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:E.allowComments??!0,onCheckedChange:O=>k(ee=>({...ee,allowComments:O}))}),l.jsx(Pe,{className:"text-sm",children:"Comments"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:E.allowFavorites??!0,onCheckedChange:O=>k(ee=>({...ee,allowFavorites:O}))}),l.jsx(Pe,{className:"text-sm",children:"Favorites"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(oe,{size:"sm",onClick:se,children:[l.jsx(h1,{className:"h-4 w-4 mr-2"}),"Save"]}),l.jsxs(oe,{size:"sm",variant:"outline",onClick:Z,children:[l.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold truncate",children:N.name}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[N.password&&l.jsxs(Ut,{variant:"secondary",children:[l.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Protected"]}),l.jsxs(Ut,{variant:"outline",children:["ID: ",N.id]})]})]}),N.description&&l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:N.description}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[N.photoCount||0," photos"]}),N.bucketFolder&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(lt,{className:"h-3 w-3"}),N.bucketFolder]}),l.jsx("span",{children:N.isPublic?"Public":"Private"}),l.jsxs("span",{children:["Created ",new Date(N.createdAt).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>window.appRouter.navigateTo(`/gallery/${N.id}`),children:[l.jsx(Ng,{className:"h-4 w-4 mr-2"}),"View"]}),l.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>Q(N),children:[l.jsx(x1,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>K(N.id,N.name),className:"text-destructive hover:text-destructive",children:[l.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(S2,{galleryId:N.id,selectedSubfolder:z[N.id],onSubfolderChange:O=>Y(N.id,O),disabled:T===N.id})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Pe,{htmlFor:`upload-${N.id}`,className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(E1,{className:"h-4 w-4"}),"Upload Photos"]}),l.jsx(Ke,{id:`upload-${N.id}`,type:"file",multiple:!0,accept:"image/*",onChange:O=>V(N.id,O.target.files),disabled:T===N.id,className:"file:mr-2 file:px-3 file:py-1 file:border-0 file:text-sm file:font-medium file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),T===N.id&&D&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(dn,{className:"h-4 w-4 animate-spin"}),"Uploading ",D.completed,"/",D.total]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${D.completed/D.total*100}%`}})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:z[N.id]?`Photos will be saved to: "${z[N.id]}"`:"Photos will be saved to the gallery root"})]})]})})]})},N.id))})})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md px-4",children:[l.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(mo,{className:"h-10 w-10 text-orange-600"})}),l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Admin Panel"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"Access the admin panel to manage galleries, view statistics, and configure system settings."}),l.jsxs("div",{className:"bg-card border rounded-lg p-6 mb-6 text-left",children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Admin Features:"}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsx("li",{children:" Create and manage photo galleries"}),l.jsx("li",{children:" Supabase cloud storage integration"}),l.jsx("li",{children:" Upload and organize photos by subfolder"}),l.jsx("li",{children:" Set password protection for galleries"}),l.jsx("li",{children:" View statistics and analytics"}),l.jsx("li",{children:" Sync galleries across devices"})]})]}),l.jsxs(oe,{onClick:()=>n(!0),size:"lg",children:[l.jsx(mo,{className:"h-5 w-5 mr-2"}),"Access Admin Panel"]})]})}),l.jsx(hv,{isOpen:r,onClose:()=>{n(!1),window.appRouter.navigateTo("/")},onAuthenticate:A,type:"admin",title:"Admin Authentication",description:"Enter the admin password to access the management panel."})]})}class k2 extends w.Component{constructor(){super(...arguments);be(this,"state",{hasError:!1,error:null,errorInfo:null});be(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});be(this,"handleGoHome",()=>{window.appRouter?window.appRouter.navigateTo("/"):window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("div",{className:"bg-card border border-destructive/20 rounded-lg p-6 shadow-lg",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-destructive/10 rounded-full mx-auto mb-4",children:l.jsx(_1,{className:"h-6 w-6 text-destructive"})}),l.jsx("h1",{className:"text-xl font-semibold text-center mb-2 text-destructive",children:"Something went wrong"}),l.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),this.state.error&&l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-medium text-sm mb-2",children:"Error Details:"}),l.jsx("div",{className:"text-xs font-mono text-destructive bg-background rounded p-2 overflow-auto max-h-32",children:this.state.error.message})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:this.handleRetry,className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:[l.jsx(dn,{className:"h-4 w-4"}),"Try Again"]}),l.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded-md hover:bg-secondary/90 transition-colors",children:[l.jsx(Qb,{className:"h-4 w-4"}),"Go Home"]})]}),!1]}),l.jsxs("div",{className:"text-center mt-6 text-sm text-muted-foreground",children:[l.jsx("p",{children:"If this error persists, try:"}),l.jsxs("ul",{className:"mt-2 space-y-1",children:[l.jsx("li",{children:" Refreshing the page"}),l.jsx("li",{children:" Clearing your browser cache"}),l.jsx("li",{children:" Checking your internet connection"})]})]})]})}):this.props.children}}const E2=({...t})=>l.jsx(R_,{theme:"system",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t}),Yn={getCurrentRoute:()=>{try{const t=window.location.hash;if(t&&t.startsWith("#/")){const r=t.substring(1);return console.log(" Using hash route:",r),r}const e=window.location.pathname;return e!=="/"?(console.log(" Converting pathname to hash:",e),window.location.hash=e,e):(console.log(" Using home route"),"/")}catch(t){return console.error("Error getting current route:",t),"/"}},navigateTo:t=>{try{console.log(" Navigating to:",t),t==="/"?(window.location.hash="",document.title="Galerie Photo"):(window.location.hash=t,t.startsWith("/gallery/")?document.title=`Galerie ${t.split("/")[2]} - Galerie Photo`:t.startsWith("/favorites/")?document.title=`Slection ${t.split("/")[2]} - Galerie Photo`:t==="/admin"&&(document.title="Administration - Galerie Photo")),window.dispatchEvent(new HashChangeEvent("hashchange"))}catch(e){console.error("Navigation error:",e),window.location.hash=t==="/"?"":t}},navigateToAndReload:t=>{try{console.log(" Navigate with reload to:",t),window.location.hash=t==="/"?"":t,window.location.reload()}catch(e){console.error("Navigate with reload error:",e),window.location.reload()}},goHome:()=>{try{console.log(" Going home..."),window.location.hash="",document.title="Galerie Photo",window.dispatchEvent(new HashChangeEvent("hashchange"))}catch(t){console.error("Go home error:",t),window.location.hash=""}},getGalleryId:t=>{const e=t.match(/^\/gallery\/(.+)$/);return e?e[1]:null},isAdminRoute:t=>t==="/admin",getFavoritesGalleryId:t=>{const e=t.match(/^\/favorites\/(.+)$/);return e?e[1]:null}};window.appRouter=Yn;function C2(){return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-10 h-10 border-3 border-muted border-t-primary rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})}function N2(){const[t,e]=w.useState("/"),[r,n]=w.useState(!0),[s,o]=w.useState(null);if(w.useEffect(()=>{console.log(" Photo Gallery App initializing...");try{const u=Yn.getCurrentRoute();console.log(" Initial route:",u),e(u),u!=="/"&&!window.location.hash&&(window.location.hash=u);const f=setTimeout(()=>n(!1),300),d=h=>{try{const y=Yn.getCurrentRoute();console.log(" Route changed to:",y,"Event:",h==null?void 0:h.type),e(x=>x!==y?(console.log(" Route update:",x,"->",y),o(null),y):x)}catch(y){console.error("Route change error:",y),o("Navigation error occurred")}};if(window.addEventListener("hashchange",d),window.addEventListener("popstate",d),window.location.pathname!=="/"&&!window.location.hash){console.log(" Redirecting pathname to hash routing");const h=window.location.pathname;window.history.replaceState({},"","/"),window.location.hash=h}return()=>{clearTimeout(f),window.removeEventListener("hashchange",d),window.removeEventListener("popstate",d)}}catch(u){console.error("App initialization error:",u),o("Failed to initialize application"),n(!1)}},[]),r)return l.jsx(C2,{});if(s)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-semibold text-destructive mb-4",children:"Application Error"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:s}),l.jsx("button",{onClick:()=>{o(null),window.location.hash="",e("/")},className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 mr-4",children:"Go Home"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-secondary text-secondary-foreground px-4 py-2 rounded-md hover:bg-secondary/90",children:"Reload Page"})]})});const i=Yn.getGalleryId(t),a=Yn.getFavoritesGalleryId(t),c=Yn.isAdminRoute(t);return console.log(" Rendering route:",{currentRoute:t,galleryId:i,favoritesGalleryId:a,isAdmin:c}),l.jsx(k2,{children:l.jsxs("div",{className:"min-h-screen bg-background",children:[i?l.jsx(eC,{galleryId:i}):a?l.jsx(tC,{galleryId:a}):c?l.jsx(_2,{}):l.jsx(T1,{}),l.jsx(E2,{})]})})}Yl.createRoot(document.getElementById("root")).render(l.jsx($.StrictMode,{children:l.jsx(N2,{})}));
